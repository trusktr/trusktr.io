{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 9944a29f6d10f474a155","webpack:///./node_modules/core-js/library/modules/_global.js","webpack:///./node_modules/core-js/library/modules/_wks.js","webpack:///./node_modules/famous/src/core/Transform.js","webpack:///./node_modules/famous/src/core/EventHandler.js","webpack:///./node_modules/jss/lib/utils.js","webpack:///./node_modules/core-js/library/modules/_core.js","webpack:///./node_modules/core-js/library/modules/_hide.js","webpack:///./node_modules/core-js/library/modules/_an-object.js","webpack:///./node_modules/famous/src/transitions/Transitionable.js","webpack:///./node_modules/core-js/library/modules/_descriptors.js","webpack:///./node_modules/core-js/library/modules/_iterators.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/library/modules/_export.js","webpack:///./node_modules/core-js/library/modules/_ctx.js","webpack:///./node_modules/core-js/library/modules/_a-function.js","webpack:///./node_modules/core-js/library/modules/_object-dp.js","webpack:///./node_modules/core-js/library/modules/_is-object.js","webpack:///./node_modules/core-js/library/modules/_has.js","webpack:///./node_modules/core-js/library/modules/_cof.js","webpack:///./node_modules/army-knife/forLength.js","webpack:///./node_modules/css-vendor/lib/prefix.js","webpack:///./node_modules/is-in-browser/dist/module.js","webpack:///./node_modules/babel-runtime/core-js/promise.js","webpack:///./node_modules/core-js/library/modules/_to-integer.js","webpack:///./node_modules/core-js/library/modules/_defined.js","webpack:///./node_modules/core-js/library/modules/_dom-create.js","webpack:///./node_modules/core-js/library/modules/_to-iobject.js","webpack:///./node_modules/core-js/library/modules/_shared-key.js","webpack:///./node_modules/core-js/library/modules/_set-to-string-tag.js","webpack:///./node_modules/core-js/library/modules/_new-promise-capability.js","webpack:///./node_modules/famous/src/utilities/Utility.js","webpack:///./node_modules/famous/src/transitions/Easing.js","webpack:///./node_modules/famous/src/core/Modifier.js","webpack:///./node_modules/famous/src/transitions/TransitionableTransform.js","webpack:///./node_modules/famous/src/core/RenderNode.js","webpack:///./node_modules/famous/src/core/Entity.js","webpack:///./node_modules/famous/src/core/OptionsManager.js","webpack:///./node_modules/famous/src/core/Surface.js","webpack:///./node_modules/jss/lib/StyleSheet.js","webpack:///./node_modules/jss/lib/createRule.js","webpack:///./node_modules/jss/lib/rules/Rule.js","webpack:///./node_modules/jss/lib/findRenderer.js","webpack:///./node_modules/awaitbox/dom/documentReady.js","webpack:///./node_modules/core-js/library/modules/_iter-define.js","webpack:///./node_modules/core-js/library/modules/_library.js","webpack:///./node_modules/core-js/library/modules/_fails.js","webpack:///./node_modules/core-js/library/modules/_property-desc.js","webpack:///./node_modules/core-js/library/modules/_to-length.js","webpack:///./node_modules/core-js/library/modules/_shared.js","webpack:///./node_modules/core-js/library/modules/_uid.js","webpack:///./node_modules/core-js/library/modules/_enum-bug-keys.js","webpack:///./node_modules/core-js/library/modules/_html.js","webpack:///./node_modules/core-js/library/modules/_classof.js","webpack:///./node_modules/core-js/library/modules/_species-constructor.js","webpack:///./node_modules/core-js/library/modules/_task.js","webpack:///./node_modules/core-js/library/modules/_perform.js","webpack:///./node_modules/core-js/library/modules/_promise-resolve.js","webpack:///./node_modules/document-register-element/build/document-register-element.js","webpack:///./src/utils.js","webpack:///./src/Molecule.js","webpack:///./src/Grid.js","webpack:///./src/Plane.js","webpack:///./src/DoubleSidedPlane.js","webpack:///./src/Calendar.js","webpack:///./src/lib/jss/index.js","webpack:///./src/PushMenuLayout.js","webpack:///./src/core/Observable.js","webpack:///./src/core/XYZValues.js","webpack:///./src/core/Utility.js","webpack:///./src/core/TreeNode.js","webpack:///./src/core/webglUtils.js","webpack:///./src/core/WebGLRenderer.js","webpack:///./src/core/Motor.js","webpack:///./src/core/Sizeable.js","webpack:///./src/core/Transformable.js","webpack:///./src/html/node-style.js","webpack:///./src/html/scene-style.js","webpack:///./src/html/web-component.js","webpack:///./src/html/node.js","webpack:///./src/html/base.js","webpack:///./src/html/scene.js","webpack:///./src/core/Scene.js","webpack:///./src/core/ImperativeBase.js","webpack:///./src/core/Node.js","webpack:///./src/core/ElementManager.js","webpack:///./src/core/index.js","webpack:///./src/components/PushPaneLayout.js","webpack:///./src/html/push-pane-layout.js","webpack:///./src/html/index.js","webpack:///./src/components/Cube.js","webpack:///./src/components/index.js","webpack:///./src/index.js","webpack:///./node_modules/famous/src/transitions/MultipleTransition.js","webpack:///./node_modules/famous/src/transitions/TweenTransition.js","webpack:///./node_modules/famous/src/core/SpecParser.js","webpack:///./node_modules/famous/src/core/EventEmitter.js","webpack:///./node_modules/famous/src/core/Engine.js","webpack:///./node_modules/famous/src/core/Context.js","webpack:///./node_modules/famous/src/core/ElementAllocator.js","webpack:///./node_modules/army-knife/polyfill.Function.name.js","webpack:///./node_modules/famous/src/core/ElementOutput.js","webpack:///./node_modules/jss/lib/index.js","webpack:///./node_modules/jss/lib/Jss.js","webpack:///./node_modules/jss/lib/rules/SimpleRule.js","webpack:///./node_modules/jss/lib/rules/KeyframeRule.js","webpack:///./node_modules/jss/lib/rules/ConditionalRule.js","webpack:///./node_modules/jss/lib/rules/FontFaceRule.js","webpack:///./node_modules/jss/lib/backends/DomRenderer.js","webpack:///./node_modules/jss/lib/backends/VirtualRenderer.js","webpack:///./node_modules/jss/lib/PluginsRegistry.js","webpack:///./node_modules/jss/lib/SheetsRegistry.js","webpack:///./node_modules/jss-nested/lib/index.js","webpack:///./node_modules/jss-extend/lib/index.js","webpack:///./node_modules/jss-px/lib/index.js","webpack:///./node_modules/jss-vendor-prefixer/lib/index.js","webpack:///./node_modules/css-vendor/lib/index.js","webpack:///./node_modules/css-vendor/lib/supported-property.js","webpack:///./node_modules/css-vendor/lib/camelize.js","webpack:///./node_modules/css-vendor/lib/supported-value.js","webpack:///./node_modules/jss-camel-case/lib/index.js","webpack:///./node_modules/jss-props-sort/lib/index.js","webpack:///./node_modules/famous/src/inputs/TouchSync.js","webpack:///./node_modules/famous/src/inputs/TouchTracker.js","webpack:///./node_modules/famous/src/inputs/GenericSync.js","webpack:///./node_modules/army-knife/callAfter.js","webpack:///./node_modules/geometry-interfaces/global.js","webpack:///./node_modules/babel-runtime/regenerator/index.js","webpack:///./node_modules/regenerator-runtime/runtime-module.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/core-js/library/fn/promise.js","webpack:///./node_modules/core-js/library/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/library/modules/_string-at.js","webpack:///./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/library/modules/_to-primitive.js","webpack:///./node_modules/core-js/library/modules/_redefine.js","webpack:///./node_modules/core-js/library/modules/_iter-create.js","webpack:///./node_modules/core-js/library/modules/_object-create.js","webpack:///./node_modules/core-js/library/modules/_object-dps.js","webpack:///./node_modules/core-js/library/modules/_object-keys.js","webpack:///./node_modules/core-js/library/modules/_object-keys-internal.js","webpack:///./node_modules/core-js/library/modules/_iobject.js","webpack:///./node_modules/core-js/library/modules/_array-includes.js","webpack:///./node_modules/core-js/library/modules/_to-absolute-index.js","webpack:///./node_modules/core-js/library/modules/_object-gpo.js","webpack:///./node_modules/core-js/library/modules/_to-object.js","webpack:///./node_modules/core-js/library/modules/web.dom.iterable.js","webpack:///./node_modules/core-js/library/modules/es6.array.iterator.js","webpack:///./node_modules/core-js/library/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/library/modules/_iter-step.js","webpack:///./node_modules/core-js/library/modules/es6.promise.js","webpack:///./node_modules/core-js/library/modules/_an-instance.js","webpack:///./node_modules/core-js/library/modules/_for-of.js","webpack:///./node_modules/core-js/library/modules/_iter-call.js","webpack:///./node_modules/core-js/library/modules/_is-array-iter.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator-method.js","webpack:///./node_modules/core-js/library/modules/_invoke.js","webpack:///./node_modules/core-js/library/modules/_microtask.js","webpack:///./node_modules/core-js/library/modules/_redefine-all.js","webpack:///./node_modules/core-js/library/modules/_set-species.js","webpack:///./node_modules/core-js/library/modules/_iter-detect.js","webpack:///./node_modules/core-js/library/modules/es7.promise.finally.js","webpack:///./node_modules/core-js/library/modules/es7.promise.try.js","webpack:///./node_modules/babel-runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/awaitbox/timers/sleep.js","webpack:///./node_modules/two.js/build/two.js"],"names":["super","this"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA,yCAAyC;;;;;;;ACLzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,aAAa;AAC5B,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,UAAU;AACzB,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,aAAa;AAC5B;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,UAAU;AACzB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mCAAmC;AACnC,8BAA8B;AAC9B,6BAA6B;AAC7B,iDAAiD;AACjD,uCAAuC;;AAEvC;AACA;AACA,oBAAoB;AACpB;;AAEA;AACA;;AAEA;AACA,wCAAwC;AACxC,wCAAwC;AACxC,wCAAwC;;AAExC;AACA,oCAAoC;AACpC,oCAAoC;AACpC,oCAAoC;;AAEpC;AACA,sBAAsB;AACtB,sBAAsB;AACtB,sBAAsB;;AAEtB;AACA;;AAEA;AACA;AACA,gCAAgC;AAChC,+BAA+B;AAC/B,gDAAgD;AAChD,yCAAyC;;AAEzC;AACA;;AAEA;AACA,2CAA2C;AAC3C,2CAA2C;;AAE3C;AACA,uCAAuC;AACvC,sBAAsB;;AAEtB;AACA,2CAA2C;AAC3C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,MAAM;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,MAAM;AACxB;AACA;AACA;AACA;;AAEA;;;;;;;ACvqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B;AAC7B,+BAA+B;;AAE/B,2BAA2B;AAC3B,oCAAoC;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;AACA,mBAAmB,8BAA8B;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,aAAa;AAC7B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,aAAa;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,yBAAyB;AACxC,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,0BAA0B;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;8CC3MA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,OAAO;AACjB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU,OAAO;AACjB,YAAY;AACZ;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAU;AACV,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA,wEAAwE;;AAExE;AACA;;AAEA;AACA,kDAAkD;AAClD;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB,sBAAsB;AAC/C,8EAA8E;AAC9E;AACA,KAAK,qEAAqE;AAC1E;;AAEA,6EAA6E;;AAE7E;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,CAAC,G;;;;;;;ACjJD,6BAA6B;AAC7B,uCAAuC;;;;;;;ACDvC;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;;;;;;ACPA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mDAAmD;AAClE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yDAAyD;AACxE;AACA,eAAe,YAAY,4BAA4B;AACvD,kCAAkC;AAClC;AACA,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,4CAA4C;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mCAAmC;AACnC;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,gBAAgB,sCAAsC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChOA;AACA;AACA,iCAAiC,QAAQ,mBAAmB,UAAU,EAAE,EAAE;AAC1E,CAAC;;;;;;;ACHD;;;;;;;ACAA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACpBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA,kFAAkF;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,cAAc;AACd,cAAc;AACd,cAAc;AACd,eAAe;AACf,eAAe;AACf,eAAe;AACf,gBAAgB;AAChB;;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnBA;AACA;AACA;AACA;;;;;;;ACHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;AACA;AACA;;;;;;;ACfA;AACA;AACA;;;;;;;ACFA,uBAAuB;AACvB;AACA;AACA;;;;;;;ACHA,iBAAiB;;AAEjB;AACA;AACA;;;;;;;;ACJA;;AAEA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;ACXA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F,YAAY;AACZ;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,sBAAsB,oB;;;;;;;;AChDtB;AAAA,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;;AAEA;;;;;;;ACJA,kBAAkB,wD;;;;;;ACAlB;AACA;AACA;AACA;AACA;AACA;;;;;;;ACLA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACLA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;;AAEA;AACA,oEAAoE,iCAAiC;AACrG;;;;;;;;ACNA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,OAAO;AACzB,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,mBAAmB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,0BAA0B,QAAQ;AAClC,kCAAkC,wBAAwB;AAC1D;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,0BAA0B,QAAQ;AAClC,kCAAkC,wBAAwB;AAC1D;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,0BAA0B,QAAQ;AAClC,kCAAkC,8BAA8B;AAChE;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,eAAe;AAC9B,eAAe,SAAS;AACxB,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,eAAe;AAC9B,eAAe,SAAS;AACxB,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,eAAe;AAC9B,eAAe,SAAS;AACxB,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,eAAe;AAC9B,eAAe,SAAS;AACxB,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,eAAe;AAC9B,eAAe,SAAS;AACxB,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,eAAe;AAC9B,eAAe,SAAS;AACxB,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/aA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,UAAU;AACxD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qBAAqB,KAAK;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,MAAM;AAC/B,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,OAAO;AAChC,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,OAAO;AAChC,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,OAAO;AAChC,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,MAAM;AAC3B,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;AACA;AACA,qBAAqB,gBAAgB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,MAAM;AACjC,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,OAAO;AACjC,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,OAAO;AACjC,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,OAAO;AACjC,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,MAAM;AAChC,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;AACA;AACA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,OAAO;AAChC,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,OAAO;AAChC,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,OAAO;AAChC,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,MAAM;AAC/B,4BAA4B,OAAO;AACnC,0BAA0B,SAAS;AACnC,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,KAAK;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAA0B,OAAO;AACjC;AACA;AACA,qBAAqB,KAAK;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA,qBAAqB,KAAK;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,KAAK;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;;;;ACxfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACpKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA,2EAA2E,kCAAkC;AAC7G;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA,0FAA0F,sBAAsB;AAChH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,yBAAyB;AACxC,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,aAAa;AAC5B,eAAe,aAAa;AAC5B,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA,mBAAmB,sBAAsB;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,+BAA+B;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,+BAA+B,8BAA8B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2BAA2B,sBAAsB;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,2BAA2B,8BAA8B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC7eA;;AAEA;AACA;AACA,CAAC;;AAED,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;;AAEA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,MAAM;AACtB;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED,6B;;;;;;;ACjTA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA,sEAAsE;AACtE,wEAAwE;;AAExE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,C;;;;;;;ACpEA;;AAEA;AACA;AACA,CAAC;;AAED,oGAAoG,mBAAmB,EAAE,mBAAmB,kGAAkG;;AAE9O,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,cAAc;AAC7B,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB;AAChB;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,sBAAsB;AACnD;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED,uB;;;;;;;AC/LA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA,wEAAwE;;AAExE;AACA;AACA,C;;;;;;;AC/BA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;;AAEA;AACA,CAAC;AACD,yC;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;;AAEA,8BAA8B,aAAa;;AAE3C;AACA;AACA;AACA;AACA;AACA,yCAAyC,oCAAoC;AAC7E,6CAA6C,oCAAoC;AACjF,KAAK,4BAA4B,oCAAoC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA,kCAAkC,2BAA2B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;ACrEA;;;;;;;ACAA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACPA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;;;;;;;ACLA;AACA;AACA,kDAAkD;AAClD;AACA,uCAAuC;AACvC;;;;;;;ACLA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;;;;;;;ACHA;AACA;;;;;;;ACDA;AACA;AACA;AACA;AACA,2BAA2B,kBAAkB,EAAE;;AAE/C;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnFA;AACA;AACA,YAAY;AACZ,GAAG;AACH,YAAY;AACZ;AACA;;;;;;;ACNA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACPA;AACA,mBAAmB,aAAa,iBAAiB,uBAAuB,IAAI,eAAe,eAAe,yBAAyB,IAAI,0BAA0B,eAAe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,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,KAAK,IAAI,GAAG,GAAG,GAAG;QACxB,MAAM,KAAK,IAAI,GAAG,GAAG,GAAG;QACxB,MAAM,KAAK,IAAI,GAAG,GAAG,GAAG;QACxB,MAAM,KAAK,IAAI,GAAG,GAAG,GAAG;QACxB,MAAM,KAAK,IAAI,GAAG,GAAG,GAAG;QACxB,MAAM,KAAK,IAAI,GAAG,GAAG,GAAG;QACxB,MAAM,KAAK,IAAI,GAAG,GAAG,GAAG;QACxB,MAAM,KAAK,IAAI,GAAG,GAAG,GAAG;QACxB,MAAM,KAAK,IAAI,GAAG,GAAG,GAAG;QACxB,MAAM,KAAK,IAAI,GAAG,GAAG,GAAG;QACxB,MAAM,MAAM,GAAG,GAAG,GAAG,GAAG;QACxB,MAAM,MAAM,GAAG,GAAG,GAAG,GAAG;QACxB,MAAM,MAAM,GAAG,GAAG,GAAG,GAAG;QACxB,MAAM,MAAM,GAAG,GAAG,GAAG,GAAG;QACxB,MAAM,MAAM,GAAG,GAAG,GAAG,GAAG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,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,MAAM,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;;QAExB,OAAO;YACH,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;YAC7C,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GA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K,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SAC7C,CAAC;QACF,OAAO,IAAI,CAAC;KACf,CACJ;;;EA5EyB,SA4EzB;AACD,uDAAe,SAAI,EAAC;;;;;;AChGK;AACoB;;AAK5C;;;;;;;;;;;;;ACNgC;AACgB;AACxB;AACQ;AACN;AACkB;;AAEb;AACF;AACA;AACY;;AAczC;;AAEM,MAAM,OAAO,GAAG,QAAQ;AAAA;AAAA;;;;;;;AC1B/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC;AACA;AACA,uBAAuB,4BAA4B;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;;AAEA;;;;;;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yDAAyD;AACxE;AACA,eAAe,YAAY,4BAA4B;AACvD,kCAAkC;AAClC;AACA,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,4CAA4C;AAC3D;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,gBAAgB,sCAAsC;AACtD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACvaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,eAAe,QAAQ;AACvB,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;;;;;;;AC7KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA,2BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,yBAAyB;AACxC,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,qBAAqB;;AAExC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,yBAAyB;AACxC,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB,gBAAgB,QAAQ;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;;;;;;ACtZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,yBAAyB;AACxC,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;;;;;;;ACvOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB,KAAK;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;;;;;;;;ACvGA;;AAEA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA,iDAAiD,cAAc;;AAE/D;AACA;AACA,KAAK;AACL;AACA,kD;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,yBAAyB;AACxC,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,aAAa;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC/TA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sB;;;;;;;ACrCA;;AAEA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,eAAe;AAClE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC,eAAe,uBAAuB;AACtE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA,GAAG;AACH;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,qCAAqC,sBAAsB;AAC3D;AACA;AACA,eAAe;AACf;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED,kC;;;;;;;AC3FA;;AAEA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,2BAA2B,2BAA2B;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED,uB;;;;;;;ACxDA;;AAEA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,KAAK;AACpB,gBAAgB;AAChB;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,iDAAiD,kBAAkB;AAC5I;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,yBAAyB;AAClD;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED,8B;;;;;;;AC/IA;;AAEA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED,kC;;;;;;;AClDA;;AAEA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;;AAEA,GAAG;AACH;AACA;AACA,yBAAyB,8BAA8B;AACvD;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED,kC;;;;;;;ACxDA;;AAEA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa,WAAW;AACxB;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,WAAW;AAC1B;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA,CAAC;;AAED,iC;;;;;;;ACxDA;;AAEA;AACA;AACA,CAAC;;AAED,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C,iBAAiB,eAAe;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;ACzCA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,yBAAyB,6BAA6B;AACtD;AACA;AACA,KAAK;AACL;AACA,2EAA2E;AAC3E;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gCAAgC;AAChC;AACA,C;;;;;;;ACzCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oC;;;;;;;AC/CA;;AAEA;AACA;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,yBAAyB,eAAe,EAAE;;AAE9Q;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oC;;;;;;;AC9CA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qD;;;;;;;ACnCA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,C;;;;;;;ACvEA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,C;;;;;;;ACpBA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,C;;;;;;;ACzEA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB,sBAAsB;AAC/C;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,E;;;;;;;ACpDA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,mBAAmB;AACvD;AACA;AACA;AACA,6CAA6C,oBAAoB;AACjE,8CAA8C,qBAAqB;AACnE,2CAA2C,kBAAkB,EAAE;AAC/D;AACA,yBAAyB,OAAO;AAChC,mCAAmC,OAAO;AAC1C,+BAA+B,QAAQ;AACvC,8CAA8C,OAAO;AACrD,+BAA+B,OAAO;AACtC,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8BAA8B;AAC9B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB,OAAO;AAChC,mCAAmC,OAAO;AAC1C,+BAA+B,QAAQ;AACvC,+BAA+B,OAAO;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;;;;;;;AC1NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB,iCAAiC;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uBAAuB,iCAAiC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uBAAuB,iCAAiC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,mCAAmC,QAAQ;AAC3C,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,aAAa,qBAAqB;AACvD;AACA,yBAAyB,aAAa;AACtC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,OAAO,eAAe,wBAAwB;AACxE;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB,oBAAoB;AACzC,oCAAoC;AACpC;AACA;AACA;AACA,2BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC1HA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oCAAoC;AACpC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA,+CAA+C;;AAE/C;AACA;AACA,EAAE;;AAEF,uCAAuC,uCAAuC,kBAAkB;;AAEhG;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B,4BAA4B,aAAa,EAAE;;AAExE,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,EAAE;;AAEF,kCAAkC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEnjB,4CAA4C,mBAAmB,4BAA4B,qDAAqD,gBAAgB,kDAAkD,8DAA8D,0BAA0B,4CAA4C,uBAAuB,kBAAkB,EAAE,OAAO,eAAe,iBAAiB,iBAAiB,eAAe,2BAA2B,oBAAoB,EAAE,EAAE,4BAA4B,mBAAmB,EAAE,OAAO,uBAAuB,4BAA4B,kBAAkB,EAAE,8BAA8B,EAAE,EAAE;;AAE5pB,uCAAuC,uCAAuC,kBAAkB;;AAEhG,kDAAkD,0CAA0C,0DAA0D,EAAE;;AAExJ,2CAA2C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE7e;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,cAAc;AACd;AACA,kBAAkB;AAClB;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,MAAM;;AAEN;AACA,EAAE;;AAEF;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,EAAE;;AAEF,kCAAkC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEnjB,uCAAuC,uCAAuC,kBAAkB;;AAEhG,kDAAkD,0CAA0C,0DAA0D,EAAE;;AAExJ;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA,2BAA2B;;AAE3B,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,uDAAuD,SAAS;AAChE;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA,EAAE;;AAEF;AACA;AACA;;AAEA,OAAO;AACP;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,EAAE;;AAEF,wCAAwC,mBAAmB,4BAA4B,iDAAiD,gBAAgB,kDAAkD,8DAA8D,0BAA0B,4CAA4C,uBAAuB,kBAAkB,EAAE,OAAO,aAAa,gBAAgB,gBAAgB,eAAe,2BAA2B,oBAAoB,EAAE,EAAE,4BAA4B,mBAAmB,EAAE,OAAO,uBAAuB,4BAA4B,kBAAkB,EAAE,8BAA8B,EAAE,EAAE;;AAEhpB,kCAAkC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEnjB,2CAA2C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE7e,kDAAkD,0CAA0C,0DAA0D,EAAE;;AAExJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA,EAAE;;AAEF;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,OAAO;AACP;AACA,CAAC;AACD,C;;;;;;ACnhCA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC/tBA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AACA;;AAEA;AACA;AACA,6BAA6B;AAC7B,cAAc;AACd;AACA,CAAC;AACD;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,UAAU;AACV,CAAC;;;;;;;AChBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChBA;AACA,qEAAsE,mBAAmB,UAAU,EAAE,EAAE;AACvG,CAAC;;;;;;;ACFD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA,2FAAkF,aAAa,EAAE;;AAEjG;AACA,qDAAqD,4BAA4B;AACjF;AACA;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;ACxCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACZA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,YAAY,eAAe;AAChC;AACA,KAAK;AACL;AACA;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACZA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,cAAc;AACd,iBAAiB;AACjB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;;;;;;ACjCA,8BAA8B;;;;;;;ACA9B;AACA,UAAU;AACV;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,kCAAkC;AACrD,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,eAAe,uCAAuC;AACtD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH,kBAAkB,yBAAyB,KAAK;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D,oBAAoB;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;AC/RD;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,iBAAiB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA,mEAAmE,gBAAgB;AACnF;AACA;AACA,GAAG,4CAA4C,gCAAgC;AAC/E;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uCAAuC,sBAAsB,EAAE;AAC/D;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC,GAAG;AACH;;;;;;;ACbA;AACA;;AAEA;AACA;AACA,iCAAiC,qBAAqB;AACtD;AACA,iCAAiC,SAAS,EAAE;AAC5C,CAAC,YAAY;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,SAAS,qBAAqB;AAC3D,iCAAiC,aAAa;AAC9C;AACA,GAAG,YAAY;AACf;AACA;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA,8DAA8D,UAAU,EAAE;AAC1E,KAAK;AACL;AACA,8DAA8D,SAAS,EAAE;AACzE,KAAK;AACL;AACA,CAAC,EAAE;;;;;;;;ACnBH;AACA;AACA;AACA;AACA;;AAEA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,CAAC,EAAE;;;;;;;;ACXH;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;;AAEA;AACA,KAAK;AACL;AACA,E;;;;;;;ACrCA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,iC;;;;;;8CCnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uBAAuB,cAAc;AACrC;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kEAAkE;;AAElE;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C,iCAAiC,EAAE;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;;AAGA,KAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS;;AAET,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA,WAAW;AACX;;AAEA,OAAO;;AAEP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,OAAO;;AAEP;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA,SAAS;;AAET;;AAEA,OAAO;;AAEP;;AAEA;AACA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA2B,aAAa;;AAExC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;;AAEA;;AAEA;AACA;;AAEA,qDAAqD,OAAO;AAC5D;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;;AAEA;AACA;AACA;AACA,WAAW;;AAEX;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,0DAA0D,OAAO;;AAEjE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,aAAa;;AAEb;;AAEA;;AAEA,WAAW;;AAEX;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,6CAA6C;AAC7C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB;;AAEjB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,6CAA6C;AAC7C;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB;;AAEjB;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qCAAqC,yDAAyD;AAC9F;AACA,wCAAwC;AACxC;AACA,wCAAwC,kEAAkE;;AAE1G;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA,WAAW;;AAEX;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,yBAAyB,0BAA0B;;AAEnD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,yBAAyB,0BAA0B;;AAEnD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,SAAS;;AAET,OAAO;;AAEP;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;;AAEA,uBAAuB,OAAO;;AAE9B;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB;AACnB;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,OAAO;;AAEP;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,SAAS;;AAET,OAAO;;AAEP;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;AACA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA;AACA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA,OAAO;;AAEP;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA;;AAEA,4CAA4C;AAC5C;;AAEA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA2C,OAAO;;AAElD;AACA;;AAEA;AACA;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,SAAS;;AAET;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,qBAAqB,8BAA8B;AACnD;AACA;AACA;;AAEA;AACA;;AAEA,SAAS;;AAET;;AAEA;;AAEA;AACA,iBAAiB,8BAA8B;AAC/C;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,mBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AAAA;AACL,GAAG;AACH;AACA;;AAEA;;AAEA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA,GAAG;;AAEH,CAAC;;AAED;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA,cAAc;AACd,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA,cAAc;AACd,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;;AAEA;;AAEA;;AAEA,CAAC;;AAED;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0BAA0B;;AAE1B;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB;;AAEhB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,SAAS;;AAET;;AAEA;;AAEA,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB;;AAEhB;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;AAED;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB,0BAA0B;AACjD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,4DAA4D;AAC5D;;AAEA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,yDAAyD;AACzD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,SAAS;;AAET;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,yDAAyD;AACzD;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,yBAAyB,uBAAuB;;AAEhD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,yBAAyB,uBAAuB;;AAEhD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;;AAET;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB,0BAA0B;AACjD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,uBAAuB,qBAAqB;;AAE5C;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,aAAa;AACb;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB,uBAAuB;AAChD;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB,uBAAuB;AAChD;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;AACA;AACA;;AAEA,CAAC;;AAED;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,sEAAsE,yBAAyB;;AAE/F;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,yBAAyB,2BAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA,yBAAyB,8BAA8B;AACvD;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,qBAAqB;;AAE5C;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,OAAO;;AAEP;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,WAAW;AACX;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,WAAW;AACX;AACA;;AAEA;;AAEA;;AAEA,OAAO;;AAEP;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sCAAsC;AACtC;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,OAAO;;AAEP;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB,uBAAuB;AAChD;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB,uBAAuB;AAChD;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;;AAEP;AACA,mCAAmC;AACnC,wCAAwC;AACxC;AACA,+BAA+B;AAC/B,mCAAmC;AACnC;AACA,sCAAsC;AACtC;AACA,sBAAsB;AACtB,mEAAmE;AACnE,mDAAmD;AACnD,kDAAkD;AAClD;AACA,sEAAsE;AACtE,8CAA8C;AAC9C,UAAU;AACV;;AAEA;AACA,iCAAiC;AACjC;AACA,mCAAmC;AACnC,sCAAsC;AACtC;AACA,sBAAsB;AACtB,8DAA8D;AAC9D,UAAU;AACV;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;AAED;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,OAAO;;AAEP;;AAEA,GAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA,CAAC;;AAED;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB;AACtB,wBAAwB;AACxB,mBAAmB;;AAEnB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA;;AAEA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA,GAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,OAAO;AACxB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wDAAwD,OAAO;;AAE/D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qBAAqB,2BAA2B;AAChD;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;;AAET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A;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,0CAA0C,YAAY;;AAEtD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,YAAY;;AAEjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB,WAAW;;AAElC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA,CAAC;;AAED;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA,CAAC;;AAED;;AAEA;AACA;AACA;;AAEA,yEAAyE,yBAAyB;AAClG;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA,GAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;A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AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,OAAO;;AAEP;;AAEA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA,CAAC;;AAED;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA;AACA;;;AAGA,GAAG;;AAEH;;AAEA,CAAC;;AAED;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;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;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA,OAAO;;AAEP;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;;AAEA,CAAC","file":"global.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"infamous\"] = factory();\n\telse\n\t\troot[\"infamous\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 58);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9944a29f6d10f474a155","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_global.js\n// module id = 0\n// module chunks = 0","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks.js\n// module id = 1\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n\n    /**\n     *  A high-performance static matrix math library used to calculate\n     *    affine transforms on surfaces and other renderables.\n     *    Famo.us uses 4x4 matrices corresponding directly to\n     *    WebKit matrices (column-major order).\n     *\n     *    The internal \"type\" of a Matrix is a 16-long float array in\n     *    row-major order, with:\n     *    elements [0],[1],[2],[4],[5],[6],[8],[9],[10] forming the 3x3\n     *          transformation matrix;\n     *    elements [12], [13], [14] corresponding to the t_x, t_y, t_z\n     *           translation;\n     *    elements [3], [7], [11] set to 0;\n     *    element [15] set to 1.\n     *    All methods are static.\n     *\n     * @static\n     *\n     * @class Transform\n     */\n    var Transform = {};\n\n    // WARNING: these matrices correspond to WebKit matrices, which are\n    //    transposed from their math counterparts\n    Transform.precision = 1e-6;\n    Transform.identity = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\n    /**\n     * Multiply two or more Transform matrix types to return a Transform matrix.\n     *\n     * @method multiply4x4\n     * @static\n     * @param {Transform} a left Transform\n     * @param {Transform} b right Transform\n     * @return {Transform}\n     */\n    Transform.multiply4x4 = function multiply4x4(a, b) {\n        return [\n            a[0] * b[0] + a[4] * b[1] + a[8] * b[2] + a[12] * b[3],\n            a[1] * b[0] + a[5] * b[1] + a[9] * b[2] + a[13] * b[3],\n            a[2] * b[0] + a[6] * b[1] + a[10] * b[2] + a[14] * b[3],\n            a[3] * b[0] + a[7] * b[1] + a[11] * b[2] + a[15] * b[3],\n            a[0] * b[4] + a[4] * b[5] + a[8] * b[6] + a[12] * b[7],\n            a[1] * b[4] + a[5] * b[5] + a[9] * b[6] + a[13] * b[7],\n            a[2] * b[4] + a[6] * b[5] + a[10] * b[6] + a[14] * b[7],\n            a[3] * b[4] + a[7] * b[5] + a[11] * b[6] + a[15] * b[7],\n            a[0] * b[8] + a[4] * b[9] + a[8] * b[10] + a[12] * b[11],\n            a[1] * b[8] + a[5] * b[9] + a[9] * b[10] + a[13] * b[11],\n            a[2] * b[8] + a[6] * b[9] + a[10] * b[10] + a[14] * b[11],\n            a[3] * b[8] + a[7] * b[9] + a[11] * b[10] + a[15] * b[11],\n            a[0] * b[12] + a[4] * b[13] + a[8] * b[14] + a[12] * b[15],\n            a[1] * b[12] + a[5] * b[13] + a[9] * b[14] + a[13] * b[15],\n            a[2] * b[12] + a[6] * b[13] + a[10] * b[14] + a[14] * b[15],\n            a[3] * b[12] + a[7] * b[13] + a[11] * b[14] + a[15] * b[15]\n        ];\n    };\n\n    /**\n     * Fast-multiply two Transform matrix types to return a\n     *    Matrix, assuming bottom row on each is [0 0 0 1].\n     *\n     * @method multiply\n     * @static\n     * @param {Transform} a left Transform\n     * @param {Transform} b right Transform\n     * @return {Transform}\n     */\n    Transform.multiply = function multiply(a, b) {\n        return [\n            a[0] * b[0] + a[4] * b[1] + a[8] * b[2],\n            a[1] * b[0] + a[5] * b[1] + a[9] * b[2],\n            a[2] * b[0] + a[6] * b[1] + a[10] * b[2],\n            0,\n            a[0] * b[4] + a[4] * b[5] + a[8] * b[6],\n            a[1] * b[4] + a[5] * b[5] + a[9] * b[6],\n            a[2] * b[4] + a[6] * b[5] + a[10] * b[6],\n            0,\n            a[0] * b[8] + a[4] * b[9] + a[8] * b[10],\n            a[1] * b[8] + a[5] * b[9] + a[9] * b[10],\n            a[2] * b[8] + a[6] * b[9] + a[10] * b[10],\n            0,\n            a[0] * b[12] + a[4] * b[13] + a[8] * b[14] + a[12],\n            a[1] * b[12] + a[5] * b[13] + a[9] * b[14] + a[13],\n            a[2] * b[12] + a[6] * b[13] + a[10] * b[14] + a[14],\n            1\n        ];\n    };\n\n    /**\n     * Return a Transform translated by additional amounts in each\n     *    dimension. This is equivalent to the result of\n     *\n     *    Transform.multiply(Matrix.translate(t[0], t[1], t[2]), m).\n     *\n     * @method thenMove\n     * @static\n     * @param {Transform} m a Transform\n     * @param {Array.Number} t floats delta vector of length 2 or 3\n     * @return {Transform}\n     */\n    Transform.thenMove = function thenMove(m, t) {\n        if (!t[2]) t[2] = 0;\n        return [m[0], m[1], m[2], 0, m[4], m[5], m[6], 0, m[8], m[9], m[10], 0, m[12] + t[0], m[13] + t[1], m[14] + t[2], 1];\n    };\n\n    /**\n     * Return a Transform matrix which represents the result of a transform matrix\n     *    applied after a move. This is faster than the equivalent multiply.\n     *    This is equivalent to the result of:\n     *\n     *    Transform.multiply(m, Transform.translate(t[0], t[1], t[2])).\n     *\n     * @method moveThen\n     * @static\n     * @param {Array.Number} v vector representing initial movement\n     * @param {Transform} m matrix to apply afterwards\n     * @return {Transform} the resulting matrix\n     */\n    Transform.moveThen = function moveThen(v, m) {\n        if (!v[2]) v[2] = 0;\n        var t0 = v[0] * m[0] + v[1] * m[4] + v[2] * m[8];\n        var t1 = v[0] * m[1] + v[1] * m[5] + v[2] * m[9];\n        var t2 = v[0] * m[2] + v[1] * m[6] + v[2] * m[10];\n        return Transform.thenMove(m, [t0, t1, t2]);\n    };\n\n    /**\n     * Return a Transform which represents a translation by specified\n     *    amounts in each dimension.\n     *\n     * @method translate\n     * @static\n     * @param {Number} x x translation\n     * @param {Number} y y translation\n     * @param {Number} z z translation\n     * @return {Transform}\n     */\n    Transform.translate = function translate(x, y, z) {\n        if (z === undefined) z = 0;\n        return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, z, 1];\n    };\n\n    /**\n     * Return a Transform scaled by a vector in each\n     *    dimension. This is a more performant equivalent to the result of\n     *\n     *    Transform.multiply(Transform.scale(s[0], s[1], s[2]), m).\n     *\n     * @method thenScale\n     * @static\n     * @param {Transform} m a matrix\n     * @param {Array.Number} s delta vector (array of floats &&\n     *    array.length == 3)\n     * @return {Transform}\n     */\n    Transform.thenScale = function thenScale(m, s) {\n        return [\n            s[0] * m[0], s[1] * m[1], s[2] * m[2], 0,\n            s[0] * m[4], s[1] * m[5], s[2] * m[6], 0,\n            s[0] * m[8], s[1] * m[9], s[2] * m[10], 0,\n            s[0] * m[12], s[1] * m[13], s[2] * m[14], 1\n        ];\n    };\n\n    /**\n     * Return a Transform which represents a scale by specified amounts\n     *    in each dimension.\n     *\n     * @method scale\n     * @static\n     * @param {Number} x x scale factor\n     * @param {Number} y y scale factor\n     * @param {Number} z z scale factor\n     * @return {Transform}\n     */\n    Transform.scale = function scale(x, y, z) {\n        if (z === undefined) z = 1;\n        if (y === undefined) y = x;\n        return [x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1];\n    };\n\n    /**\n     * Return a Transform which represents a clockwise\n     *    rotation around the x axis.\n     *\n     * @method rotateX\n     * @static\n     * @param {Number} theta radians\n     * @return {Transform}\n     */\n    Transform.rotateX = function rotateX(theta) {\n        var cosTheta = Math.cos(theta);\n        var sinTheta = Math.sin(theta);\n        return [1, 0, 0, 0, 0, cosTheta, sinTheta, 0, 0, -sinTheta, cosTheta, 0, 0, 0, 0, 1];\n    };\n\n    /**\n     * Return a Transform which represents a clockwise\n     *    rotation around the y axis.\n     *\n     * @method rotateY\n     * @static\n     * @param {Number} theta radians\n     * @return {Transform}\n     */\n    Transform.rotateY = function rotateY(theta) {\n        var cosTheta = Math.cos(theta);\n        var sinTheta = Math.sin(theta);\n        return [cosTheta, 0, -sinTheta, 0, 0, 1, 0, 0, sinTheta, 0, cosTheta, 0, 0, 0, 0, 1];\n    };\n\n    /**\n     * Return a Transform which represents a clockwise\n     *    rotation around the z axis.\n     *\n     * @method rotateZ\n     * @static\n     * @param {Number} theta radians\n     * @return {Transform}\n     */\n    Transform.rotateZ = function rotateZ(theta) {\n        var cosTheta = Math.cos(theta);\n        var sinTheta = Math.sin(theta);\n        return [cosTheta, sinTheta, 0, 0, -sinTheta, cosTheta, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    };\n\n    /**\n     * Return a Transform which represents composed clockwise\n     *    rotations along each of the axes. Equivalent to the result of\n     *    Matrix.multiply(rotateX(phi), rotateY(theta), rotateZ(psi)).\n     *\n     * @method rotate\n     * @static\n     * @param {Number} phi radians to rotate about the positive x axis\n     * @param {Number} theta radians to rotate about the positive y axis\n     * @param {Number} psi radians to rotate about the positive z axis\n     * @return {Transform}\n     */\n    Transform.rotate = function rotate(phi, theta, psi) {\n        var cosPhi = Math.cos(phi);\n        var sinPhi = Math.sin(phi);\n        var cosTheta = Math.cos(theta);\n        var sinTheta = Math.sin(theta);\n        var cosPsi = Math.cos(psi);\n        var sinPsi = Math.sin(psi);\n        var result = [\n            cosTheta * cosPsi,\n            cosPhi * sinPsi + sinPhi * sinTheta * cosPsi,\n            sinPhi * sinPsi - cosPhi * sinTheta * cosPsi,\n            0,\n            -cosTheta * sinPsi,\n            cosPhi * cosPsi - sinPhi * sinTheta * sinPsi,\n            sinPhi * cosPsi + cosPhi * sinTheta * sinPsi,\n            0,\n            sinTheta,\n            -sinPhi * cosTheta,\n            cosPhi * cosTheta,\n            0,\n            0, 0, 0, 1\n        ];\n        return result;\n    };\n\n    /**\n     * Return a Transform which represents an axis-angle rotation\n     *\n     * @method rotateAxis\n     * @static\n     * @param {Array.Number} v unit vector representing the axis to rotate about\n     * @param {Number} theta radians to rotate clockwise about the axis\n     * @return {Transform}\n     */\n    Transform.rotateAxis = function rotateAxis(v, theta) {\n        var sinTheta = Math.sin(theta);\n        var cosTheta = Math.cos(theta);\n        var verTheta = 1 - cosTheta; // versine of theta\n\n        var xxV = v[0] * v[0] * verTheta;\n        var xyV = v[0] * v[1] * verTheta;\n        var xzV = v[0] * v[2] * verTheta;\n        var yyV = v[1] * v[1] * verTheta;\n        var yzV = v[1] * v[2] * verTheta;\n        var zzV = v[2] * v[2] * verTheta;\n        var xs = v[0] * sinTheta;\n        var ys = v[1] * sinTheta;\n        var zs = v[2] * sinTheta;\n\n        var result = [\n            xxV + cosTheta, xyV + zs, xzV - ys, 0,\n            xyV - zs, yyV + cosTheta, yzV + xs, 0,\n            xzV + ys, yzV - xs, zzV + cosTheta, 0,\n            0, 0, 0, 1\n        ];\n        return result;\n    };\n\n    /**\n     * Return a Transform which represents a transform matrix applied about\n     * a separate origin point.\n     *\n     * @method aboutOrigin\n     * @static\n     * @param {Array.Number} v origin point to apply matrix\n     * @param {Transform} m matrix to apply\n     * @return {Transform}\n     */\n    Transform.aboutOrigin = function aboutOrigin(v, m) {\n        var t0 = v[0] - (v[0] * m[0] + v[1] * m[4] + v[2] * m[8]);\n        var t1 = v[1] - (v[0] * m[1] + v[1] * m[5] + v[2] * m[9]);\n        var t2 = v[2] - (v[0] * m[2] + v[1] * m[6] + v[2] * m[10]);\n        return Transform.thenMove(m, [t0, t1, t2]);\n    };\n\n    /**\n     * Return a Transform representation of a skew transformation\n     *\n     * @method skew\n     * @static\n     * @param {Number} phi scale factor skew in the x axis\n     * @param {Number} theta scale factor skew in the y axis\n     * @param {Number} psi scale factor skew in the z axis\n     * @return {Transform}\n     */\n    Transform.skew = function skew(phi, theta, psi) {\n        return [1, Math.tan(theta), 0, 0, Math.tan(psi), 1, 0, 0, 0, Math.tan(phi), 1, 0, 0, 0, 0, 1];\n    };\n\n    /**\n     * Return a Transform representation of a skew in the x-direction\n     *\n     * @method skewX\n     * @static\n     * @param {Number} angle the angle between the top and left sides\n     * @return {Transform}\n     */\n    Transform.skewX = function skewX(angle) {\n        return [1, 0, 0, 0, Math.tan(angle), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    };\n\n    /**\n     * Return a Transform representation of a skew in the y-direction\n     *\n     * @method skewY\n     * @static\n     * @param {Number} angle the angle between the top and right sides\n     * @return {Transform}\n     */\n    Transform.skewY = function skewY(angle) {\n        return [1, Math.tan(angle), 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    };\n\n    /**\n     * Returns a perspective Transform matrix\n     *\n     * @method perspective\n     * @static\n     * @param {Number} focusZ z position of focal point\n     * @return {Transform}\n     */\n    Transform.perspective = function perspective(focusZ) {\n        return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, -1 / focusZ, 0, 0, 0, 1];\n    };\n\n    /**\n     * Return translation vector component of given Transform\n     *\n     * @method getTranslate\n     * @static\n     * @param {Transform} m Transform\n     * @return {Array.Number} the translation vector [t_x, t_y, t_z]\n     */\n    Transform.getTranslate = function getTranslate(m) {\n        return [m[12], m[13], m[14]];\n    };\n\n    /**\n     * Return inverse affine transform for given Transform.\n     *   Note: This assumes m[3] = m[7] = m[11] = 0, and m[15] = 1.\n     *   Will provide incorrect results if not invertible or preconditions not met.\n     *\n     * @method inverse\n     * @static\n     * @param {Transform} m Transform\n     * @return {Transform}\n     */\n    Transform.inverse = function inverse(m) {\n        // only need to consider 3x3 section for affine\n        var c0 = m[5] * m[10] - m[6] * m[9];\n        var c1 = m[4] * m[10] - m[6] * m[8];\n        var c2 = m[4] * m[9] - m[5] * m[8];\n        var c4 = m[1] * m[10] - m[2] * m[9];\n        var c5 = m[0] * m[10] - m[2] * m[8];\n        var c6 = m[0] * m[9] - m[1] * m[8];\n        var c8 = m[1] * m[6] - m[2] * m[5];\n        var c9 = m[0] * m[6] - m[2] * m[4];\n        var c10 = m[0] * m[5] - m[1] * m[4];\n        var detM = m[0] * c0 - m[1] * c1 + m[2] * c2;\n        var invD = 1 / detM;\n        var result = [\n            invD * c0, -invD * c4, invD * c8, 0,\n            -invD * c1, invD * c5, -invD * c9, 0,\n            invD * c2, -invD * c6, invD * c10, 0,\n            0, 0, 0, 1\n        ];\n        result[12] = -m[12] * result[0] - m[13] * result[4] - m[14] * result[8];\n        result[13] = -m[12] * result[1] - m[13] * result[5] - m[14] * result[9];\n        result[14] = -m[12] * result[2] - m[13] * result[6] - m[14] * result[10];\n        return result;\n    };\n\n    /**\n     * Returns the transpose of a 4x4 matrix\n     *\n     * @method transpose\n     * @static\n     * @param {Transform} m matrix\n     * @return {Transform} the resulting transposed matrix\n     */\n    Transform.transpose = function transpose(m) {\n        return [m[0], m[4], m[8], m[12], m[1], m[5], m[9], m[13], m[2], m[6], m[10], m[14], m[3], m[7], m[11], m[15]];\n    };\n\n    function _normSquared(v) {\n        return (v.length === 2) ? v[0] * v[0] + v[1] * v[1] : v[0] * v[0] + v[1] * v[1] + v[2] * v[2];\n    }\n    function _norm(v) {\n        return Math.sqrt(_normSquared(v));\n    }\n    function _sign(n) {\n        return (n < 0) ? -1 : 1;\n    }\n\n    /**\n     * Decompose Transform into separate .translate, .rotate, .scale,\n     *    and .skew components.\n     *\n     * @method interpret\n     * @static\n     * @param {Transform} M transform matrix\n     * @return {Object} matrix spec object with component matrices .translate,\n     *    .rotate, .scale, .skew\n     */\n    Transform.interpret = function interpret(M) {\n\n        // QR decomposition via Householder reflections\n        //FIRST ITERATION\n\n        //default Q1 to the identity matrix;\n        var x = [M[0], M[1], M[2]];                // first column vector\n        var sgn = _sign(x[0]);                     // sign of first component of x (for stability)\n        var xNorm = _norm(x);                      // norm of first column vector\n        var v = [x[0] + sgn * xNorm, x[1], x[2]];  // v = x + sign(x[0])|x|e1\n        var mult = 2 / _normSquared(v);            // mult = 2/v'v\n\n        //bail out if our Matrix is singular\n        if (mult >= Infinity) {\n            return {translate: Transform.getTranslate(M), rotate: [0, 0, 0], scale: [0, 0, 0], skew: [0, 0, 0]};\n        }\n\n        //evaluate Q1 = I - 2vv'/v'v\n        var Q1 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1];\n\n        //diagonals\n        Q1[0]  = 1 - mult * v[0] * v[0];    // 0,0 entry\n        Q1[5]  = 1 - mult * v[1] * v[1];    // 1,1 entry\n        Q1[10] = 1 - mult * v[2] * v[2];    // 2,2 entry\n\n        //upper diagonal\n        Q1[1] = -mult * v[0] * v[1];        // 0,1 entry\n        Q1[2] = -mult * v[0] * v[2];        // 0,2 entry\n        Q1[6] = -mult * v[1] * v[2];        // 1,2 entry\n\n        //lower diagonal\n        Q1[4] = Q1[1];                      // 1,0 entry\n        Q1[8] = Q1[2];                      // 2,0 entry\n        Q1[9] = Q1[6];                      // 2,1 entry\n\n        //reduce first column of M\n        var MQ1 = Transform.multiply(Q1, M);\n\n        //SECOND ITERATION on (1,1) minor\n        var x2 = [MQ1[5], MQ1[6]];\n        var sgn2 = _sign(x2[0]);                    // sign of first component of x (for stability)\n        var x2Norm = _norm(x2);                     // norm of first column vector\n        var v2 = [x2[0] + sgn2 * x2Norm, x2[1]];    // v = x + sign(x[0])|x|e1\n        var mult2 = 2 / _normSquared(v2);           // mult = 2/v'v\n\n        //evaluate Q2 = I - 2vv'/v'v\n        var Q2 = [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1];\n\n        //diagonal\n        Q2[5]  = 1 - mult2 * v2[0] * v2[0]; // 1,1 entry\n        Q2[10] = 1 - mult2 * v2[1] * v2[1]; // 2,2 entry\n\n        //off diagonals\n        Q2[6] = -mult2 * v2[0] * v2[1];     // 2,1 entry\n        Q2[9] = Q2[6];                      // 1,2 entry\n\n        //calc QR decomposition. Q = Q1*Q2, R = Q'*M\n        var Q = Transform.multiply(Q2, Q1);      //note: really Q transpose\n        var R = Transform.multiply(Q, M);\n\n        //remove negative scaling\n        var remover = Transform.scale(R[0] < 0 ? -1 : 1, R[5] < 0 ? -1 : 1, R[10] < 0 ? -1 : 1);\n        R = Transform.multiply(R, remover);\n        Q = Transform.multiply(remover, Q);\n\n        //decompose into rotate/scale/skew matrices\n        var result = {};\n        result.translate = Transform.getTranslate(M);\n        result.rotate = [Math.atan2(-Q[6], Q[10]), Math.asin(Q[2]), Math.atan2(-Q[1], Q[0])];\n        if (!result.rotate[0]) {\n            result.rotate[0] = 0;\n            result.rotate[2] = Math.atan2(Q[4], Q[5]);\n        }\n        result.scale = [R[0], R[5], R[10]];\n        result.skew = [Math.atan2(R[9], result.scale[2]), Math.atan2(R[8], result.scale[2]), Math.atan2(R[4], result.scale[0])];\n\n        //double rotation workaround\n        if (Math.abs(result.rotate[0]) + Math.abs(result.rotate[2]) > 1.5 * Math.PI) {\n            result.rotate[1] = Math.PI - result.rotate[1];\n            if (result.rotate[1] > Math.PI) result.rotate[1] -= 2 * Math.PI;\n            if (result.rotate[1] < -Math.PI) result.rotate[1] += 2 * Math.PI;\n            if (result.rotate[0] < 0) result.rotate[0] += Math.PI;\n            else result.rotate[0] -= Math.PI;\n            if (result.rotate[2] < 0) result.rotate[2] += Math.PI;\n            else result.rotate[2] -= Math.PI;\n        }\n\n        return result;\n    };\n\n    /**\n     * Weighted average between two matrices by averaging their\n     *     translation, rotation, scale, skew components.\n     *     f(M1,M2,t) = (1 - t) * M1 + t * M2\n     *\n     * @method average\n     * @static\n     * @param {Transform} M1 f(M1,M2,0) = M1\n     * @param {Transform} M2 f(M1,M2,1) = M2\n     * @param {Number} t\n     * @return {Transform}\n     */\n    Transform.average = function average(M1, M2, t) {\n        t = (t === undefined) ? 0.5 : t;\n        var specM1 = Transform.interpret(M1);\n        var specM2 = Transform.interpret(M2);\n\n        var specAvg = {\n            translate: [0, 0, 0],\n            rotate: [0, 0, 0],\n            scale: [0, 0, 0],\n            skew: [0, 0, 0]\n        };\n\n        for (var i = 0; i < 3; i++) {\n            specAvg.translate[i] = (1 - t) * specM1.translate[i] + t * specM2.translate[i];\n            specAvg.rotate[i] = (1 - t) * specM1.rotate[i] + t * specM2.rotate[i];\n            specAvg.scale[i] = (1 - t) * specM1.scale[i] + t * specM2.scale[i];\n            specAvg.skew[i] = (1 - t) * specM1.skew[i] + t * specM2.skew[i];\n        }\n        return Transform.build(specAvg);\n    };\n\n    /**\n     * Compose .translate, .rotate, .scale, .skew components into\n     * Transform matrix\n     *\n     * @method build\n     * @static\n     * @param {matrixSpec} spec object with component matrices .translate,\n     *    .rotate, .scale, .skew\n     * @return {Transform} composed transform\n     */\n    Transform.build = function build(spec) {\n        var scaleMatrix = Transform.scale(spec.scale[0], spec.scale[1], spec.scale[2]);\n        var skewMatrix = Transform.skew(spec.skew[0], spec.skew[1], spec.skew[2]);\n        var rotateMatrix = Transform.rotate(spec.rotate[0], spec.rotate[1], spec.rotate[2]);\n        return Transform.thenMove(Transform.multiply(Transform.multiply(rotateMatrix, skewMatrix), scaleMatrix), spec.translate);\n    };\n\n    /**\n     * Determine if two Transforms are component-wise equal\n     *   Warning: breaks on perspective Transforms\n     *\n     * @method equals\n     * @static\n     * @param {Transform} a matrix\n     * @param {Transform} b matrix\n     * @return {boolean}\n     */\n    Transform.equals = function equals(a, b) {\n        return !Transform.notEquals(a, b);\n    };\n\n    /**\n     * Determine if two Transforms are component-wise unequal\n     *   Warning: breaks on perspective Transforms\n     *\n     * @method notEquals\n     * @static\n     * @param {Transform} a matrix\n     * @param {Transform} b matrix\n     * @return {boolean}\n     */\n    Transform.notEquals = function notEquals(a, b) {\n        if (a === b) return false;\n\n        // shortci\n        return !(a && b) ||\n            a[12] !== b[12] || a[13] !== b[13] || a[14] !== b[14] ||\n            a[0] !== b[0] || a[1] !== b[1] || a[2] !== b[2] ||\n            a[4] !== b[4] || a[5] !== b[5] || a[6] !== b[6] ||\n            a[8] !== b[8] || a[9] !== b[9] || a[10] !== b[10];\n    };\n\n    /**\n     * Constrain angle-trio components to range of [-pi, pi).\n     *\n     * @method normalizeRotation\n     * @static\n     * @param {Array.Number} rotation phi, theta, psi (array of floats\n     *    && array.length == 3)\n     * @return {Array.Number} new phi, theta, psi triplet\n     *    (array of floats && array.length == 3)\n     */\n    Transform.normalizeRotation = function normalizeRotation(rotation) {\n        var result = rotation.slice(0);\n        if (result[0] === Math.PI * 0.5 || result[0] === -Math.PI * 0.5) {\n            result[0] = -result[0];\n            result[1] = Math.PI - result[1];\n            result[2] -= Math.PI;\n        }\n        if (result[0] > Math.PI * 0.5) {\n            result[0] = result[0] - Math.PI;\n            result[1] = Math.PI - result[1];\n            result[2] -= Math.PI;\n        }\n        if (result[0] < -Math.PI * 0.5) {\n            result[0] = result[0] + Math.PI;\n            result[1] = -Math.PI - result[1];\n            result[2] -= Math.PI;\n        }\n        while (result[1] < -Math.PI) result[1] += 2 * Math.PI;\n        while (result[1] >= Math.PI) result[1] -= 2 * Math.PI;\n        while (result[2] < -Math.PI) result[2] += 2 * Math.PI;\n        while (result[2] >= Math.PI) result[2] -= 2 * Math.PI;\n        return result;\n    };\n\n    /**\n     * (Property) Array defining a translation forward in z by 1\n     *\n     * @property {array} inFront\n     * @static\n     * @final\n     */\n    Transform.inFront = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1e-3, 1];\n\n    /**\n     * (Property) Array defining a translation backwards in z by 1\n     *\n     * @property {array} behind\n     * @static\n     * @final\n     */\n    Transform.behind = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -1e-3, 1];\n\n    module.exports = Transform;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/core/Transform.js\n// module id = 2\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n    var EventEmitter = require('./EventEmitter');\n\n    /**\n     * EventHandler forwards received events to a set of provided callback functions.\n     * It allows events to be captured, processed, and optionally piped through to other event handlers.\n     *\n     * @class EventHandler\n     * @extends EventEmitter\n     * @constructor\n     */\n    function EventHandler() {\n        EventEmitter.apply(this, arguments);\n\n        this.downstream = []; // downstream event handlers\n        this.downstreamFn = []; // downstream functions\n\n        this.upstream = []; // upstream event handlers\n        this.upstreamListeners = {}; // upstream listeners\n    }\n    EventHandler.prototype = Object.create(EventEmitter.prototype);\n    EventHandler.prototype.constructor = EventHandler;\n\n    /**\n     * Assign an event handler to receive an object's input events.\n     *\n     * @method setInputHandler\n     * @static\n     *\n     * @param {Object} object object to mix trigger, subscribe, and unsubscribe functions into\n     * @param {EventHandler} handler assigned event handler\n     */\n    EventHandler.setInputHandler = function setInputHandler(object, handler) {\n        object.trigger = handler.trigger.bind(handler);\n        if (handler.subscribe && handler.unsubscribe) {\n            object.subscribe = handler.subscribe.bind(handler);\n            object.unsubscribe = handler.unsubscribe.bind(handler);\n        }\n    };\n\n    /**\n     * Assign an event handler to receive an object's output events.\n     *\n     * @method setOutputHandler\n     * @static\n     *\n     * @param {Object} object object to mix pipe, unpipe, on, addListener, and removeListener functions into\n     * @param {EventHandler} handler assigned event handler\n     */\n    EventHandler.setOutputHandler = function setOutputHandler(object, handler) {\n        if (handler instanceof EventHandler) handler.bindThis(object);\n        object.pipe = handler.pipe.bind(handler);\n        object.unpipe = handler.unpipe.bind(handler);\n        object.on = handler.on.bind(handler);\n        object.addListener = object.on;\n        object.removeListener = handler.removeListener.bind(handler);\n    };\n\n    /**\n     * Trigger an event, sending to all downstream handlers\n     *   listening for provided 'type' key.\n     *\n     * @method emit\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {Object} event event data\n     * @return {EventHandler} this\n     */\n    EventHandler.prototype.emit = function emit(type, event) {\n        EventEmitter.prototype.emit.apply(this, arguments);\n        var i = 0;\n        for (i = 0; i < this.downstream.length; i++) {\n            if (this.downstream[i].trigger) this.downstream[i].trigger(type, event);\n        }\n        for (i = 0; i < this.downstreamFn.length; i++) {\n            this.downstreamFn[i](type, event);\n        }\n        return this;\n    };\n\n    /**\n     * Alias for emit\n     * @method addListener\n     */\n    EventHandler.prototype.trigger = EventHandler.prototype.emit;\n\n    /**\n     * Add event handler object to set of downstream handlers.\n     *\n     * @method pipe\n     *\n     * @param {EventHandler} target event handler target object\n     * @return {EventHandler} passed event handler\n     */\n    EventHandler.prototype.pipe = function pipe(target) {\n        if (target.subscribe instanceof Function) return target.subscribe(this);\n\n        var downstreamCtx = (target instanceof Function) ? this.downstreamFn : this.downstream;\n        var index = downstreamCtx.indexOf(target);\n        if (index < 0) downstreamCtx.push(target);\n\n        if (target instanceof Function) target('pipe', null);\n        else if (target.trigger) target.trigger('pipe', null);\n\n        return target;\n    };\n\n    /**\n     * Remove handler object from set of downstream handlers.\n     *   Undoes work of \"pipe\".\n     *\n     * @method unpipe\n     *\n     * @param {EventHandler} target target handler object\n     * @return {EventHandler} provided target\n     */\n    EventHandler.prototype.unpipe = function unpipe(target) {\n        if (target.unsubscribe instanceof Function) return target.unsubscribe(this);\n\n        var downstreamCtx = (target instanceof Function) ? this.downstreamFn : this.downstream;\n        var index = downstreamCtx.indexOf(target);\n        if (index >= 0) {\n            downstreamCtx.splice(index, 1);\n            if (target instanceof Function) target('unpipe', null);\n            else if (target.trigger) target.trigger('unpipe', null);\n            return target;\n        }\n        else return false;\n    };\n\n    /**\n     * Bind a callback function to an event type handled by this object.\n     *\n     * @method \"on\"\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {function(string, Object)} handler callback\n     * @return {EventHandler} this\n     */\n    EventHandler.prototype.on = function on(type, handler) {\n        EventEmitter.prototype.on.apply(this, arguments);\n        if (!(type in this.upstreamListeners)) {\n            var upstreamListener = this.trigger.bind(this, type);\n            this.upstreamListeners[type] = upstreamListener;\n            for (var i = 0; i < this.upstream.length; i++) {\n                this.upstream[i].on(type, upstreamListener);\n            }\n        }\n        return this;\n    };\n\n    /**\n     * Alias for \"on\"\n     * @method addListener\n     */\n    EventHandler.prototype.addListener = EventHandler.prototype.on;\n\n    /**\n     * Listen for events from an upstream event handler.\n     *\n     * @method subscribe\n     *\n     * @param {EventEmitter} source source emitter object\n     * @return {EventHandler} this\n     */\n    EventHandler.prototype.subscribe = function subscribe(source) {\n        var index = this.upstream.indexOf(source);\n        if (index < 0) {\n            this.upstream.push(source);\n            for (var type in this.upstreamListeners) {\n                source.on(type, this.upstreamListeners[type]);\n            }\n        }\n        return this;\n    };\n\n    /**\n     * Stop listening to events from an upstream event handler.\n     *\n     * @method unsubscribe\n     *\n     * @param {EventEmitter} source source emitter object\n     * @return {EventHandler} this\n     */\n    EventHandler.prototype.unsubscribe = function unsubscribe(source) {\n        var index = this.upstream.indexOf(source);\n        if (index >= 0) {\n            this.upstream.splice(index, 1);\n            for (var type in this.upstreamListeners) {\n                source.removeListener(type, this.upstreamListeners[type]);\n            }\n        }\n        return this;\n    };\n\n    module.exports = EventHandler;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/core/EventHandler.js\n// module id = 3\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.clone = clone;\nexports.isEmptyObject = isEmptyObject;\nexports.toCSS = toCSS;\nvar stringify = JSON.stringify;\nvar parse = JSON.parse;\n\n/**\n * Deeply clone object using serialization.\n * Expects object to be plain and without cyclic dependencies.\n *\n * http://jsperf.com/lodash-deepclone-vs-jquery-extend-deep/6\n *\n * @type {Object} obj\n * @return {Object}\n */\nfunction clone(obj) {\n  return parse(stringify(obj));\n}\n\n/**\n * Determine whether an object is empty or not.\n * More performant than a `Object.keys(obj).length > 0`\n *\n * @type {Object} obj\n * @return {Boolean}\n */\nfunction isEmptyObject(obj) {\n  for (var key in obj) {\n    return false;\n  } // eslint-disable-line no-unused-vars\n\n  return true;\n}\n\n/**\n * Simple very fast UID generation based on a global counter.\n */\nvar uid = exports.uid = function () {\n  var globalReference = typeof window == 'undefined' ? global : window;\n  var namespace = '__JSS_VERSION_COUNTER__';\n  if (globalReference[namespace] == null) globalReference[namespace] = 0;\n\n  // In case we have more than one jss version.\n  var versionCounter = globalReference[namespace]++;\n  var ruleCounter = 0;\n\n  /**\n   * Returns a uid.\n   * Ensures uniqueness if more than 1 jss version is used.\n   *\n   * @api public\n   * @return {String}\n   */\n  function get() {\n    return 'jss-' + versionCounter + '-' + ruleCounter++;\n  }\n\n  /**\n   * Resets the counter.\n   *\n   * @api public\n   */\n  function reset() {\n    ruleCounter = 0;\n  }\n\n  return { get: get, reset: reset };\n}();\n\n/**\n * Indent a string.\n *\n * http://jsperf.com/array-join-vs-for\n *\n * @param {Number} level\n * @param {String} str\n * @return {String}\n */\nfunction indent(level, str) {\n  var indentStr = '';\n  for (var index = 0; index < level; index++) {\n    indentStr += '  ';\n  }return indentStr + str;\n}\n\n/**\n * Converts a Rule to CSS string.\n *\n * Options:\n * - `selector` use `false` to get a rule without selector\n * - `indentationLevel` level of indentation\n *\n * @param {String} selector\n * @param {Object} style\n * @param {Object} options\n * @return {String}\n */\nfunction toCSS(selector, style) {\n  var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n  var indentationLevel = options.indentationLevel || 0;\n  var str = '';\n\n  if (options.selector !== false) {\n    str += indent(indentationLevel, selector + ' {');\n    indentationLevel++;\n  }\n\n  for (var prop in style) {\n    var value = style[prop];\n    // We want to generate multiple style with identical property names.\n    if (Array.isArray(value)) {\n      for (var index = 0; index < value.length; index++) {\n        str += '\\n' + indent(indentationLevel, prop + ': ' + value[index] + ';');\n      }\n    } else str += '\\n' + indent(indentationLevel, prop + ': ' + value + ';');\n  }\n\n  if (options.selector !== false) str += '\\n' + indent(--indentationLevel, '}');\n\n  return str;\n}\n\n/**\n * Get class names from a selector.\n *\n * @param {String} selector\n * @return {String}\n */\nvar findClassNames = exports.findClassNames = function () {\n  var dotsRegExp = /[.]/g;\n  var classesRegExp = /[.][^ ,]+/g;\n\n  return function (selector) {\n    var classes = selector.match(classesRegExp);\n\n    if (!classes) return '';\n\n    return classes.join(' ').replace(dotsRegExp, '');\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss/lib/utils.js\n// module id = 4\n// module chunks = 0","var core = module.exports = { version: '2.5.0' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_core.js\n// module id = 5\n// module chunks = 0","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_hide.js\n// module id = 6\n// module chunks = 0","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-object.js\n// module id = 7\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: david@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n/*eslint-disable new-cap */\n    var MultipleTransition = require('./MultipleTransition');\n    var TweenTransition = require('./TweenTransition');\n\n    /**\n     * A state maintainer for a smooth transition between\n     *    numerically-specified states. Example numeric states include floats or\n     *    Transform objects.\n     *\n     * An initial state is set with the constructor or set(startState). A\n     *    corresponding end state and transition are set with set(endState,\n     *    transition). Subsequent calls to set(endState, transition) begin at\n     *    the last state. Calls to get(timestamp) provide the interpolated state\n     *    along the way.\n     *\n     * Note that there is no event loop here - calls to get() are the only way\n     *    to find state projected to the current (or provided) time and are\n     *    the only way to trigger callbacks. Usually this kind of object would\n     *    be part of the render() path of a visible component.\n     *\n     * @class Transitionable\n     * @constructor\n     * @param {number|Array.Number|Object.<number|string, number>} start\n     *    beginning state\n     */\n    function Transitionable(start) {\n        this.currentAction = null;\n        this.actionQueue = [];\n        this.callbackQueue = [];\n\n        this.state = 0;\n        this.velocity = undefined;\n        this._callback = undefined;\n        this._engineInstance = null;\n        this._currentMethod = null;\n\n        this.set(start);\n    }\n\n    var transitionMethods = {};\n\n    Transitionable.register = function register(methods) {\n        var success = true;\n        for (var method in methods) {\n            if (!Transitionable.registerMethod(method, methods[method]))\n                success = false;\n        }\n        return success;\n    };\n\n    Transitionable.registerMethod = function registerMethod(name, engineClass) {\n        if (!(name in transitionMethods)) {\n            transitionMethods[name] = engineClass;\n            return true;\n        }\n        else return false;\n    };\n\n    Transitionable.unregisterMethod = function unregisterMethod(name) {\n        if (name in transitionMethods) {\n            delete transitionMethods[name];\n            return true;\n        }\n        else return false;\n    };\n\n    function _loadNext() {\n        if (this._callback) {\n            var callback = this._callback;\n            this._callback = undefined;\n            callback();\n        }\n        if (this.actionQueue.length <= 0) {\n            this.set(this.get()); // no update required\n            return;\n        }\n        this.currentAction = this.actionQueue.shift();\n        this._callback = this.callbackQueue.shift();\n\n        var method = null;\n        var endValue = this.currentAction[0];\n        var transition = this.currentAction[1];\n        if (transition instanceof Object && transition.method) {\n            method = transition.method;\n            if (typeof method === 'string') method = transitionMethods[method];\n        }\n        else {\n            method = TweenTransition;\n        }\n\n        if (this._currentMethod !== method) {\n            if (!(endValue instanceof Object) || method.SUPPORTS_MULTIPLE === true || endValue.length <= method.SUPPORTS_MULTIPLE) {\n                this._engineInstance = new method();\n            }\n            else {\n                this._engineInstance = new MultipleTransition(method);\n            }\n            this._currentMethod = method;\n        }\n\n        this._engineInstance.reset(this.state, this.velocity);\n        if (this.velocity !== undefined) transition.velocity = this.velocity;\n        this._engineInstance.set(endValue, transition, _loadNext.bind(this));\n    }\n\n    /**\n     * Add transition to end state to the queue of pending transitions. Special\n     *    Use: calling without a transition resets the object to that state with\n     *    no pending actions\n     *\n     * @method set\n     *\n     * @param {number|FamousMatrix|Array.Number|Object.<number, number>} endState\n     *    end state to which we interpolate\n     * @param {transition=} transition object of type {duration: number, curve:\n     *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\n     *    instantaneous.\n     * @param {function()=} callback Zero-argument function to call on observed\n     *    completion (t=1)\n     */\n    Transitionable.prototype.set = function set(endState, transition, callback) {\n        if (!transition) {\n            this.reset(endState);\n            if (callback) callback();\n            return this;\n        }\n\n        var action = [endState, transition];\n        this.actionQueue.push(action);\n        this.callbackQueue.push(callback);\n        if (!this.currentAction) _loadNext.call(this);\n        return this;\n    };\n\n    /**\n     * Cancel all transitions and reset to a stable state\n     *\n     * @method reset\n     *\n     * @param {number|Array.Number|Object.<number, number>} startState\n     *    stable state to set to\n     */\n    Transitionable.prototype.reset = function reset(startState, startVelocity) {\n        this._currentMethod = null;\n        this._engineInstance = null;\n        this._callback = undefined;\n        this.state = startState;\n        this.velocity = startVelocity;\n        this.currentAction = null;\n        this.actionQueue = [];\n        this.callbackQueue = [];\n    };\n\n    /**\n     * Add delay action to the pending action queue queue.\n     *\n     * @method delay\n     *\n     * @param {number} duration delay time (ms)\n     * @param {function} callback Zero-argument function to call on observed\n     *    completion (t=1)\n     */\n    Transitionable.prototype.delay = function delay(duration, callback) {\n        var endValue;\n        if (this.actionQueue.length) endValue = this.actionQueue[this.actionQueue.length - 1][0];\n        else if (this.currentAction) endValue = this.currentAction[0];\n        else endValue = this.get();\n\n        return this.set(endValue, { duration: duration,\n            curve: function() {\n                return 0;\n            }},\n            callback\n        );\n    };\n\n    /**\n     * Get interpolated state of current action at provided time. If the last\n     *    action has completed, invoke its callback.\n     *\n     * @method get\n     *\n     * @param {number=} timestamp Evaluate the curve at a normalized version of this\n     *    time. If omitted, use current time. (Unix epoch time)\n     * @return {number|Object.<number|string, number>} beginning state\n     *    interpolated to this point in time.\n     */\n    Transitionable.prototype.get = function get(timestamp) {\n        if (this._engineInstance) {\n            if (this._engineInstance.getVelocity)\n                this.velocity = this._engineInstance.getVelocity();\n            this.state = this._engineInstance.get(timestamp);\n        }\n        return this.state;\n    };\n\n    /**\n     * Is there at least one action pending completion?\n     *\n     * @method isActive\n     *\n     * @return {boolean}\n     */\n    Transitionable.prototype.isActive = function isActive() {\n        return !!this.currentAction;\n    };\n\n    /**\n     * Halt transition at current state and erase all pending actions.\n     *\n     * @method halt\n     */\n    Transitionable.prototype.halt = function halt() {\n        return this.set(this.get());\n    };\n\n    module.exports = Transitionable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/transitions/Transitionable.js\n// module id = 8\n// module chunks = 0","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_descriptors.js\n// module id = 9\n// module chunks = 0","module.exports = {};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iterators.js\n// module id = 10\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 11\n// module chunks = 0","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && key in exports) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_export.js\n// module id = 12\n// module chunks = 0","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ctx.js\n// module id = 13\n// module chunks = 0","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_a-function.js\n// module id = 14\n// module chunks = 0","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dp.js\n// module id = 15\n// module chunks = 0","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-object.js\n// module id = 16\n// module chunks = 0","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_has.js\n// module id = 17\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_cof.js\n// module id = 18\n// module chunks = 0","\"use strict\";\n\n// loop for a given length, performing action each loop iteration. action receives the index of the loop.\nexports.forLength = forLength;\nfunction forLength(length, action) {\n    for (var i = 0; i < length; i += 1) {\n        action(i);\n    }\n}\nexports[\"default\"] = forLength;\nexports.__esModule = true;\n//# sourceMappingURL=forLength.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/army-knife/forLength.js\n// module id = 19\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _isInBrowser = require('is-in-browser');\n\nvar _isInBrowser2 = _interopRequireDefault(_isInBrowser);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar js = ''; /**\n              * Export javascript style and css style vendor prefixes.\n              * Based on \"transform\" support test.\n              */\n\nvar css = '';\n\n// We should not do anything if required serverside.\nif (_isInBrowser2['default']) {\n  // Order matters. We need to check Webkit the last one because\n  // other vendors use to add Webkit prefixes to some properties\n  var jsCssMap = {\n    Moz: '-moz-',\n    // IE did it wrong again ...\n    ms: '-ms-',\n    O: '-o-',\n    Webkit: '-webkit-'\n  };\n  var style = document.createElement('p').style;\n  var testProp = 'Transform';\n\n  for (var key in jsCssMap) {\n    if (key + testProp in style) {\n      js = key;\n      css = jsCssMap[key];\n      break;\n    }\n  }\n}\n\n/**\n * Vendor prefix string for the current browser.\n *\n * @type {{js: String, css: String}}\n * @api public\n */\nexports['default'] = { js: js, css: css };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-vendor/lib/prefix.js\n// module id = 20\n// module chunks = 0","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexport var isBrowser = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\" && (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) === 'object' && document.nodeType === 9;\n\nexport default isBrowser;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/is-in-browser/dist/module.js\n// module id = 21\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/promise.js\n// module id = 22\n// module chunks = 0","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-integer.js\n// module id = 23\n// module chunks = 0","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_defined.js\n// module id = 24\n// module chunks = 0","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_dom-create.js\n// module id = 25\n// module chunks = 0","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-iobject.js\n// module id = 26\n// module chunks = 0","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared-key.js\n// module id = 27\n// module chunks = 0","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-to-string-tag.js\n// module id = 28\n// module chunks = 0","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_new-promise-capability.js\n// module id = 29\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n    /**\n     * This namespace holds standalone functionality.\n     *  Currently includes name mapping for transition curves,\n     *  name mapping for origin pairs, and the after() function.\n     *\n     * @class Utility\n     * @static\n     */\n    var Utility = {};\n\n    /**\n     * Table of direction array positions\n     *\n     * @property {object} Direction\n     * @final\n     */\n    Utility.Direction = {\n        X: 0,\n        Y: 1,\n        Z: 2\n    };\n\n    /**\n     * Return wrapper around callback function. Once the wrapper is called N\n     *   times, invoke the callback function. Arguments and scope preserved.\n     *\n     * @method after\n     *\n     * @param {number} count number of calls before callback function invoked\n     * @param {Function} callback wrapped callback function\n     *\n     * @return {function} wrapped callback with coundown feature\n     */\n    Utility.after = function after(count, callback) {\n        var counter = count;\n        return function() {\n            counter--;\n            if (counter === 0) callback.apply(this, arguments);\n        };\n    };\n\n    /**\n     * Load a URL and return its contents in a callback\n     *\n     * @method loadURL\n     *\n     * @param {string} url URL of object\n     * @param {function} callback callback to dispatch with content\n     */\n    Utility.loadURL = function loadURL(url, callback) {\n        var xhr = new XMLHttpRequest();\n        xhr.onreadystatechange = function onreadystatechange() {\n            if (this.readyState === 4) {\n                if (callback) callback(this.responseText);\n            }\n        };\n        xhr.open('GET', url);\n        xhr.send();\n    };\n\n    /**\n     * Create a document fragment from a string of HTML\n     *\n     * @method createDocumentFragmentFromHTML\n     *\n     * @param {string} html HTML to convert to DocumentFragment\n     *\n     * @return {DocumentFragment} DocumentFragment representing input HTML\n     */\n    Utility.createDocumentFragmentFromHTML = function createDocumentFragmentFromHTML(html) {\n        var element = document.createElement('div');\n        element.innerHTML = html;\n        var result = document.createDocumentFragment();\n        while (element.hasChildNodes()) result.appendChild(element.firstChild);\n        return result;\n    };\n\n    /*\n     *  Deep clone an object.\n     *  @param b {Object} Object to clone\n     *  @return a {Object} Cloned object.\n     */\n    Utility.clone = function clone(b) {\n        var a;\n        if (typeof b === 'object') {\n            a = (b instanceof Array) ? [] : {};\n            for (var key in b) {\n                if (typeof b[key] === 'object' && b[key] !== null) {\n                    if (b[key] instanceof Array) {\n                        a[key] = new Array(b[key].length);\n                        for (var i = 0; i < b[key].length; i++) {\n                            a[key][i] = Utility.clone(b[key][i]);\n                        }\n                    }\n                    else {\n                      a[key] = Utility.clone(b[key]);\n                    }\n                }\n                else {\n                    a[key] = b[key];\n                }\n            }\n        }\n        else {\n            a = b;\n        }\n        return a;\n    };\n\n    module.exports = Utility;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/utilities/Utility.js\n// module id = 30\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: david@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n\n    /**\n     * A library of curves which map an animation explicitly as a function of time.\n     *\n     * @class Easing\n     */\n    var Easing = {\n\n        /**\n         * @property inQuad\n         * @static\n         */\n        inQuad: function(t) {\n            return t*t;\n        },\n\n        /**\n         * @property outQuad\n         * @static\n         */\n        outQuad: function(t) {\n            return -(t-=1)*t+1;\n        },\n\n        /**\n         * @property inOutQuad\n         * @static\n         */\n        inOutQuad: function(t) {\n            if ((t/=.5) < 1) return .5*t*t;\n            return -.5*((--t)*(t-2) - 1);\n        },\n\n        /**\n         * @property inCubic\n         * @static\n         */\n        inCubic: function(t) {\n            return t*t*t;\n        },\n\n        /**\n         * @property outCubic\n         * @static\n         */\n        outCubic: function(t) {\n            return ((--t)*t*t + 1);\n        },\n\n        /**\n         * @property inOutCubic\n         * @static\n         */\n        inOutCubic: function(t) {\n            if ((t/=.5) < 1) return .5*t*t*t;\n            return .5*((t-=2)*t*t + 2);\n        },\n\n        /**\n         * @property inQuart\n         * @static\n         */\n        inQuart: function(t) {\n            return t*t*t*t;\n        },\n\n        /**\n         * @property outQuart\n         * @static\n         */\n        outQuart: function(t) {\n            return -((--t)*t*t*t - 1);\n        },\n\n        /**\n         * @property inOutQuart\n         * @static\n         */\n        inOutQuart: function(t) {\n            if ((t/=.5) < 1) return .5*t*t*t*t;\n            return -.5 * ((t-=2)*t*t*t - 2);\n        },\n\n        /**\n         * @property inQuint\n         * @static\n         */\n        inQuint: function(t) {\n            return t*t*t*t*t;\n        },\n\n        /**\n         * @property outQuint\n         * @static\n         */\n        outQuint: function(t) {\n            return ((--t)*t*t*t*t + 1);\n        },\n\n        /**\n         * @property inOutQuint\n         * @static\n         */\n        inOutQuint: function(t) {\n            if ((t/=.5) < 1) return .5*t*t*t*t*t;\n            return .5*((t-=2)*t*t*t*t + 2);\n        },\n\n        /**\n         * @property inSine\n         * @static\n         */\n        inSine: function(t) {\n            return -1.0*Math.cos(t * (Math.PI/2)) + 1.0;\n        },\n\n        /**\n         * @property outSine\n         * @static\n         */\n        outSine: function(t) {\n            return Math.sin(t * (Math.PI/2));\n        },\n\n        /**\n         * @property inOutSine\n         * @static\n         */\n        inOutSine: function(t) {\n            return -.5*(Math.cos(Math.PI*t) - 1);\n        },\n\n        /**\n         * @property inExpo\n         * @static\n         */\n        inExpo: function(t) {\n            return (t===0) ? 0.0 : Math.pow(2, 10 * (t - 1));\n        },\n\n        /**\n         * @property outExpo\n         * @static\n         */\n        outExpo: function(t) {\n            return (t===1.0) ? 1.0 : (-Math.pow(2, -10 * t) + 1);\n        },\n\n        /**\n         * @property inOutExpo\n         * @static\n         */\n        inOutExpo: function(t) {\n            if (t===0) return 0.0;\n            if (t===1.0) return 1.0;\n            if ((t/=.5) < 1) return .5 * Math.pow(2, 10 * (t - 1));\n            return .5 * (-Math.pow(2, -10 * --t) + 2);\n        },\n\n        /**\n         * @property inCirc\n         * @static\n         */\n        inCirc: function(t) {\n            return -(Math.sqrt(1 - t*t) - 1);\n        },\n\n        /**\n         * @property outCirc\n         * @static\n         */\n        outCirc: function(t) {\n            return Math.sqrt(1 - (--t)*t);\n        },\n\n        /**\n         * @property inOutCirc\n         * @static\n         */\n        inOutCirc: function(t) {\n            if ((t/=.5) < 1) return -.5 * (Math.sqrt(1 - t*t) - 1);\n            return .5 * (Math.sqrt(1 - (t-=2)*t) + 1);\n        },\n\n        /**\n         * @property inElastic\n         * @static\n         */\n        inElastic: function(t) {\n            var s=1.70158;var p=0;var a=1.0;\n            if (t===0) return 0.0;  if (t===1) return 1.0;  if (!p) p=.3;\n            s = p/(2*Math.PI) * Math.asin(1.0/a);\n            return -(a*Math.pow(2,10*(t-=1)) * Math.sin((t-s)*(2*Math.PI)/ p));\n        },\n\n        /**\n         * @property outElastic\n         * @static\n         */\n        outElastic: function(t) {\n            var s=1.70158;var p=0;var a=1.0;\n            if (t===0) return 0.0;  if (t===1) return 1.0;  if (!p) p=.3;\n            s = p/(2*Math.PI) * Math.asin(1.0/a);\n            return a*Math.pow(2,-10*t) * Math.sin((t-s)*(2*Math.PI)/p) + 1.0;\n        },\n\n        /**\n         * @property inOutElastic\n         * @static\n         */\n        inOutElastic: function(t) {\n            var s=1.70158;var p=0;var a=1.0;\n            if (t===0) return 0.0;  if ((t/=.5)===2) return 1.0;  if (!p) p=(.3*1.5);\n            s = p/(2*Math.PI) * Math.asin(1.0/a);\n            if (t < 1) return -.5*(a*Math.pow(2,10*(t-=1)) * Math.sin((t-s)*(2*Math.PI)/p));\n            return a*Math.pow(2,-10*(t-=1)) * Math.sin((t-s)*(2*Math.PI)/p)*.5 + 1.0;\n        },\n\n        /**\n         * @property inBack\n         * @static\n         */\n        inBack: function(t, s) {\n            if (s === undefined) s = 1.70158;\n            return t*t*((s+1)*t - s);\n        },\n\n        /**\n         * @property outBack\n         * @static\n         */\n        outBack: function(t, s) {\n            if (s === undefined) s = 1.70158;\n            return ((--t)*t*((s+1)*t + s) + 1);\n        },\n\n        /**\n         * @property inOutBack\n         * @static\n         */\n        inOutBack: function(t, s) {\n            if (s === undefined) s = 1.70158;\n            if ((t/=.5) < 1) return .5*(t*t*(((s*=(1.525))+1)*t - s));\n            return .5*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2);\n        },\n\n        /**\n         * @property inBounce\n         * @static\n         */\n        inBounce: function(t) {\n            return 1.0 - Easing.outBounce(1.0-t);\n        },\n\n        /**\n         * @property outBounce\n         * @static\n         */\n        outBounce: function(t) {\n            if (t < (1/2.75)) {\n                return (7.5625*t*t);\n            } else if (t < (2/2.75)) {\n                return (7.5625*(t-=(1.5/2.75))*t + .75);\n            } else if (t < (2.5/2.75)) {\n                return (7.5625*(t-=(2.25/2.75))*t + .9375);\n            } else {\n                return (7.5625*(t-=(2.625/2.75))*t + .984375);\n            }\n        },\n\n        /**\n         * @property inOutBounce\n         * @static\n         */\n        inOutBounce: function(t) {\n            if (t < .5) return Easing.inBounce(t*2) * .5;\n            return Easing.outBounce(t*2-1.0) * .5 + .5;\n        }\n    };\n\n    module.exports = Easing;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/transitions/Easing.js\n// module id = 31\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n    var Transform = require('./Transform');\n\n    /* TODO: remove these dependencies when deprecation complete */\n    var Transitionable = require('../transitions/Transitionable');\n    var TransitionableTransform = require('../transitions/TransitionableTransform');\n\n    /**\n     *\n     *  A collection of visual changes to be\n     *    applied to another renderable component. This collection includes a\n     *    transform matrix, an opacity constant, a size, an origin specifier.\n     *    Modifier objects can be added to any RenderNode or object\n     *    capable of displaying renderables.  The Modifier's children and descendants\n     *    are transformed by the amounts specified in the Modifier's properties.\n     *\n     * @class Modifier\n     * @constructor\n     * @param {Object} [options] overrides of default options\n     * @param {Transform} [options.transform] affine transformation matrix\n     * @param {Number} [options.opacity]\n     * @param {Array.Number} [options.origin] origin adjustment\n     * @param {Array.Number} [options.size] size to apply to descendants\n     */\n    function Modifier(options) {\n        this._transformGetter = null;\n        this._opacityGetter = null;\n        this._originGetter = null;\n        this._alignGetter = null;\n        this._sizeGetter = null;\n        this._proportionGetter = null;\n\n        /* TODO: remove this when deprecation complete */\n        this._legacyStates = {};\n\n        this._output = {\n            transform: Transform.identity,\n            opacity: 1,\n            origin: null,\n            align: null,\n            size: null,\n            proportions: null,\n            target: null\n        };\n\n        if (options) {\n            if (options.transform) this.transformFrom(options.transform);\n            if (options.opacity !== undefined) this.opacityFrom(options.opacity);\n            if (options.origin) this.originFrom(options.origin);\n            if (options.align) this.alignFrom(options.align);\n            if (options.size) this.sizeFrom(options.size);\n            if (options.proportions) this.proportionsFrom(options.proportions);\n        }\n    }\n\n    /**\n     * Function, object, or static transform matrix which provides the transform.\n     *   This is evaluated on every tick of the engine.\n     *\n     * @method transformFrom\n     *\n     * @param {Object} transform transform provider object\n     * @return {Modifier} this\n     */\n    Modifier.prototype.transformFrom = function transformFrom(transform) {\n        if (transform instanceof Function) this._transformGetter = transform;\n        else if (transform instanceof Object && transform.get) this._transformGetter = transform.get.bind(transform);\n        else {\n            this._transformGetter = null;\n            this._output.transform = transform;\n        }\n        return this;\n    };\n\n    /**\n     * Set function, object, or number to provide opacity, in range [0,1].\n     *\n     * @method opacityFrom\n     *\n     * @param {Object} opacity provider object\n     * @return {Modifier} this\n     */\n    Modifier.prototype.opacityFrom = function opacityFrom(opacity) {\n        if (opacity instanceof Function) this._opacityGetter = opacity;\n        else if (opacity instanceof Object && opacity.get) this._opacityGetter = opacity.get.bind(opacity);\n        else {\n            this._opacityGetter = null;\n            this._output.opacity = opacity;\n        }\n        return this;\n    };\n\n    /**\n     * Set function, object, or numerical array to provide origin, as [x,y],\n     *   where x and y are in the range [0,1].\n     *\n     * @method originFrom\n     *\n     * @param {Object} origin provider object\n     * @return {Modifier} this\n     */\n    Modifier.prototype.originFrom = function originFrom(origin) {\n        if (origin instanceof Function) this._originGetter = origin;\n        else if (origin instanceof Object && origin.get) this._originGetter = origin.get.bind(origin);\n        else {\n            this._originGetter = null;\n            this._output.origin = origin;\n        }\n        return this;\n    };\n\n    /**\n     * Set function, object, or numerical array to provide align, as [x,y],\n     *   where x and y are in the range [0,1].\n     *\n     * @method alignFrom\n     *\n     * @param {Object} align provider object\n     * @return {Modifier} this\n     */\n    Modifier.prototype.alignFrom = function alignFrom(align) {\n        if (align instanceof Function) this._alignGetter = align;\n        else if (align instanceof Object && align.get) this._alignGetter = align.get.bind(align);\n        else {\n            this._alignGetter = null;\n            this._output.align = align;\n        }\n        return this;\n    };\n\n    /**\n     * Set function, object, or numerical array to provide size, as [width, height].\n     *\n     * @method sizeFrom\n     *\n     * @param {Object} size provider object\n     * @return {Modifier} this\n     */\n    Modifier.prototype.sizeFrom = function sizeFrom(size) {\n        if (size instanceof Function) this._sizeGetter = size;\n        else if (size instanceof Object && size.get) this._sizeGetter = size.get.bind(size);\n        else {\n            this._sizeGetter = null;\n            this._output.size = size;\n        }\n        return this;\n    };\n\n    /**\n     * Set function, object, or numerical array to provide proportions, as [percent of width, percent of height].\n     *\n     * @method proportionsFrom\n     *\n     * @param {Object} proportions provider object\n     * @return {Modifier} this\n     */\n    Modifier.prototype.proportionsFrom = function proportionsFrom(proportions) {\n        if (proportions instanceof Function) this._proportionGetter = proportions;\n        else if (proportions instanceof Object && proportions.get) this._proportionGetter = proportions.get.bind(proportions);\n        else {\n            this._proportionGetter = null;\n            this._output.proportions = proportions;\n        }\n        return this;\n    };\n\n     /**\n     * Deprecated: Prefer transformFrom with static Transform, or use a TransitionableTransform.\n     * @deprecated\n     * @method setTransform\n     *\n     * @param {Transform} transform Transform to transition to\n     * @param {Transitionable} transition Valid transitionable object\n     * @param {Function} callback callback to call after transition completes\n     * @return {Modifier} this\n     */\n    Modifier.prototype.setTransform = function setTransform(transform, transition, callback) {\n        if (transition || this._legacyStates.transform) {\n            if (!this._legacyStates.transform) {\n                this._legacyStates.transform = new TransitionableTransform(this._output.transform);\n            }\n            if (!this._transformGetter) this.transformFrom(this._legacyStates.transform);\n\n            this._legacyStates.transform.set(transform, transition, callback);\n            return this;\n        }\n        else return this.transformFrom(transform);\n    };\n\n    /**\n     * Deprecated: Prefer opacityFrom with static opacity array, or use a Transitionable with that opacity.\n     * @deprecated\n     * @method setOpacity\n     *\n     * @param {Number} opacity Opacity value to transition to.\n     * @param {Transitionable} transition Valid transitionable object\n     * @param {Function} callback callback to call after transition completes\n     * @return {Modifier} this\n     */\n    Modifier.prototype.setOpacity = function setOpacity(opacity, transition, callback) {\n        if (transition || this._legacyStates.opacity) {\n            if (!this._legacyStates.opacity) {\n                this._legacyStates.opacity = new Transitionable(this._output.opacity);\n            }\n            if (!this._opacityGetter) this.opacityFrom(this._legacyStates.opacity);\n\n            return this._legacyStates.opacity.set(opacity, transition, callback);\n        }\n        else return this.opacityFrom(opacity);\n    };\n\n    /**\n     * Deprecated: Prefer originFrom with static origin array, or use a Transitionable with that origin.\n     * @deprecated\n     * @method setOrigin\n     *\n     * @param {Array.Number} origin two element array with values between 0 and 1.\n     * @param {Transitionable} transition Valid transitionable object\n     * @param {Function} callback callback to call after transition completes\n     * @return {Modifier} this\n     */\n    Modifier.prototype.setOrigin = function setOrigin(origin, transition, callback) {\n        /* TODO: remove this if statement when deprecation complete */\n        if (transition || this._legacyStates.origin) {\n\n            if (!this._legacyStates.origin) {\n                this._legacyStates.origin = new Transitionable(this._output.origin || [0, 0]);\n            }\n            if (!this._originGetter) this.originFrom(this._legacyStates.origin);\n\n            this._legacyStates.origin.set(origin, transition, callback);\n            return this;\n        }\n        else return this.originFrom(origin);\n    };\n\n    /**\n     * Deprecated: Prefer alignFrom with static align array, or use a Transitionable with that align.\n     * @deprecated\n     * @method setAlign\n     *\n     * @param {Array.Number} align two element array with values between 0 and 1.\n     * @param {Transitionable} transition Valid transitionable object\n     * @param {Function} callback callback to call after transition completes\n     * @return {Modifier} this\n     */\n    Modifier.prototype.setAlign = function setAlign(align, transition, callback) {\n        /* TODO: remove this if statement when deprecation complete */\n        if (transition || this._legacyStates.align) {\n\n            if (!this._legacyStates.align) {\n                this._legacyStates.align = new Transitionable(this._output.align || [0, 0]);\n            }\n            if (!this._alignGetter) this.alignFrom(this._legacyStates.align);\n\n            this._legacyStates.align.set(align, transition, callback);\n            return this;\n        }\n        else return this.alignFrom(align);\n    };\n\n    /**\n     * Deprecated: Prefer sizeFrom with static origin array, or use a Transitionable with that size.\n     * @deprecated\n     * @method setSize\n     * @param {Array.Number} size two element array of [width, height]\n     * @param {Transitionable} transition Valid transitionable object\n     * @param {Function} callback callback to call after transition completes\n     * @return {Modifier} this\n     */\n    Modifier.prototype.setSize = function setSize(size, transition, callback) {\n        if (size && (transition || this._legacyStates.size)) {\n            if (!this._legacyStates.size) {\n                this._legacyStates.size = new Transitionable(this._output.size || [0, 0]);\n            }\n            if (!this._sizeGetter) this.sizeFrom(this._legacyStates.size);\n\n            this._legacyStates.size.set(size, transition, callback);\n            return this;\n        }\n        else return this.sizeFrom(size);\n    };\n\n    /**\n     * Deprecated: Prefer proportionsFrom with static origin array, or use a Transitionable with those proportions.\n     * @deprecated\n     * @method setProportions\n     * @param {Array.Number} proportions two element array of [percent of width, percent of height]\n     * @param {Transitionable} transition Valid transitionable object\n     * @param {Function} callback callback to call after transition completes\n     * @return {Modifier} this\n     */\n    Modifier.prototype.setProportions = function setProportions(proportions, transition, callback) {\n        if (proportions && (transition || this._legacyStates.proportions)) {\n            if (!this._legacyStates.proportions) {\n                this._legacyStates.proportions = new Transitionable(this._output.proportions || [0, 0]);\n            }\n            if (!this._proportionGetter) this.proportionsFrom(this._legacyStates.proportions);\n\n            this._legacyStates.proportions.set(proportions, transition, callback);\n            return this;\n        }\n        else return this.proportionsFrom(proportions);\n    };\n\n    /**\n     * Deprecated: Prefer to stop transform in your provider object.\n     * @deprecated\n     * @method halt\n     */\n    Modifier.prototype.halt = function halt() {\n        if (this._legacyStates.transform) this._legacyStates.transform.halt();\n        if (this._legacyStates.opacity) this._legacyStates.opacity.halt();\n        if (this._legacyStates.origin) this._legacyStates.origin.halt();\n        if (this._legacyStates.align) this._legacyStates.align.halt();\n        if (this._legacyStates.size) this._legacyStates.size.halt();\n        if (this._legacyStates.proportions) this._legacyStates.proportions.halt();\n        this._transformGetter = null;\n        this._opacityGetter = null;\n        this._originGetter = null;\n        this._alignGetter = null;\n        this._sizeGetter = null;\n        this._proportionGetter = null;\n    };\n\n    /**\n     * Deprecated: Prefer to use your provided transform or output of your transform provider.\n     * @deprecated\n     * @method getTransform\n     * @return {Object} transform provider object\n     */\n    Modifier.prototype.getTransform = function getTransform() {\n        return this._transformGetter();\n    };\n\n    /**\n     * Deprecated: Prefer to determine the end state of your transform from your transform provider\n     * @deprecated\n     * @method getFinalTransform\n     * @return {Transform} transform matrix\n     */\n    Modifier.prototype.getFinalTransform = function getFinalTransform() {\n        return this._legacyStates.transform ? this._legacyStates.transform.getFinal() : this._output.transform;\n    };\n\n    /**\n     * Deprecated: Prefer to use your provided opacity or output of your opacity provider.\n     * @deprecated\n     * @method getOpacity\n     * @return {Object} opacity provider object\n     */\n    Modifier.prototype.getOpacity = function getOpacity() {\n        return this._opacityGetter();\n    };\n\n    /**\n     * Deprecated: Prefer to use your provided origin or output of your origin provider.\n     * @deprecated\n     * @method getOrigin\n     * @return {Object} origin provider object\n     */\n    Modifier.prototype.getOrigin = function getOrigin() {\n        return this._originGetter();\n    };\n\n    /**\n     * Deprecated: Prefer to use your provided align or output of your align provider.\n     * @deprecated\n     * @method getAlign\n     * @return {Object} align provider object\n     */\n    Modifier.prototype.getAlign = function getAlign() {\n        return this._alignGetter();\n    };\n\n    /**\n     * Deprecated: Prefer to use your provided size or output of your size provider.\n     * @deprecated\n     * @method getSize\n     * @return {Object} size provider object\n     */\n    Modifier.prototype.getSize = function getSize() {\n        return this._sizeGetter ? this._sizeGetter() : this._output.size;\n    };\n\n    /**\n     * Deprecated: Prefer to use your provided proportions or output of your proportions provider.\n     * @deprecated\n     * @method getProportions\n     * @return {Object} proportions provider object\n     */\n    Modifier.prototype.getProportions = function getProportions() {\n        return this._proportionGetter ? this._proportionGetter() : this._output.proportions;\n    };\n\n    // call providers on tick to receive render spec elements to apply\n    function _update() {\n        if (this._transformGetter) this._output.transform = this._transformGetter();\n        if (this._opacityGetter) this._output.opacity = this._opacityGetter();\n        if (this._originGetter) this._output.origin = this._originGetter();\n        if (this._alignGetter) this._output.align = this._alignGetter();\n        if (this._sizeGetter) this._output.size = this._sizeGetter();\n        if (this._proportionGetter) this._output.proportions = this._proportionGetter();\n    }\n\n    /**\n     * Return render spec for this Modifier, applying to the provided\n     *    target component.  This is similar to render() for Surfaces.\n     *\n     * @private\n     * @method modify\n     *\n     * @param {Object} target (already rendered) render spec to\n     *    which to apply the transform.\n     * @return {Object} render spec for this Modifier, including the\n     *    provided target\n     */\n    Modifier.prototype.modify = function modify(target) {\n        _update.call(this);\n        this._output.target = target;\n        return this._output;\n    };\n\n    module.exports = Modifier;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/core/Modifier.js\n// module id = 32\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: david@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n    var Transitionable = require('./Transitionable');\n    var Transform = require('../core/Transform');\n    var Utility = require('../utilities/Utility');\n\n    /**\n     * A class for transitioning the state of a Transform by transitioning the\n     * X, Y, and Z axes of it's translate, scale, skew and rotate components\n     * independently.\n     *\n     * @class TransitionableTransform\n     * @constructor\n     *\n     * @param [transform=Transform.identity] {Transform} The initial transform state\n     */\n    function TransitionableTransform(transform) {\n        this._final = Transform.identity.slice();\n\n        this._finalTranslate = [0, 0, 0];\n        this._finalRotate = [0, 0, 0];\n        this._finalSkew = [0, 0, 0];\n        this._finalScale = [1, 1, 1];\n\n        this.translate = [];\n        this.rotate    = [];\n        this.skew      = [];\n        this.scale     = [];\n\n        for (var i=0; i<3; i+=1) {\n            this.translate[i] = new Transitionable(this._finalTranslate[i]);\n            this.rotate[i]    = new Transitionable(this._finalRotate[i]);\n            this.skew[i]      = new Transitionable(this._finalSkew[i]);\n            this.scale[i]     = new Transitionable(this._finalScale[i]);\n        }\n\n        if (transform) this.set(transform);\n    }\n\n    function _build() {\n        return Transform.build({\n            translate: [this.translate[0].get(), this.translate[1].get(), this.translate[2].get()],\n            rotate:    [this.rotate[0].get(),    this.rotate[1].get(),    this.rotate[2].get()],\n            skew:      [this.skew[0].get(),      this.skew[1].get(),      this.skew[2].get()],\n            scale:     [this.scale[0].get(),     this.scale[1].get(),     this.scale[2].get()]\n        });\n    }\n\n    function _buildFinal() {\n        return Transform.build({\n            translate: this._finalTranslate,\n            rotate: this._finalRotate,\n            skew: this._finalSkew,\n            scale: this._finalScale\n        });\n    }\n\n    function _countOfType(array, type) {\n        var count = 0;\n        for (var i=0; i<array.length; i+=1) {\n            if (typeof array[i] === type+'') {\n                count+=1;\n            }\n        }\n        return count;\n    }\n\n    /**\n     * An optimized way of setting only the translation component of a Transform. Axes who's values are null will not be affected.\n     *\n     * @method setTranslate\n     * @chainable\n     *\n     * @param translate {Array}     New translation state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setTranslate = function setTranslate(translate, transition, callback) {\n        var numberOfAxes = _countOfType(translate, 'number');\n        var _callback = callback ? Utility.after(numberOfAxes, callback) : null;\n        for (var i=0; i<translate.length; i+=1) {\n            if (typeof translate[i] === 'number') {\n                this.translate[i].set(translate[i], transition, _callback);\n                this._finalTranslate[i] = translate[i];\n            }\n        }\n        this._final = _buildFinal.call(this);\n        return this;\n    };\n\n    /**\n     * Translate only along the X axis of the translation component of a Transform.\n     *\n     * @method setTranslateX\n     * @chainable\n     *\n     * @param translate {Number}     New translation state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setTranslateX = function setTranslateX(translate, transition, callback) {\n        this.translate[0].set(translate, transition, callback);\n        this._finalTranslate[0] = translate;\n        this._final = _buildFinal.call(this);\n        return this;\n    };\n\n    /**\n     * Translate only along the Y axis of the translation component of a Transform.\n     *\n     * @method setTranslateY\n     * @chainable\n     *\n     * @param translate {Number}     New translation state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setTranslateY = function setTranslateY(translate, transition, callback) {\n        this.translate[1].set(translate, transition, callback);\n        this._finalTranslate[1] = translate;\n        this._final = _buildFinal.call(this);\n        return this;\n    };\n\n    /**\n     * Translate only along the Z axis of the translation component of a Transform.\n     *\n     * @method setTranslateZ\n     * @chainable\n     *\n     * @param translate {Number}     New translation state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setTranslateZ = function setTranslateZ(translate, transition, callback) {\n        this.translate[2].set(translate, transition, callback);\n        this._finalTranslate[2] = translate;\n        this._final = _buildFinal.call(this);\n        return this;\n    };\n\n    /**\n     * An optimized way of setting only the scale component of a Transform. Axes who's values are null will not be affected.\n     *\n     * @method setScale\n     * @chainable\n     *\n     * @param scale {Array}         New scale state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setScale = function setScale(scale, transition, callback) {\n        var numberOfAxes = _countOfType(scale, 'number');\n        var _callback = callback ? Utility.after(numberOfAxes, callback) : null;\n        for (var i=0; i<scale.length; i+=1) {\n            if (typeof scale[i] === 'number') {\n                this.scale[i].set(scale[i], transition, _callback);\n                this._finalScale[i] = scale[i];\n            }\n        }\n        this._final = _buildFinal.call(this);\n        return this;\n    };\n\n    /**\n     * Scale only along the X axis of the scale component of a Transform.\n     *\n     * @method setScaleX\n     * @chainable\n     *\n     * @param scale {Number}     New scale state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setScaleX = function setScaleX(scale, transition, callback) {\n        this.scale[0].set(scale, transition, callback);\n        this._finalScale[0] = scale;\n        this._final = _buildFinal.call(this);\n        return this;\n    };\n\n    /**\n     * Scale only along the Y axis of the scale component of a Transform.\n     *\n     * @method setScaleY\n     * @chainable\n     *\n     * @param scale {Number}     New scale state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setScaleY = function setScaleY(scale, transition, callback) {\n        this.scale[1].set(scale, transition, callback);\n        this._finalScale[1] = scale;\n        this._final = _buildFinal.call(this);\n        return this;\n    };\n\n    /**\n     * Scale only along the Z axis of the scale component of a Transform.\n     *\n     * @method setScaleZ\n     * @chainable\n     *\n     * @param scale {Number}     New scale state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setScaleZ = function setScaleZ(scale, transition, callback) {\n        this.scale[2].set(scale, transition, callback);\n        this._finalScale[2] = scale;\n        this._final = _buildFinal.call(this);\n        return this;\n    };\n\n    /**\n     * An optimized way of setting only the rotational component of a Transform. Axes who's values are null will not be affected.\n     *\n     * @method setRotate\n     * @chainable\n     *\n     * @param eulerAngles {Array}   Euler angles for new rotation state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setRotate = function setRotate(eulerAngles, transition, callback) {\n        var numberOfAxes = _countOfType(eulerAngles, 'number');\n        var _callback = callback ? Utility.after(numberOfAxes, callback) : null;\n        for (var i=0; i<eulerAngles.length; i+=1) {\n            if (typeof eulerAngles[i] === 'number') {\n                this.rotate[i].set(eulerAngles[i], transition, _callback);\n                this._finalRotate[i] = eulerAngles[i];\n            }\n        }\n        this._final = _buildFinal.call(this);\n        return this;\n    };\n\n    /**\n     * Rotate only about the X axis of the rotational component of a Transform.\n     *\n     * @method setScaleX\n     * @chainable\n     *\n     * @param eulerAngle {Number}     New rotational state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setRotateX = function setRotateX(eulerAngle, transition, callback) {\n        this.rotate[0].set(eulerAngle, transition, callback);\n        this._finalRotate[0] = eulerAngle;\n        this._final = _buildFinal.call(this);\n        return this;\n    };\n\n    /**\n     * Rotate only about the Y axis of the rotational component of a Transform.\n     *\n     * @method setScaleY\n     * @chainable\n     *\n     * @param eulerAngle {Number}     New rotational state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setRotateY = function setRotateY(eulerAngle, transition, callback) {\n        this.rotate[1].set(eulerAngle, transition, callback);\n        this._finalRotate[1] = eulerAngle;\n        this._final = _buildFinal.call(this);\n        return this;\n    };\n\n    /**\n     * Rotate only about the Z axis of the rotational component of a Transform.\n     *\n     * @method setScaleZ\n     * @chainable\n     *\n     * @param eulerAngle {Number}     New rotational state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setRotateZ = function setRotateZ(eulerAngle, transition, callback) {\n        this.rotate[2].set(eulerAngle, transition, callback);\n        this._finalRotate[2] = eulerAngle;\n        this._final = _buildFinal.call(this);\n        return this;\n    };\n\n    /**\n     * An optimized way of setting only the skew component of a Transform. Axes who's values are null will not be affected.\n     *\n     * @method setSkew\n     * @chainable\n     *\n     * @param skewAngles {Array}    New skew state. Axes who's values are null will not be affected.\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setSkew = function setSkew(skewAngles, transition, callback) {\n        var numberOfAxes = _countOfType(skewAngles, 'number');\n        var _callback = callback ? Utility.after(numberOfAxes, callback) : null;\n        for (var i=0; i<skewAngles.length; i+=1) {\n            if (typeof skewAngles[i] === 'number') {\n                this.skew[i].set(skewAngles[i], transition, _callback);\n                this._finalSkew[i] = skewAngles[i];\n            }\n        }\n        this._final = _buildFinal.call(this);\n        return this;\n    };\n\n    /**\n     * Skew only about the X axis of the skew component of a Transform.\n     *\n     * @method setSkewX\n     * @chainable\n     *\n     * @param skewAngle {Number}     New skew state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setSkewX = function setSkewX(skewAngle, transition, callback) {\n        this.skew[0].set(skewAngle, transition, callback);\n        this._finalSkew[0] = skewAngle;\n        this._final = _buildFinal.call(this);\n        return this;\n    };\n\n    /**\n     * Skew only about the Y axis of the skew component of a Transform.\n     *\n     * @method setSkewY\n     * @chainable\n     *\n     * @param skewAngle {Number}     New skew state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setSkewY = function setSkewY(skewAngle, transition, callback) {\n        this.skew[1].set(skewAngle, transition, callback);\n        this._finalSkew[1] = skewAngle;\n        this._final = _buildFinal.call(this);\n        return this;\n    };\n\n    /**\n     * Skew only about the Z axis of the skew component of a Transform.\n     *\n     * @method setSkewZ\n     * @chainable\n     *\n     * @param skewAngle {Number}     New skew state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setSkewZ = function setSkewZ(skewAngle, transition, callback) {\n        this.skew[2].set(skewAngle, transition, callback);\n        this._finalSkew[2] = skewAngle;\n        this._final = _buildFinal.call(this);\n        return this;\n    };\n\n    /**\n     * Setter for a TransitionableTransform with optional parameters to transition\n     * between Transforms. Animates all axes of all components.\n     *\n     * @method set\n     * @chainable\n     *\n     * @param transform {Array}     New transform state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.set = function set(transform, transition, callback) {\n        var components = Transform.interpret(transform);\n\n        this._finalTranslate = components.translate;\n        this._finalRotate = components.rotate;\n        this._finalSkew = components.skew;\n        this._finalScale = components.scale;\n        this._final = transform;\n\n        var _callback = callback ? Utility.after(12, callback) : null;\n        for (var i=0; i<3; i+=1) {\n            this.translate[i].set(components.translate[i], transition, _callback);\n            this.rotate[i].set(components.rotate[i], transition, _callback);\n            this.skew[i].set(components.skew[i], transition, _callback);\n            this.scale[i].set(components.scale[i], transition, _callback);\n        }\n        return this;\n    };\n\n    /**\n     * Sets the default transition to use for transitioning betwen Transform states\n     *\n     * @method setDefaultTransition\n     *\n     * @param transition {Object} Transition definition\n     */\n    TransitionableTransform.prototype.setDefaultTransition = function setDefaultTransition(transition) {\n        for (var i=0; i<3; i+=1) {\n            this.translate[i].setDefault(transition);\n            this.rotate[i].setDefault(transition);\n            this.skew[i].setDefault(transition);\n            this.scale[i].setDefault(transition);\n        }\n    };\n\n    /**\n     * Getter. Returns the current state of the Transform\n     *\n     * @method get\n     *\n     * @return {Transform}\n     */\n    TransitionableTransform.prototype.get = function get() {\n        if (this.isActive()) {\n            return _build.call(this);\n        }\n        else return this._final;\n    };\n\n    /**\n     * Get the destination state of the Transform\n     *\n     * @method getFinal\n     *\n     * @return Transform {Transform}\n     */\n    TransitionableTransform.prototype.getFinal = function getFinal() {\n        return this._final;\n    };\n\n    /**\n     * Determine if the TransitionableTransform is currently transitioning\n     *\n     * @method isActive\n     *\n     * @return {Boolean}\n     */\n    TransitionableTransform.prototype.isActive = function isActive() {\n        var isActive = false;\n\n        for (var i=0; i<3; i+=1) {\n            if (\n                this.translate[i].isActive()\n                || this.rotate[i].isActive()\n                || this.skew[i].isActive()\n                || this.scale[i].isActive()\n            ) {\n                isActive = true; break;\n            }\n        }\n        return isActive;\n    };\n\n    /**\n     * Halts the transition\n     *\n     * @method halt\n     */\n    TransitionableTransform.prototype.halt = function halt() {\n        for (var i=0; i<3; i+=1) {\n            this.translate[i].halt();\n            this.rotate[i].halt();\n            this.skew[i].halt();\n            this.scale[i].halt();\n\n            this._finalTranslate[i] = this.translate[i].get();\n            this._finalRotate[i] = this.rotate[i].get();\n            this._finalSkew[i] = this.skew[i].get();\n            this._finalScale[i] = this.scale[i].get();\n        }\n\n        this._final = this.get();\n\n        return this;\n    };\n\n    module.exports = TransitionableTransform;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/transitions/TransitionableTransform.js\n// module id = 33\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n    var Entity = require('./Entity');\n    var SpecParser = require('./SpecParser');\n\n    /**\n     * A wrapper for inserting a renderable component (like a Modifer or\n     *   Surface) into the render tree.\n     *\n     * @class RenderNode\n     * @constructor\n     *\n     * @param {Object} object Target renderable component\n     */\n    function RenderNode(object) {\n        this._object = null;\n        this._child = null;\n        this._hasMultipleChildren = false;\n        this._isRenderable = false;\n        this._isModifier = false;\n\n        this._resultCache = {};\n        this._prevResults = {};\n\n        this._childResult = null;\n\n        if (object) this.set(object);\n    }\n\n    /**\n     * Append a renderable to the list of this node's children.\n     *   This produces a new RenderNode in the tree.\n     *   Note: Does not double-wrap if child is a RenderNode already.\n     *\n     * @method add\n     * @param {Object} child renderable object\n     * @return {RenderNode} new render node wrapping child\n     */\n    RenderNode.prototype.add = function add(child) {\n        var childNode = (child instanceof RenderNode) ? child : new RenderNode(child);\n        if (this._child instanceof Array) this._child.push(childNode);\n        else if (this._child) {\n            this._child = [this._child, childNode];\n            this._hasMultipleChildren = true;\n            this._childResult = []; // to be used later\n        }\n        else this._child = childNode;\n\n        return childNode;\n    };\n\n    /**\n     * Return the single wrapped object.  Returns null if this node has multiple child nodes.\n     *\n     * @method get\n     *\n     * @return {Ojbect} contained renderable object\n     */\n    RenderNode.prototype.get = function get() {\n        return this._object || (this._hasMultipleChildren ? null : (this._child ? this._child.get() : null));\n    };\n\n    /**\n     * Overwrite the list of children to contain the single provided object\n     *\n     * @method set\n     * @param {Object} child renderable object\n     * @return {RenderNode} this render node, or child if it is a RenderNode\n     */\n    RenderNode.prototype.set = function set(child) {\n        this._childResult = null;\n        this._hasMultipleChildren = false;\n        this._isRenderable = child.render ? true : false;\n        this._isModifier = child.modify ? true : false;\n        this._object = child;\n        this._child = null;\n        if (child instanceof RenderNode) return child;\n        else return this;\n    };\n\n    /**\n     * Get render size of contained object.\n     *\n     * @method getSize\n     * @return {Array.Number} size of this or size of single child.\n     */\n    RenderNode.prototype.getSize = function getSize() {\n        var result = null;\n        var target = this.get();\n        if (target && target.getSize) result = target.getSize();\n        if (!result && this._child && this._child.getSize) result = this._child.getSize();\n        return result;\n    };\n\n    // apply results of rendering this subtree to the document\n    function _applyCommit(spec, context, cacheStorage) {\n        var result = SpecParser.parse(spec, context);\n        var keys = Object.keys(result);\n        for (var i = 0; i < keys.length; i++) {\n            var id = keys[i];\n            var childNode = Entity.get(id);\n            var commitParams = result[id];\n            commitParams.allocator = context.allocator;\n            var commitResult = childNode.commit(commitParams);\n            if (commitResult) _applyCommit(commitResult, context, cacheStorage);\n            else cacheStorage[id] = commitParams;\n        }\n    }\n\n    /**\n     * Commit the content change from this node to the document.\n     *\n     * @private\n     * @method commit\n     * @param {Context} context render context\n     */\n    RenderNode.prototype.commit = function commit(context) {\n        // free up some divs from the last loop\n        var prevKeys = Object.keys(this._prevResults);\n        for (var i = 0; i < prevKeys.length; i++) {\n            var id = prevKeys[i];\n            if (this._resultCache[id] === undefined) {\n                var object = Entity.get(id);\n                if (object.cleanup) object.cleanup(context.allocator);\n            }\n        }\n\n        this._prevResults = this._resultCache;\n        this._resultCache = {};\n        _applyCommit(this.render(), context, this._resultCache);\n    };\n\n    /**\n     * Generate a render spec from the contents of the wrapped component.\n     *\n     * @private\n     * @method render\n     *\n     * @return {Object} render specification for the component subtree\n     *    only under this node.\n     */\n    RenderNode.prototype.render = function render() {\n        if (this._isRenderable) return this._object.render();\n\n        var result = null;\n        if (this._hasMultipleChildren) {\n            result = this._childResult;\n            var children = this._child;\n            for (var i = 0; i < children.length; i++) {\n                result[i] = children[i].render();\n            }\n        }\n        else if (this._child) result = this._child.render();\n\n        return this._isModifier ? this._object.modify(result) : result;\n    };\n\n    module.exports = RenderNode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/core/RenderNode.js\n// module id = 34\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n    /**\n     * A singleton that maintains a global registry of Surfaces.\n     *   Private.\n     *\n     * @private\n     * @static\n     * @class Entity\n     */\n\n    var entities = [];\n\n    /**\n     * Get entity from global index.\n     *\n     * @private\n     * @method get\n     * @param {Number} id entity registration id\n     * @return {Surface} entity in the global index\n     */\n    function get(id) {\n        return entities[id];\n    }\n\n    /**\n     * Overwrite entity in the global index\n     *\n     * @private\n     * @method set\n     * @param {Number} id entity registration id\n     * @param {Surface} entity to add to the global index\n     */\n    function set(id, entity) {\n        entities[id] = entity;\n    }\n\n    /**\n     * Add entity to global index\n     *\n     * @private\n     * @method register\n     * @param {Surface} entity to add to global index\n     * @return {Number} new id\n     */\n    function register(entity) {\n        var id = entities.length;\n        set(id, entity);\n        return id;\n    }\n\n    /**\n     * Remove entity from global index\n     *\n     * @private\n     * @method unregister\n     * @param {Number} id entity registration id\n     */\n    function unregister(id) {\n        set(id, null);\n    }\n\n    module.exports = {\n        register: register,\n        unregister: unregister,\n        get: get,\n        set: set\n    };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/core/Entity.js\n// module id = 35\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n    var EventHandler = require('./EventHandler');\n\n    /**\n     *  A collection of methods for setting options which can be extended\n     *  onto other classes.\n     *\n     *\n     *  **** WARNING ****\n     *  You can only pass through objects that will compile into valid JSON.\n     *\n     *  Valid options:\n     *      Strings,\n     *      Arrays,\n     *      Objects,\n     *      Numbers,\n     *      Nested Objects,\n     *      Nested Arrays.\n     *\n     *    This excludes:\n     *        Document Fragments,\n     *        Functions\n     * @class OptionsManager\n     * @constructor\n     * @param {Object} value options dictionary\n     */\n    function OptionsManager(value) {\n        this._value = value;\n        this.eventOutput = null;\n    }\n\n    /**\n     * Create options manager from source dictionary with arguments overriden by patch dictionary.\n     *\n     * @static\n     * @method OptionsManager.patch\n     *\n     * @param {Object} source source arguments\n     * @param {...Object} data argument additions and overwrites\n     * @return {Object} source object\n     */\n    OptionsManager.patch = function patchObject(source, data) {\n        var manager = new OptionsManager(source);\n        for (var i = 1; i < arguments.length; i++) manager.patch(arguments[i]);\n        return source;\n    };\n\n    function _createEventOutput() {\n        this.eventOutput = new EventHandler();\n        this.eventOutput.bindThis(this);\n        EventHandler.setOutputHandler(this, this.eventOutput);\n    }\n\n    /**\n     * Create OptionsManager from source with arguments overriden by patches.\n     *   Triggers 'change' event on this object's event handler if the state of\n     *   the OptionsManager changes as a result.\n     *\n     * @method patch\n     *\n     * @param {...Object} arguments list of patch objects\n     * @return {OptionsManager} this\n     */\n    OptionsManager.prototype.patch = function patch() {\n        var myState = this._value;\n        for (var i = 0; i < arguments.length; i++) {\n            var data = arguments[i];\n            for (var k in data) {\n                if ((k in myState) && (data[k] && data[k].constructor === Object) && (myState[k] && myState[k].constructor === Object)) {\n                    if (!myState.hasOwnProperty(k)) myState[k] = Object.create(myState[k]);\n                    this.key(k).patch(data[k]);\n                    if (this.eventOutput) this.eventOutput.emit('change', {id: k, value: this.key(k).value()});\n                }\n                else this.set(k, data[k]);\n            }\n        }\n        return this;\n    };\n\n    /**\n     * Alias for patch\n     *\n     * @method setOptions\n     *\n     */\n    OptionsManager.prototype.setOptions = OptionsManager.prototype.patch;\n\n    /**\n     * Return OptionsManager based on sub-object retrieved by key\n     *\n     * @method key\n     *\n     * @param {string} identifier key\n     * @return {OptionsManager} new options manager with the value\n     */\n    OptionsManager.prototype.key = function key(identifier) {\n        var result = new OptionsManager(this._value[identifier]);\n        if (!(result._value instanceof Object) || result._value instanceof Array) result._value = {};\n        return result;\n    };\n\n    /**\n     * Look up value by key or get the full options hash\n     * @method get\n     *\n     * @param {string} key key\n     * @return {Object} associated object or full options hash\n     */\n    OptionsManager.prototype.get = function get(key) {\n        return key ? this._value[key] : this._value;\n    };\n\n    /**\n     * Alias for get\n     * @method getOptions\n     */\n    OptionsManager.prototype.getOptions = OptionsManager.prototype.get;\n\n    /**\n     * Set key to value.  Outputs 'change' event if a value is overwritten.\n     *\n     * @method set\n     *\n     * @param {string} key key string\n     * @param {Object} value value object\n     * @return {OptionsManager} new options manager based on the value object\n     */\n    OptionsManager.prototype.set = function set(key, value) {\n        var originalValue = this.get(key);\n        this._value[key] = value;\n        if (this.eventOutput && value !== originalValue) this.eventOutput.emit('change', {id: key, value: value});\n        return this;\n    };\n\n    /**\n     * Bind a callback function to an event type handled by this object.\n     *\n     * @method \"on\"\n     *\n     * @param {string} type event type key (for example, 'change')\n     * @param {function(string, Object)} handler callback\n     * @return {EventHandler} this\n     */\n    OptionsManager.prototype.on = function on() {\n        _createEventOutput.call(this);\n        return this.on.apply(this, arguments);\n    };\n\n    /**\n     * Unbind an event by type and handler.\n     *   This undoes the work of \"on\".\n     *\n     * @method removeListener\n     *\n     * @param {string} type event type key (for example, 'change')\n     * @param {function} handler function object to remove\n     * @return {EventHandler} internal event handler object (for chaining)\n     */\n    OptionsManager.prototype.removeListener = function removeListener() {\n        _createEventOutput.call(this);\n        return this.removeListener.apply(this, arguments);\n    };\n\n    /**\n     * Add event handler object to set of downstream handlers.\n     *\n     * @method pipe\n     *\n     * @param {EventHandler} target event handler target object\n     * @return {EventHandler} passed event handler\n     */\n    OptionsManager.prototype.pipe = function pipe() {\n        _createEventOutput.call(this);\n        return this.pipe.apply(this, arguments);\n    };\n\n    /**\n     * Remove handler object from set of downstream handlers.\n     * Undoes work of \"pipe\"\n     *\n     * @method unpipe\n     *\n     * @param {EventHandler} target target handler object\n     * @return {EventHandler} provided target\n     */\n    OptionsManager.prototype.unpipe = function unpipe() {\n        _createEventOutput.call(this);\n        return this.unpipe.apply(this, arguments);\n    };\n\n    module.exports = OptionsManager;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/core/OptionsManager.js\n// module id = 36\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n    var ElementOutput = require('./ElementOutput');\n\n    /**\n     * A base class for viewable content and event\n     *   targets inside a Famo.us application, containing a renderable document\n     *   fragment. Like an HTML div, it can accept internal markup,\n     *   properties, classes, and handle events.\n     *\n     * @class Surface\n     * @constructor\n     *\n     * @param {Object} [options] default option overrides\n     * @param {Array.Number} [options.size] [width, height] in pixels\n     * @param {Array.string} [options.classes] CSS classes to set on target div\n     * @param {Array} [options.properties] string dictionary of CSS properties to set on target div\n     * @param {Array} [options.attributes] string dictionary of HTML attributes to set on target div\n     * @param {string} [options.content] inner (HTML) content of surface\n     */\n    function Surface(options) {\n        ElementOutput.call(this);\n\n        this.options = {};\n\n        this.properties = {};\n        this.attributes = {};\n        this.content = '';\n        this.classList = [];\n        this.size = null;\n\n        this._classesDirty = true;\n        this._stylesDirty = true;\n        this._attributesDirty = true;\n        this._sizeDirty = true;\n        this._contentDirty = true;\n        this._trueSizeCheck = true;\n\n        this._dirtyClasses = [];\n\n        if (options) this.setOptions(options);\n\n        this._currentTarget = null;\n    }\n    Surface.prototype = Object.create(ElementOutput.prototype);\n    Surface.prototype.constructor = Surface;\n    Surface.prototype.elementType = 'div';\n    Surface.prototype.elementClass = 'famous-surface';\n\n    /**\n     * Set HTML attributes on this Surface. Note that this will cause\n     *    dirtying and thus re-rendering, even if values do not change.\n     *\n     * @method setAttributes\n    * @param {Object} attributes property dictionary of \"key\" => \"value\"\n     */\n    Surface.prototype.setAttributes = function setAttributes(attributes) {\n        for (var n in attributes) {\n            if (n === 'style') throw new Error('Cannot set styles via \"setAttributes\" as it will break Famo.us.  Use \"setProperties\" instead.');\n            this.attributes[n] = attributes[n];\n        }\n        this._attributesDirty = true;\n    };\n\n    /**\n     * Get HTML attributes on this Surface.\n     *\n     * @method getAttributes\n     *\n     * @return {Object} Dictionary of this Surface's attributes.\n     */\n    Surface.prototype.getAttributes = function getAttributes() {\n        return this.attributes;\n    };\n\n    /**\n     * Set CSS-style properties on this Surface. Note that this will cause\n     *    dirtying and thus re-rendering, even if values do not change.\n     *\n     * @method setProperties\n     * @chainable\n     * @param {Object} properties property dictionary of \"key\" => \"value\"\n     */\n    Surface.prototype.setProperties = function setProperties(properties) {\n        for (var n in properties) {\n            this.properties[n] = properties[n];\n        }\n        this._stylesDirty = true;\n        return this;\n    };\n\n    /**\n     * Get CSS-style properties on this Surface.\n     *\n     * @method getProperties\n     *\n     * @return {Object} Dictionary of this Surface's properties.\n     */\n    Surface.prototype.getProperties = function getProperties() {\n        return this.properties;\n    };\n\n    /**\n     * Add CSS-style class to the list of classes on this Surface. Note\n     *   this will map directly to the HTML property of the actual\n     *   corresponding rendered <div>.\n     *\n     * @method addClass\n     * @chainable\n     * @param {string} className name of class to add\n     */\n    Surface.prototype.addClass = function addClass(className) {\n        if (this.classList.indexOf(className) < 0) {\n            this.classList.push(className);\n            this._classesDirty = true;\n        }\n        return this;\n    };\n\n    /**\n     * Remove CSS-style class from the list of classes on this Surface.\n     *   Note this will map directly to the HTML property of the actual\n     *   corresponding rendered <div>.\n     *\n     * @method removeClass\n     * @chainable\n     * @param {string} className name of class to remove\n     */\n    Surface.prototype.removeClass = function removeClass(className) {\n        var i = this.classList.indexOf(className);\n        if (i >= 0) {\n            this._dirtyClasses.push(this.classList.splice(i, 1)[0]);\n            this._classesDirty = true;\n        }\n        return this;\n    };\n\n    /**\n     * Toggle CSS-style class from the list of classes on this Surface.\n     *   Note this will map directly to the HTML property of the actual\n     *   corresponding rendered <div>.\n     *\n     * @method toggleClass\n     * @param {string} className name of class to toggle\n     */\n    Surface.prototype.toggleClass = function toggleClass(className) {\n        var i = this.classList.indexOf(className);\n        if (i >= 0) {\n            this.removeClass(className);\n        } else {\n            this.addClass(className);\n        }\n        return this;\n    };\n\n    /**\n     * Reset class list to provided dictionary.\n     * @method setClasses\n     * @chainable\n     * @param {Array.string} classList\n     */\n    Surface.prototype.setClasses = function setClasses(classList) {\n        var i = 0;\n        var removal = [];\n        for (i = 0; i < this.classList.length; i++) {\n            if (classList.indexOf(this.classList[i]) < 0) removal.push(this.classList[i]);\n        }\n        for (i = 0; i < removal.length; i++) this.removeClass(removal[i]);\n        // duplicates are already checked by addClass()\n        for (i = 0; i < classList.length; i++) this.addClass(classList[i]);\n        return this;\n    };\n\n    /**\n     * Get array of CSS-style classes attached to this div.\n     *\n     * @method getClasslist\n     * @return {Array.string} array of class names\n     */\n    Surface.prototype.getClassList = function getClassList() {\n        return this.classList;\n    };\n\n    /**\n     * Set or overwrite inner (HTML) content of this surface. Note that this\n     *    causes a re-rendering if the content has changed.\n     *\n     * @method setContent\n     * @chainable\n     * @param {string|Document Fragment} content HTML content\n     */\n    Surface.prototype.setContent = function setContent(content) {\n        if (this.content !== content) {\n            this.content = content;\n            this._contentDirty = true;\n        }\n        return this;\n    };\n\n    /**\n     * Return inner (HTML) content of this surface.\n     *\n     * @method getContent\n     *\n     * @return {string} inner (HTML) content\n     */\n    Surface.prototype.getContent = function getContent() {\n        return this.content;\n    };\n\n    /**\n     * Set options for this surface\n     *\n     * @method setOptions\n     * @chainable\n     * @param {Object} [options] overrides for default options.  See constructor.\n     */\n    Surface.prototype.setOptions = function setOptions(options) {\n        if (options.size) this.setSize(options.size);\n        if (options.classes) this.setClasses(options.classes);\n        if (options.properties) this.setProperties(options.properties);\n        if (options.attributes) this.setAttributes(options.attributes);\n        if (options.content) this.setContent(options.content);\n        return this;\n    };\n\n    //  Apply to document all changes from removeClass() since last setup().\n    function _cleanupClasses(target) {\n        for (var i = 0; i < this._dirtyClasses.length; i++) target.classList.remove(this._dirtyClasses[i]);\n        this._dirtyClasses = [];\n    }\n\n    // Apply values of all Famous-managed styles to the document element.\n    //  These will be deployed to the document on call to #setup().\n    function _applyStyles(target) {\n        for (var n in this.properties) {\n            target.style[n] = this.properties[n];\n        }\n    }\n\n    // Clear all Famous-managed styles from the document element.\n    // These will be deployed to the document on call to #setup().\n    function _cleanupStyles(target) {\n        for (var n in this.properties) {\n            target.style[n] = '';\n        }\n    }\n\n    // Apply values of all Famous-managed attributes to the document element.\n    //  These will be deployed to the document on call to #setup().\n    function _applyAttributes(target) {\n        for (var n in this.attributes) {\n            target.setAttribute(n, this.attributes[n]);\n        }\n    }\n\n    // Clear all Famous-managed attributes from the document element.\n    // These will be deployed to the document on call to #setup().\n    function _cleanupAttributes(target) {\n        for (var n in this.attributes) {\n            target.removeAttribute(n);\n        }\n    }\n\n    function _xyNotEquals(a, b) {\n        return (a && b) ? (a[0] !== b[0] || a[1] !== b[1]) : a !== b;\n    }\n\n    /**\n     * One-time setup for an element to be ready for commits to document.\n     *\n     * @private\n     * @method setup\n     *\n     * @param {ElementAllocator} allocator document element pool for this context\n     */\n    Surface.prototype.setup = function setup(allocator) {\n        var target = allocator.allocate(this.elementType);\n        if (this.elementClass) {\n            if (this.elementClass instanceof Array) {\n                for (var i = 0; i < this.elementClass.length; i++) {\n                    target.classList.add(this.elementClass[i]);\n                }\n            }\n            else {\n                target.classList.add(this.elementClass);\n            }\n        }\n        target.style.display = '';\n        this.attach(target);\n        this._opacity = null;\n        this._currentTarget = target;\n        this._stylesDirty = true;\n        this._classesDirty = true;\n        this._attributesDirty = true;\n        this._sizeDirty = true;\n        this._contentDirty = true;\n        this._originDirty = true;\n        this._transformDirty = true;\n    };\n\n    /**\n     * Apply changes from this component to the corresponding document element.\n     * This includes changes to classes, styles, size, content, opacity, origin,\n     * and matrix transforms.\n     *\n     * @private\n     * @method commit\n     * @param {Context} context commit context\n     */\n    Surface.prototype.commit = function commit(context) {\n        if (!this._currentTarget) this.setup(context.allocator);\n        var target = this._currentTarget;\n        var size = context.size;\n\n        if (this._classesDirty) {\n            _cleanupClasses.call(this, target);\n            var classList = this.getClassList();\n            for (var i = 0; i < classList.length; i++) target.classList.add(classList[i]);\n            this._classesDirty = false;\n            this._trueSizeCheck = true;\n        }\n\n        if (this._stylesDirty) {\n            _applyStyles.call(this, target);\n            this._stylesDirty = false;\n            this._trueSizeCheck = true;\n        }\n\n        if (this._attributesDirty) {\n            _applyAttributes.call(this, target);\n            this._attributesDirty = false;\n            this._trueSizeCheck = true;\n        }\n\n        if (this.size) {\n            var origSize = context.size;\n            size = [this.size[0], this.size[1]];\n            if (size[0] === undefined) size[0] = origSize[0];\n            if (size[1] === undefined) size[1] = origSize[1];\n            if (size[0] === true || size[1] === true) {\n                if (size[0] === true){\n                    if (this._trueSizeCheck || (this._size[0] === 0)) {\n                        var width = target.offsetWidth;\n                        if (this._size && this._size[0] !== width) {\n                            this._size[0] = width;\n                            this._sizeDirty = true;\n                        }\n                        size[0] = width;\n                    } else {\n                        if (this._size) size[0] = this._size[0];\n                    }\n                }\n                if (size[1] === true){\n                    if (this._trueSizeCheck || (this._size[1] === 0)) {\n                        var height = target.offsetHeight;\n                        if (this._size && this._size[1] !== height) {\n                            this._size[1] = height;\n                            this._sizeDirty = true;\n                        }\n                        size[1] = height;\n                    } else {\n                        if (this._size) size[1] = this._size[1];\n                    }\n                }\n                this._trueSizeCheck = false;\n            }\n        }\n\n        if (_xyNotEquals(this._size, size)) {\n            if (!this._size) this._size = [0, 0];\n            this._size[0] = size[0];\n            this._size[1] = size[1];\n\n            this._sizeDirty = true;\n        }\n\n        if (this._sizeDirty) {\n            if (this._size) {\n                target.style.width = (this.size && this.size[0] === true) ? '' : this._size[0] + 'px';\n                target.style.height = (this.size && this.size[1] === true) ?  '' : this._size[1] + 'px';\n            }\n\n            this._eventOutput.emit('resize');\n        }\n\n        if (this._contentDirty) {\n            this.deploy(target);\n            this._eventOutput.emit('deploy');\n            this._contentDirty = false;\n            this._trueSizeCheck = true;\n        }\n\n        ElementOutput.prototype.commit.call(this, context);\n    };\n\n    /**\n     *  Remove all Famous-relevant attributes from a document element.\n     *    This is called by SurfaceManager's detach().\n     *    This is in some sense the reverse of .deploy().\n     *\n     * @private\n     * @method cleanup\n     * @param {ElementAllocator} allocator\n     */\n    Surface.prototype.cleanup = function cleanup(allocator) {\n        var i = 0;\n        var target = this._currentTarget;\n        this._eventOutput.emit('recall');\n        this.recall(target);\n        target.style.display = 'none';\n        target.style.opacity = '';\n        target.style.width = '';\n        target.style.height = '';\n        _cleanupStyles.call(this, target);\n        _cleanupAttributes.call(this, target);\n        var classList = this.getClassList();\n        _cleanupClasses.call(this, target);\n        for (i = 0; i < classList.length; i++) target.classList.remove(classList[i]);\n        if (this.elementClass) {\n            if (this.elementClass instanceof Array) {\n                for (i = 0; i < this.elementClass.length; i++) {\n                    target.classList.remove(this.elementClass[i]);\n                }\n            }\n            else {\n                target.classList.remove(this.elementClass);\n            }\n        }\n        this.detach(target);\n        this._currentTarget = null;\n        allocator.deallocate(target);\n    };\n\n    /**\n     * Place the document element that this component manages into the document.\n     *\n     * @private\n     * @method deploy\n     * @param {Node} target document parent of this container\n     */\n    Surface.prototype.deploy = function deploy(target) {\n        var content = this.getContent();\n        if (content instanceof Node) {\n            while (target.hasChildNodes()) target.removeChild(target.firstChild);\n            target.appendChild(content);\n        }\n        else target.innerHTML = content;\n    };\n\n    /**\n     * Remove any contained document content associated with this surface\n     *   from the actual document.\n     *\n     * @private\n     * @method recall\n     */\n    Surface.prototype.recall = function recall(target) {\n        var df = document.createDocumentFragment();\n        while (target.hasChildNodes()) df.appendChild(target.firstChild);\n        this.setContent(df);\n    };\n\n    /**\n     *  Get the x and y dimensions of the surface.\n     *\n     * @method getSize\n     * @return {Array.Number} [x,y] size of surface\n     */\n    Surface.prototype.getSize = function getSize() {\n        return this._size ? this._size : this.size;\n    };\n\n    /**\n     * Set x and y dimensions of the surface.\n     *\n     * @method setSize\n     * @chainable\n     * @param {Array.Number} size as [width, height]\n     */\n    Surface.prototype.setSize = function setSize(size) {\n        this.size = size ? [size[0], size[1]] : null;\n        this._sizeDirty = true;\n        return this;\n    };\n\n    module.exports = Surface;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/core/Surface.js\n// module id = 37\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('./utils');\n\nvar _createRule2 = require('./createRule');\n\nvar _createRule3 = _interopRequireDefault(_createRule2);\n\nvar _findRenderer = require('./findRenderer');\n\nvar _findRenderer2 = _interopRequireDefault(_findRenderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * StyleSheet model.\n *\n * Options:\n *\n * - `media` media query - attribute of style element.\n * - `meta` meta information about this style - attribute of style element, for e.g. you could pass\n * component name for easier debugging.\n * - `named` true by default - keys are names, selectors will be generated, if false - keys are\n * global selectors.\n * - `link` link jss `Rule` instances with DOM `CSSRule` instances so that styles, can be modified\n * dynamically, false by default because it has some performance cost.\n * - `element` style element, will create one by default\n *\n * @param {Object} [rules] object with selectors and declarations\n * @param {Object} [options]\n * @api public\n */\n\nvar StyleSheet = function () {\n  function StyleSheet(rules, options) {\n    _classCallCheck(this, StyleSheet);\n\n    this.options = _extends({}, options);\n    if (this.options.named == null) this.options.named = true;\n    this.rules = Object.create(null);\n    this.classes = Object.create(null);\n    this.attached = false;\n    this.deployed = false;\n    this.linked = false;\n\n    var Renderer = (0, _findRenderer2.default)(this.options);\n    this.options.Renderer = Renderer;\n    this.renderer = new Renderer(this.options);\n\n    for (var name in rules) {\n      this.createRule(name, rules[name]);\n    }\n  }\n\n  /**\n   * Attach renderable to the render tree.\n   *\n   * @api public\n   * @return {StyleSheet}\n   */\n\n\n  _createClass(StyleSheet, [{\n    key: 'attach',\n    value: function attach() {\n      if (this.attached) return this;\n      if (!this.deployed) this.deploy();\n      this.renderer.attach();\n      if (!this.linked && this.options.link) this.link();\n      this.attached = true;\n      return this;\n    }\n\n    /**\n     * Remove renderable from render tree.\n     *\n     * @return {StyleSheet}\n     * @api public\n     */\n\n  }, {\n    key: 'detach',\n    value: function detach() {\n      if (!this.attached) return this;\n      this.renderer.detach();\n      this.attached = false;\n      return this;\n    }\n\n    /**\n     * Add a rule to the current stylesheet. Will insert a rule also after the stylesheet\n     * has been rendered first time.\n     *\n     * @param {Object} [name] can be selector or name if options.named is true\n     * @param {Object} style property/value hash\n     * @return {Rule}\n     * @api public\n     */\n\n  }, {\n    key: 'addRule',\n    value: function addRule(name, style) {\n      var rule = this.createRule(name, style);\n      // Don't insert rule directly if there is no stringified version yet.\n      // It will be inserted all together when .attach is called.\n      if (this.deployed) {\n        var renderable = this.renderer.insertRule(rule);\n        if (this.options.link) rule.renderable = renderable;\n      }\n      return rule;\n    }\n\n    /**\n     * Create rules, will render also after stylesheet was rendered the first time.\n     *\n     * @param {Object} rules name:style hash.\n     * @return {Array} array of added rules\n     * @api public\n     */\n\n  }, {\n    key: 'addRules',\n    value: function addRules(rules) {\n      var added = [];\n      for (var name in rules) {\n        added.push(this.addRule(name, rules[name]));\n      }\n      return added;\n    }\n\n    /**\n     * Get a rule.\n     *\n     * @param {String} name can be selector or name if `named` option is true.\n     * @return {Rule}\n     * @api public\n     */\n\n  }, {\n    key: 'getRule',\n    value: function getRule(name) {\n      return this.rules[name];\n    }\n\n    /**\n     * Convert rules to a CSS string.\n     *\n     * @param {Object} options\n     * @return {String}\n     * @api public\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString(options) {\n      var rules = this.rules;\n\n      var stringified = Object.create(null);\n      var str = '';\n      for (var name in rules) {\n        var rule = rules[name];\n        // We have the same rule referenced twice if using named rules.\n        // By name and by selector.\n        if (stringified[rule.id]) {\n          continue;\n        }\n\n        if (rule.style && (0, _utils.isEmptyObject)(rule.style)) {\n          continue;\n        }\n\n        if (rule.rules && (0, _utils.isEmptyObject)(rule.rules)) {\n          continue;\n        }\n\n        if (str) str += '\\n';\n\n        str += rule.toString(options);\n        stringified[rule.id] = true;\n      }\n      return str;\n    }\n\n    /**\n     * Create a rule, will not render after stylesheet was rendered the first time.\n     * Will link the rule in `this.rules`.\n     *\n     * @see createRule\n     * @api private\n     */\n\n  }, {\n    key: 'createRule',\n    value: function createRule(name, style, options) {\n      options = _extends({}, options, {\n        sheet: this,\n        jss: this.options.jss,\n        Renderer: this.options.Renderer\n      });\n      // Scope options overwrite instance options.\n      if (options.named == null) options.named = this.options.named;\n      var rule = (0, _createRule3.default)(name, style, options);\n      this.registerRule(rule);\n      options.jss.plugins.run(rule);\n      return rule;\n    }\n\n    /**\n     * Register a rule in `sheet.rules` and `sheet.classes` maps.\n     *\n     * @param {Rule} rule\n     * @api public\n     */\n\n  }, {\n    key: 'registerRule',\n    value: function registerRule(rule) {\n      // Children of container rules should not be registered.\n      if (rule.options.parent) {\n        // We need to register child rules of conditionals in classes, otherwise\n        // user can't access generated class name if it doesn't overrides\n        // a regular rule.\n        if (rule.name && rule.className) {\n          this.classes[rule.name] = rule.className;\n        }\n        return this;\n      }\n\n      if (rule.name) {\n        this.rules[rule.name] = rule;\n        if (rule.className) this.classes[rule.name] = rule.className;\n      }\n      if (rule.selector) {\n        this.rules[rule.selector] = rule;\n      }\n      return this;\n    }\n\n    /**\n     * Unregister a rule.\n     *\n     * @param {Rule} rule\n     * @api public\n     */\n\n  }, {\n    key: 'unregisterRule',\n    value: function unregisterRule(rule) {\n      // Children of a conditional rule are not registered.\n      if (!rule.options.parent) {\n        delete this.rules[rule.name];\n        delete this.rules[rule.selector];\n      }\n      delete this.classes[rule.name];\n      return this;\n    }\n\n    /**\n     * Deploy pure CSS string to a renderable.\n     *\n     * @return {StyleSheet}\n     * @api private\n     */\n\n  }, {\n    key: 'deploy',\n    value: function deploy() {\n      this.renderer.deploy(this);\n      this.deployed = true;\n      return this;\n    }\n\n    /**\n     * Link renderable CSS rules with their corresponding models.\n     *\n     * @return {StyleSheet}\n     * @api private\n     */\n\n  }, {\n    key: 'link',\n    value: function link() {\n      var renderables = this.renderer.getRules();\n      for (var selector in renderables) {\n        var rule = this.rules[selector];\n        if (rule) rule.renderable = renderables[selector];\n      }\n      this.linked = true;\n      return this;\n    }\n  }]);\n\n  return StyleSheet;\n}();\n\nexports.default = StyleSheet;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss/lib/StyleSheet.js\n// module id = 38\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createRule;\n\nvar _Rule = require('./rules/Rule');\n\nvar _Rule2 = _interopRequireDefault(_Rule);\n\nvar _SimpleRule = require('./rules/SimpleRule');\n\nvar _SimpleRule2 = _interopRequireDefault(_SimpleRule);\n\nvar _KeyframeRule = require('./rules/KeyframeRule');\n\nvar _KeyframeRule2 = _interopRequireDefault(_KeyframeRule);\n\nvar _ConditionalRule = require('./rules/ConditionalRule');\n\nvar _ConditionalRule2 = _interopRequireDefault(_ConditionalRule);\n\nvar _FontFaceRule = require('./rules/FontFaceRule');\n\nvar _FontFaceRule2 = _interopRequireDefault(_FontFaceRule);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Map of at rules to corresponding implementation class.\n *\n * @type {Object}\n */\nvar atRuleClassMap = {\n  '@charset': _SimpleRule2.default,\n  '@import': _SimpleRule2.default,\n  '@namespace': _SimpleRule2.default,\n  '@keyframes': _KeyframeRule2.default,\n  '@media': _ConditionalRule2.default,\n  '@supports': _ConditionalRule2.default,\n  '@font-face': _FontFaceRule2.default\n};\n\nvar atRuleNameRegExp = /^@[^ ]+/;\n\n/**\n * Create rule factory.\n *\n * @param {Object} [selector] if you don't pass selector - it will be generated\n * @param {Object} [style] declarations block\n * @param {Object} [options] rule options\n * @return {Object} rule\n * @api private\n */\nfunction createRule(selector) {\n  var style = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n  var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n  // Is an at-rule.\n  if (selector && selector[0] === '@') {\n    var name = atRuleNameRegExp.exec(selector)[0];\n    var AtRule = atRuleClassMap[name];\n    return new AtRule(selector, style, options);\n  }\n\n  if (options.named == null) options.named = true;\n  return new _Rule2.default(selector, style, options);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss/lib/createRule.js\n// module id = 39\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('../utils');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Regular rules.\n *\n * @api public\n */\n\nvar Rule = function () {\n  function Rule(selector, style, options) {\n    _classCallCheck(this, Rule);\n\n    this.id = _utils.uid.get();\n    this.type = 'regular';\n    this.options = options;\n    this.selectorText = selector || '';\n    this.className = options.className || '';\n    this.originalStyle = style;\n    // We expect style to be plain object.\n    this.style = (0, _utils.clone)(style);\n    if (options.named) {\n      this.name = selector;\n      if (!this.className) {\n        this.className = this.name ? this.name + '--' + this.id : this.id;\n      }\n      this.selectorText = '.' + this.className;\n    }\n  }\n\n  /**\n   * Set selector string.\n   * Attenition: use this with caution. Most browser didn't implement selector\n   * text setter, so this will result in rerendering of entire style sheet.\n   *\n   * @param {String} selector\n   * @api public\n   */\n\n\n  _createClass(Rule, [{\n    key: 'prop',\n\n\n    /**\n     * Get or set a style property.\n     *\n     * @param {String} name\n     * @param {String|Number} [value]\n     * @return {Rule|String|Number}\n     * @api public\n     */\n    value: function prop(name, value) {\n      var style = this.options.Renderer.style;\n      // Its a setter.\n\n      if (value != null) {\n        this.style[name] = value;\n        // Only defined if option linked is true.\n        if (this.renderable) style(this.renderable, name, value);\n        return this;\n      }\n      // Its a getter, read the value from the DOM if its not cached.\n      if (this.renderable && this.style[name] == null) {\n        // Cache the value after we have got it from the DOM once.\n        this.style[name] = style(this.renderable, name);\n      }\n      return this.style[name];\n    }\n\n    /**\n     * Apply rule to an element inline.\n     *\n     * @param {Element} renderable\n     * @return {Rule}\n     * @api public\n     */\n\n  }, {\n    key: 'applyTo',\n    value: function applyTo(renderable) {\n      for (var prop in this.style) {\n        var value = this.style[prop];\n        var style = this.options.Renderer.style;\n\n        if (Array.isArray(value)) {\n          for (var index = 0; index < value.length; index++) {\n            style(renderable, prop, value[index]);\n          }\n        } else style(renderable, prop, value);\n      }\n      return this;\n    }\n\n    /**\n     * Returns JSON representation of the rule.\n     * Array of values is not supported.\n     *\n     * @return {Object}\n     * @api public\n     */\n\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      var style = Object.create(null);\n      for (var prop in this.style) {\n        if (_typeof(this.style[prop]) != 'object') {\n          style[prop] = this.style[prop];\n        }\n      }\n      return style;\n    }\n\n    /**\n     * Generates a CSS string.\n     *\n     * @see toCSS\n     * @api public\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString(options) {\n      return (0, _utils.toCSS)(this.selector, this.style, options);\n    }\n  }, {\n    key: 'selector',\n    set: function set() {\n      var selector = arguments.length <= 0 || arguments[0] === undefined ? '' : arguments[0];\n      var _options = this.options;\n      var Renderer = _options.Renderer;\n      var sheet = _options.sheet;\n\n      // After we modify selector, ref by old selector needs to be removed.\n\n      if (sheet) sheet.unregisterRule(this);\n\n      this.selectorText = selector;\n      this.className = (0, _utils.findClassNames)(selector);\n\n      if (!this.renderable) {\n        // Register the rule with new selector.\n        if (sheet) sheet.registerRule(this);\n        return;\n      }\n\n      var changed = Renderer.setSelector(this.renderable, selector);\n\n      if (changed) {\n        sheet.registerRule(this);\n        return;\n      }\n\n      // If selector setter is not implemented, rerender the sheet.\n      // We need to delete renderable from the rule, because when sheet.deploy()\n      // calls rule.toString, it will get the old selector.\n      delete this.renderable;\n      sheet.registerRule(this).deploy().link();\n    }\n\n    /**\n     * Get selector string.\n     *\n     * @return {String}\n     * @api public\n     */\n    ,\n    get: function get() {\n      if (this.renderable) {\n        return this.options.Renderer.getSelector(this.renderable);\n      }\n\n      return this.selectorText;\n    }\n  }]);\n\n  return Rule;\n}();\n\nexports.default = Rule;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss/lib/rules/Rule.js\n// module id = 40\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = findRenderer;\n\nvar _DomRenderer = require('./backends/DomRenderer');\n\nvar _DomRenderer2 = _interopRequireDefault(_DomRenderer);\n\nvar _VirtualRenderer = require('./backends/VirtualRenderer');\n\nvar _VirtualRenderer2 = _interopRequireDefault(_VirtualRenderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Find proper renderer.\n * Option `virtual` is used to force use of VirtualRenderer even if DOM is\n * detected, used for testing only.\n *\n * @param {Object} options\n * @return {Renderer}\n * @api private\n */\nfunction findRenderer() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  if (options.Renderer) return options.Renderer;\n  return options.virtual || typeof document == 'undefined' ? _VirtualRenderer2.default : _DomRenderer2.default;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss/lib/findRenderer.js\n// module id = 41\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Await for this to run code after the DOM has been parsed and loaded (but not\n * sub-resources like images, scripts, etc).\n *\n * @example\n * ```js\n * async function main() {\n *     await documentReady()\n *     console.log('Document ready!')\n * }\n * main()\n * ```\n */\n\nexports.default = function () {\n    var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {\n        return _regenerator2.default.wrap(function _callee$(_context) {\n            while (1) {\n                switch (_context.prev = _context.next) {\n                    case 0:\n                        if (!(document.readyState === 'loading')) {\n                            _context.next = 3;\n                            break;\n                        }\n\n                        _context.next = 3;\n                        return new _promise2.default(function (resolve) {\n                            document.addEventListener('DOMContentLoaded', resolve);\n                        });\n\n                    case 3:\n                    case 'end':\n                        return _context.stop();\n                }\n            }\n        }, _callee, this);\n    }));\n\n    function documentReady() {\n        return _ref.apply(this, arguments);\n    }\n\n    return documentReady;\n}();\n//# sourceMappingURL=documentReady.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/awaitbox/dom/documentReady.js\n// module id = 42\n// module chunks = 0","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-define.js\n// module id = 43\n// module chunks = 0","module.exports = true;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_library.js\n// module id = 44\n// module chunks = 0","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_fails.js\n// module id = 45\n// module chunks = 0","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_property-desc.js\n// module id = 46\n// module chunks = 0","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-length.js\n// module id = 47\n// module chunks = 0","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared.js\n// module id = 48\n// module chunks = 0","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_uid.js\n// module id = 49\n// module chunks = 0","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_enum-bug-keys.js\n// module id = 50\n// module chunks = 0","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_html.js\n// module id = 51\n// module chunks = 0","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_classof.js\n// module id = 52\n// module chunks = 0","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_species-constructor.js\n// module id = 53\n// module chunks = 0","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_task.js\n// module id = 54\n// module chunks = 0","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_perform.js\n// module id = 55\n// module chunks = 0","var newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_promise-resolve.js\n// module id = 56\n// module chunks = 0","/*! (C) WebReflection Mit Style License */\n(function(e,t,n,r){\"use strict\";function ot(e,t){for(var n=0,r=e.length;n<r;n++)yt(e[n],t)}function ut(e){for(var t=0,n=e.length,r;t<n;t++)r=e[t],st(r,b[ft(r)])}function at(e){return function(t){j(t)&&(yt(t,e),ot(t.querySelectorAll(w),e))}}function ft(e){var t=R.call(e,\"is\"),n=e.nodeName.toUpperCase(),r=S.call(y,t?v+t.toUpperCase():d+n);return t&&-1<r&&!lt(n,t)?-1:r}function lt(e,t){return-1<w.indexOf(e+'[is=\"'+t+'\"]')}function ct(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,i=e.target;Z&&(!i||i===t)&&t.attributeChangedCallback&&r!==\"style\"&&e.prevValue!==e.newValue&&t.attributeChangedCallback(r,n===e[a]?null:e.prevValue,n===e[l]?null:e.newValue)}function ht(e){var t=at(e);return function(e){J.push(t,e.target)}}function pt(e){Y&&(Y=!1,e.currentTarget.removeEventListener(h,pt)),ot((e.target||t).querySelectorAll(w),e.detail===o?o:s),B&&mt()}function dt(e,t){var n=this;W.call(n,e,t),et.call(n,{target:n})}function vt(e,t){D(e,t),rt?rt.observe(e,V):(G&&(e.setAttribute=dt,e[i]=nt(e),e.addEventListener(p,et)),e.addEventListener(c,ct)),e.createdCallback&&Z&&(e.created=!0,e.createdCallback(),e.created=!1)}function mt(){for(var e,t=0,n=F.length;t<n;t++)e=F[t],E.contains(e)||(n--,F.splice(t--,1),yt(e,o))}function gt(e){throw new Error(\"A \"+e+\" type is already registered\")}function yt(e,t){var n,r=ft(e);-1<r&&(it(e,b[r]),r=0,t===s&&!e[s]?(e[o]=!1,e[s]=!0,r=1,B&&S.call(F,e)<0&&F.push(e)):t===o&&!e[o]&&(e[s]=!1,e[o]=!0,r=1),r&&(n=e[t+\"Callback\"])&&n.call(e))}if(r in t)return;var i=\"__\"+r+(Math.random()*1e5>>0),s=\"attached\",o=\"detached\",u=\"extends\",a=\"ADDITION\",f=\"MODIFICATION\",l=\"REMOVAL\",c=\"DOMAttrModified\",h=\"DOMContentLoaded\",p=\"DOMSubtreeModified\",d=\"<\",v=\"=\",m=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,g=[\"ANNOTATION-XML\",\"COLOR-PROFILE\",\"FONT-FACE\",\"FONT-FACE-SRC\",\"FONT-FACE-URI\",\"FONT-FACE-FORMAT\",\"FONT-FACE-NAME\",\"MISSING-GLYPH\"],y=[],b=[],w=\"\",E=t.documentElement,S=y.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},x=n.prototype,T=x.hasOwnProperty,N=x.isPrototypeOf,C=n.defineProperty,k=n.getOwnPropertyDescriptor,L=n.getOwnPropertyNames,A=n.getPrototypeOf,O=n.setPrototypeOf,M=!!n.__proto__,_=n.create||function bt(e){return e?(bt.prototype=e,new bt):this},D=O||(M?function(e,t){return e.__proto__=t,e}:L&&k?function(){function e(e,t){for(var n,r=L(t),i=0,s=r.length;i<s;i++)n=r[i],T.call(e,n)||C(e,n,k(t,n))}return function(t,n){do e(t,n);while((n=A(n))&&!N.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),P=e.MutationObserver||e.WebKitMutationObserver,H=(e.HTMLElement||e.Element||e.Node).prototype,B=!N.call(H,E),j=B?function(e){return e.nodeType===1}:function(e){return N.call(H,e)},F=B&&[],I=H.cloneNode,q=H.dispatchEvent,R=H.getAttribute,U=H.hasAttribute,z=H.removeAttribute,W=H.setAttribute,X=t.createElement,V=P&&{attributes:!0,characterData:!0,attributeOldValue:!0},$=P||function(e){G=!1,E.removeEventListener(c,$)},J,K=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,10)},Q=!1,G=!0,Y=!0,Z=!0,et,tt,nt,rt,it,st;O||M?(it=function(e,t){N.call(t,e)||vt(e,t)},st=vt):(it=function(e,t){e[i]||(e[i]=n(!0),vt(e,t))},st=it),B?(G=!1,function(){var e=k(H,\"addEventListener\"),t=e.value,n=function(e){var t=new CustomEvent(c,{bubbles:!0});t.attrName=e,t.prevValue=R.call(this,e),t.newValue=null,t[l]=t.attrChange=2,z.call(this,e),q.call(this,t)},r=function(e,t){var n=U.call(this,e),r=n&&R.call(this,e),i=new CustomEvent(c,{bubbles:!0});W.call(this,e,t),i.attrName=e,i.prevValue=n?r:null,i.newValue=t,n?i[f]=i.attrChange=1:i[a]=i.attrChange=0,q.call(this,i)},s=function(e){var t=e.currentTarget,n=t[i],r=e.propertyName,s;n.hasOwnProperty(r)&&(n=n[r],s=new CustomEvent(c,{bubbles:!0}),s.attrName=n.name,s.prevValue=n.value||null,s.newValue=n.value=t[r]||null,s.prevValue==null?s[a]=s.attrChange=0:s[f]=s.attrChange=1,q.call(t,s))};e.value=function(e,o,u){e===c&&this.attributeChangedCallback&&this.setAttribute!==r&&(this[i]={className:{name:\"class\",value:this.className}},this.setAttribute=r,this.removeAttribute=n,t.call(this,\"propertychange\",s)),t.call(this,e,o,u)},C(H,\"addEventListener\",e)}()):P||(E.addEventListener(c,$),E.setAttribute(i,1),E.removeAttribute(i),G&&(et=function(e){var t=this,n,r,s;if(t===e.target){n=t[i],t[i]=r=nt(t);for(s in r){if(!(s in n))return tt(0,t,s,n[s],r[s],a);if(r[s]!==n[s])return tt(1,t,s,n[s],r[s],f)}for(s in n)if(!(s in r))return tt(2,t,s,n[s],r[s],l)}},tt=function(e,t,n,r,i,s){var o={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};o[s]=e,ct(o)},nt=function(e){for(var t,n,r={},i=e.attributes,s=0,o=i.length;s<o;s++)t=i[s],n=t.name,n!==\"setAttribute\"&&(r[n]=t.value);return r})),t[r]=function(n,r){c=n.toUpperCase(),Q||(Q=!0,P?(rt=function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new P(function(r){for(var i,s,o,u=0,a=r.length;u<a;u++)i=r[u],i.type===\"childList\"?(n(i.addedNodes,e),n(i.removedNodes,t)):(s=i.target,Z&&s.attributeChangedCallback&&i.attributeName!==\"style\"&&(o=R.call(s,i.attributeName),o!==i.oldValue&&s.attributeChangedCallback(i.attributeName,i.oldValue,o)))})}(at(s),at(o)),rt.observe(t,{childList:!0,subtree:!0})):(J=[],K(function E(){while(J.length)J.shift().call(null,J.shift());K(E)}),t.addEventListener(\"DOMNodeInserted\",ht(s)),t.addEventListener(\"DOMNodeRemoved\",ht(o))),t.addEventListener(h,pt),t.addEventListener(\"readystatechange\",pt),t.createElement=function(e,n){var r=typeof n==\"string\"?n:\"\",i=r?X.call(t,e,r):X.call(t,e),s=\"\"+e,o=S.call(y,(r?v:d)+(r||s).toUpperCase()),u=-1<o;return r&&(i.setAttribute(\"is\",r=r.toLowerCase()),u&&(u=lt(s.toUpperCase(),r))),Z=!t.createElement.innerHTMLHelper,u&&st(i,b[o]),i},H.cloneNode=function(e){var t=I.call(this,!!e),n=ft(t);return-1<n&&st(t,b[n]),e&&ut(t.querySelectorAll(w)),t}),-2<S.call(y,v+c)+S.call(y,d+c)&&gt(n);if(!m.test(c)||-1<S.call(g,c))throw new Error(\"The type \"+n+\" is invalid\");var i=function(){return f?t.createElement(l,c):t.createElement(l)},a=r||x,f=T.call(a,u),l=f?r[u].toUpperCase():c,c,p;return f&&-1<S.call(y,d+l)&&gt(l),p=y.push((f?v:d)+c)-1,w=w.concat(w.length?\",\":\"\",f?l+'[is=\"'+n.toLowerCase()+'\"]':l),i.prototype=b[p]=T.call(a,\"prototype\")?a.prototype:_(H),ot(t.querySelectorAll(w),s),i}})(window,document,Object,\"registerElement\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/document-register-element/build/document-register-element.js\n// module id = 57\n// module chunks = 0","/*\n * @overview Utility functions used by infamous.\n *\n * LICENSE\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n */\n\nimport Engine from 'famous/src/core/Engine';\n\n/**\n * Creates a [famous/src/core/Context](#famous/src/core/Context) having the specified 3D perspective.\n *\n * @param {Number} perspective The integer amount of perspective to apply to the `Context`.\n * @returns {module: famous/src/core/Context} The `Context` with the applied perspective.\n */\nexport function contextWithPerspective(perspective) {\n    const context = Engine.createContext();\n    context.setPerspective(perspective);\n    return context;\n}\n\nexport function simpleExtend(object, ...others) {\n    others.forEach(function(other) {\n        for (const prop in other) {\n            object[prop] = other[prop]\n        }\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","/*\n * LICENSE\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n */\n\nimport Modifier from 'famous/src/core/Modifier';\nimport RenderNode from 'famous/src/core/RenderNode';\nimport TransitionableTransform from 'famous/src/transitions/TransitionableTransform';\nimport EventHandler from 'famous/src/core/EventHandler';\n\nimport {simpleExtend} from './utils'\n\nimport \"army-knife/polyfill.Function.name\";\n\n/**\n * Molecules are the basic building blocks of all UI components. Molecules\n * extend [famous/src/core/RenderNode](#famous/src/core/RenderNode), so they can be\n * added to any `RenderNode` of a famo.us render tree, and by default they will\n * also accept anything that a normal Famo.us `RenderNode` can accept via the\n * `add` method.  Classes that extend from `Molecule` might override\n * `RenderNode.add` in order to accept things like arrays of renderables in\n * stead of a single renderable.\n *\n * Molecules encapsulate the basic things you need for a component -- a\n * [famous/src/transitions/TransitionableTransform](#famous/src/transitions/TransitionableTransform)\n * for positioning things in space, and a [famous/src/core/EventHandler](#famous/src/core/EventHandler)\n * for capturing user interaction -- exposing a unified API for working with these\n * things. For now, [famous/src/core/Modifier](#famous/src/core/Modifier) is used as the interface\n * for applying transforms and sizing, but this will change in Mixed Mode\n * Famo.us.\n *\n * All components extend Molecule, but at the same time they can also use any\n * number of Molecules internally to do nice things like create layouts and\n * position multiple things in space.\n *\n * @class Molecule\n * @extends {module: famous/src/core/RenderNode}\n */\nexport class Molecule extends RenderNode {\n\n    /**\n     * Creates a new `Molecule` and applies `initialOptions` to it's internal\n     * `famous/src/core/Modifier`. See [famous/src/core/Modifier](#famous/src/core/Modifier)\n     * for details on what options you can pass.\n     *\n     * Note: Mixed Mode Famo.us does away with Modifiers, so this API will\n     * change slightly, but the change will be in such a way that APIs of\n     * higher level classes won't change because of this. One of the biggest\n     * changes in Mixed Mode will be that `size` will be set only on a\n     * per-Surface basis as far as a render tree is concerned. So if you\n     * normally put multiple `Surface` instances into a `Modifier` that has a\n     * size, then instead you'll have to explicitly assign a `size` to each\n     * `Surface`. This is a good thing, and makes for a cleaner and easier to\n     * use render tree with a separation of concerns from classes that can\n     * handle boundaries and group sizing. `Molecule` might then be an example\n     * of such a class with it's own size API.\n     *\n     * @constructor\n     * @param {Object} initialOptions The options to initialize this Molecule's `Modifier` with.\n     */\n    constructor(initialOptions) {\n        super()\n\n        // \"private\" stuff. Not really, but regard it like so. For example, if\n        // you see something like obj._.someVariable then you're accessing\n        // internal stuff that wasn't designed to be accessed directly, and any\n        // problem you enounter with that is your own problem. :)\n        //\n        // TODO: Use a WeakMap to store these at some point.\n        this._ = {\n            options: {}, // set and get with this.options\n            defaultOptions: {}\n        }\n\n        // Add default values for this Molecule\n        // TODO: Make default options static for the class.\n        simpleExtend(this._.defaultOptions, {\n            align: [0.5,0.5],\n            origin: [0.5,0.5],\n            transform: new TransitionableTransform,\n            handler: new EventHandler\n        })\n\n        // set the user's initial options. This automatically creates\n        // this.modifier, and adds it to this (don't forget, *this* is a\n        // RenderNode, so a Molecule can add things to itself).\n        //\n        // NOTE: this.options is a setter property. This statement applies all\n        // relevant properties to this.modifier.\n        this.options = initialOptions;\n    }\n\n    /**\n     * @property {Object} options The Molecule's options, which get applied to\n     * `this.modifier`. This may change with Mixed Mode. Setting this property\n     * overrides existing options. To extend existing options with new options,\n     * use `setOptions` instead.  Unspecified options will be set to their default\n     * values.\n     *\n     * Note: Anytime `this.options` is assigned a new value, `this.modifier` is set\n     * to a new [famous/src/core/Modifier](#famous/src/core/Modifier).\n     */\n    set options(newOptions) {\n        this.resetOptions();\n        this.setOptions(newOptions);\n    }\n    get options() {\n        return this._.options;\n    }\n\n    /**\n     * @property {module: famous/src/transitions/TransitionableTransform} transform\n     * The transform of this `Molecule`. The default is a\n     * [famous/src/transitions/TransitionableTransform](#famous/src/transitions/TransitionableTransform).\n     * Setting this property automatically puts the new transform into effect.\n     * See [famous/src/core/Modifier.transformFrom](#famous/src/core/Modifier.transformFrom).\n     */\n    set transform(newTransform) {\n        this.setOptions({transform: newTransform});\n    }\n    get transform() {\n        return this.options.transform;\n    }\n\n    /**\n     * Compounds `newOptions` into the existing options, similar to extending an\n     * object and overriding only the desired properties. To override all\n     * options with a set of new options, set `this.options` directly.\n     *\n     * An example of setting just a single option without erasing other options:\n     *\n     * ```js\n     * const myMolecule = new Molecule()\n     * myMolecule.setOptions({\n     *   align: [0.2, 0.8]\n     * })\n     * ```\n     *\n     * @param {Object} newOptions An object containing the new options to apply to this `Molecule`.\n     */\n    setOptions(newOptions) {\n        if (typeof newOptions == 'undefined' || newOptions.constructor.name != \"Object\")\n            newOptions = {}\n\n        for (const prop in newOptions) {\n            // Subject to change when Famo.us API changes.\n            if (Modifier.prototype[''+prop+'From']) {\n                this.modifier[''+prop+'From'](newOptions[prop]);\n            }\n\n            this._.options[prop] = newOptions[prop];\n        }\n    }\n\n    /**\n     * Sets all options back to their defaults.\n     *\n     * Note: Anytime this is called, `this.modifier` is set to a new\n     * [famous/src/core/Modifier](#famous/src/core/Modifier) having the default\n     * options.\n     */\n    resetOptions() {\n        this.modifier = new Modifier();\n        this.set(this.modifier);\n        this.setOptions(this._.defaultOptions);\n    }\n\n    /**\n     * Forwards events from this Molecule's [famous/src/core/EventHandler](#famous/src/core/EventHandler) to the given\n     * target, which can be another `EventHandler` or `Molecule`.\n     *\n     * This method is equivalent to [famous/src/core/EventHandler.pipe](#famous/src/core/EventHandler.pipe),\n     * acting upon `this.handler`.\n     *\n     * TODO v0.1.0: Let this method accept a `Molecule`, then stop doing `pipe(this._.handler)` in other places\n     */\n    pipe() {\n        const args = Array.prototype.splice.call(arguments, 0);\n        return this.options.handler.pipe.apply(this.options.handler, args);\n    }\n\n    /**\n     * Stops events from this Molecule's [famous/src/core/EventHandler](#famous/src/core/EventHandler)\n     * from being sent to the given target.\n     *\n     * This method is equivalent to [famous/src/core/EventHandler.unpipe](#famous/src/core/EventHandler.unpipe),\n     * acting upon `this.handler`.\n     *\n     * TODO v0.1.0: Let this method accept a `Molecule`, then stop doing `pipe(this.options.handler)` in other places\n     */\n    unpipe() {\n        const args = Array.prototype.splice.call(arguments, 0);\n        return this.options.handler.unpipe.apply(this.options.handler, args);\n    }\n\n    /**\n     * Register an event handler for the specified event.\n     * See [famous/src/core/EventHandler.on](#famous/src/core/EventHandler.on).\n     */\n    on() {\n        const args = Array.prototype.splice.call(arguments, 0);\n        return this.options.handler.on.apply(this.options.handler, args);\n    }\n\n    /**\n     * Unregister an event handler for the specified event.\n     * See [famous/src/core/EventHandler.off](#famous/src/core/EventHandler.off).\n     */\n    off() {\n        const args = Array.prototype.splice.call(arguments, 0);\n        return this.options.handler.on.apply(this.options.handler, args);\n    }\n}\nexport default Molecule;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Molecule.js","/*\n * LICENSE\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n */\n\nimport Modifier from 'famous/src/core/Modifier';\nimport Transform from 'famous/src/core/Transform';\n\nimport Molecule from './Molecule';\n\nimport forLength from 'army-knife/forLength';\n\n/**\n * A scenegraph tree with a variable number of leaf node Modifiers (the grid\n * cells) that are arranged in a grid. Add any [famous/src/core/RenderNode](#famous/src/core/RenderNode)-compatible\n * item to each leafnode of the grid.\n *\n * TODO: Use Molecule instead of Modifier for the grid cells.\n * TODO: Add an options parameter, that the Molecule constructor will handle.\n *\n * @class Grid\n * @extends Molecule\n */\nexport class Grid extends Molecule {\n\n    /**\n     * Creates a new Grid having the specified number of columns, number of rows,\n     * and famo.us-style size.\n     *\n     * @constructor\n     * @param {Number} columns The integer number of columns.\n     * @param {Number} rows The integer number of rows.\n     * @param {Array} size A famo.us-style width/height size array.\n     */\n    constructor(columns, rows, size) {\n        super({size: size});\n\n        this.columns = columns;\n        this.rows = rows;\n        this.cellNodes = [];\n\n        if (typeof this.options.size === 'undefined') { this.setOptions({size: [undefined, undefined]}); }\n\n        forLength(this.columns*this.rows, this._createGridCell.bind(this));\n    }\n\n    /**\n     * Creates a grid cell at the given index.\n     *\n     * @private\n     * @param {Number} index The integer index of the grid cell.\n     */\n    _createGridCell(index) {\n        const column = index % this.columns;\n        const row = Math.floor(index / this.columns);\n\n        let cellSize = null;\n        if (typeof this.options.size[0] != 'undefined' && typeof this.options.size[1] != 'undefined') {\n            cellSize = [];\n            cellSize[0] = this.options.size[0]/this.columns;\n            cellSize[1] = this.options.size[1]/this.rows;\n        }\n\n        const mod = new Modifier({\n            align: [0,0],\n            origin: [0,0],\n            size: cellSize? [cellSize[0], cellSize[1]]: [undefined, undefined],\n            transform: Transform.translate(column*cellSize[0],row*cellSize[1],0)\n        });\n        const mod2 = new Modifier({\n            //transform: Transform.rotateY(Math.PI/10),\n            align: [0.5,0.5],\n            origin: [0.5,0.5]\n        });\n        // FIXME: ^^^ Why do I need an extra Modifier to align stuff in the middle of the grid cells?????\n        this.cellNodes.push(this.add(mod).add(mod2));\n    }\n\n    /**\n     * Sets the items to be layed out in the grid.\n     *\n     * @param {Array} children An array of [famous/src/core/RenderNode](#famous/src/core/RenderNode)-compatible items.\n     */\n    setChildren(children) {\n        forLength(this.columns*this.rows, function(index) {\n            //this.cellNodes[index].set(null); // TODO: how do we erase previous children?\n            this.cellNodes[index].add(children[index]);\n        }.bind(this));\n        return this;\n    }\n}\nexport default Grid;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Grid.js","/*\n * LICENSE\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n */\n\nimport Surface from 'famous/src/core/Surface';\n\nimport Molecule from './Molecule';\n\n/**\n * Planes have the properties of [Molecules](#Molecule), plus they contain a\n * [famous/src/core/Surface](#famous/src/core/Surface) so that they ultimately render\n * onto the screen. A Surface's events are automatically piped to it's\n * [famous/src/core/EventHandler](#famous/src/core/EventHandler), inherited from\n * `Molecule`.\n *\n * @class Plane\n * @extends Molecule\n */\nexport class Plane extends Molecule {\n\n    /**\n     * Creates a new `Plane`. Properties from the `initialOptions` parameter\n     * are applied to this Plane's [famous/src/core/Surface](#famous/src/core/Surface) as well as to\n     * to this Plane's [famous/src/core/Modifier](#famous/src/core/Modifier), hence the API of a Plane\n     * is currently the combination of the Famo.us `Modifier` and `Surface` APIs.\n     *\n     * @constructor\n     * @param {Object} initialOptions Options for the new Plane.\n     */\n    constructor(initialOptions) {\n        super(initialOptions);\n\n        this.surface = new Surface(this.options);\n        this.add(this.surface);\n        this.surface.pipe(this.options.handler);\n    }\n\n    /**\n     * Get the content of this Plane's [famous/src/core/Surface](#famous/src/core/Surface).\n     * See [famous/src/core/Surface.getContent](#famous/src/core/Surface.getContent).\n     */\n    getContent() {\n        const args = Array.prototype.splice.call(arguments, 0);\n        return this.surface.getContent.apply(this.surface, args);\n    }\n\n    /**\n     * Set the content of this Plane's [famous/src/core/Surface](#famous/src/core/Surface).\n     * See [famous/src/core/Surface.setContent](#famous/src/core/Surface.setContent).\n     */\n    setContent() {\n        const args = Array.prototype.splice.call(arguments, 0);\n        return this.surface.setContent.apply(this.surface, args);\n    }\n}\nexport default Plane;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Plane.js","/*\n * LICENSE\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n */\n\nimport Transform from 'famous/src/core/Transform';\n\nimport Molecule from './Molecule';\nimport Plane from './Plane';\n\n/**\n * A scenegraph tree who's two leaf nodes are [Plane](#Plane) instances facing\n * opposite directions. For the purposes of these docs, in a brand new app with\n * only a single `DoubleSidedPlane` added to the context, and having no\n * rotation, \"plane1\" faces you and \"plane2\" faces away.\n *\n * @class DoubleSidedPlane\n * @extends Molecule\n */\nexport class DoubleSidedPlane extends Molecule {\n\n    /**\n     * Creates a new `DoubleSidedPlane` who's `initialOptions` get passed to\n     * both [Plane](#Plane) instances, as well as this DoubleSidedPlane's parent\n     * [Molecule](#Molecule) constructor.\n     *\n     * @constructor\n     * @param {Object} initialOptions The options to initiate the `DoubleSidedPlane` with.\n     */\n    constructor(initialOptions) {\n        super(initialOptions);\n\n        this.children = [];\n        this.plane1 = new Plane(this.options);\n        this.plane1.transform.set(Transform.rotate(0,0,0));\n        this.setOptions({properties: {background: 'orange'}});\n        this.plane2 = new Plane(this.options);\n        this.plane2.transform.set(Transform.rotate(0,Math.PI,0));\n\n        this.children.push(this.plane1);\n        this.children.push(this.plane2);\n        this.add(this.plane2)\n        this.add(this.plane1);\n        this.plane1.pipe(this.options.handler);\n        this.plane2.pipe(this.options.handler);\n\n    }\n\n    /**\n     * Get the content of the [famous/src/core/Surface](#famous/src/core/Surface) of each [Plane](#Plane).\n     *\n     * @returns {Array} An array containing two items, the content of each\n     * `Plane`. The first item is from \"plane1\".\n     */\n    getContent() {\n        return [this.plane1.getContent(), this.plane2.getContent()];\n    }\n\n    /**\n     * Set the content of both [Plane](#Plane) instances.\n     *\n     * @param {Array} content An array of content, one item per `Plane`. The\n     * first item is for \"plane1\".\n     */\n    setContent(content) {\n        this.plane1.setContent(content[0]);\n        this.plane2.setContent(content[1]);\n    }\n}\nexport default DoubleSidedPlane;\n\n\n\n// WEBPACK FOOTER //\n// ./src/DoubleSidedPlane.js","/*\n * LICENSE\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n */\n\nimport Transform from 'famous/src/core/Transform';\nimport Transitionable from 'famous/src/transitions/Transitionable';\nimport Easing from 'famous/src/transitions/Easing';\n\nimport Molecule from './Molecule';\nimport Grid from './Grid';\nimport DoubleSidedPlane from './DoubleSidedPlane';\n\nimport forLength from 'army-knife/forLength';\n\n/**\n * A calendar widget for selecting a date (WIP).\n *\n * @class Calendar\n * @extends Molecule\n */\nexport class Calendar extends Molecule {\n\n    /**\n     * Create a new `Calendar` with the given Famo.us-style size array and\n     * transition. The transition is the type of animation used when switching\n     * between months.\n     *\n     * @constructor\n     * @param {Array} calendarSize A Famo.us-style width/height size array.\n     * @param {String} transition The name of the animation transition to use when switching months.\n     */\n    constructor(calendarSize, transition) {\n        super({size: calendarSize});\n\n        this.transition = transition;\n        this.flipSide = 0; // 0 means the initial front faces are showing, 1 means the initial back faces are showing.\n        this.columnsRows = [7,6];\n        this.planes = [];\n\n        this._initializeTransitions();\n        this._createGrid();\n\n        setTimeout( function() {\n            this.transitions[this.transition]();\n            setInterval(this.transitions[this.transition], 2000);\n        }.bind(this) , 800);\n    }\n\n    /**\n     * Creates the grid used for the layout of the day cells.\n     *\n     * @private\n     */\n    _createGrid() {\n        const grid = new Grid(this.columnsRows[0], this.columnsRows[1], this.options.size);\n\n        forLength(this.columnsRows[0]*this.columnsRows[1], function(i) {\n            const plane = new DoubleSidedPlane({\n                properties: {\n                    background: 'teal',\n                }\n            });\n            this.planes.push(plane);\n        }.bind(this));\n\n        grid.setChildren(this.planes);\n        this.add(grid);\n    }\n\n    /**\n     * Set up `this.transitions`, containing the available month-to-month\n     * transitions.\n     *\n     * @private\n     */\n    _initializeTransitions() {\n        this.transitions = {\n            flipDiagonal: function() {\n                this.flipSide = +!this.flipSide;\n                // determine which dimension of the grid is shorter and which is longer.\n                let shortest = 0;\n                let longest;\n                this.columnsRows.forEach(function(item, index) {\n                    if (item < this.columnsRows[shortest])\n                        shortest = index;\n                }.bind(this));\n                longest = +!shortest;\n\n                // for each diagonal of the grid, flip those cells.\n                forLength(this.columnsRows[0]+this.columnsRows[1]-1, function(column) {\n                    forLength(this.columnsRows[shortest], function(row) {\n                        if (column-row >= 0 && column-row < this.columnsRows[longest]) {\n                            const plane = this.planes[column-row + this.columnsRows[longest]*row];\n                            flipOne(plane, column);\n                        }\n                    }.bind(this));\n                }.bind(this));\n\n                function flipOne(item, column) {\n                    if (typeof item.__targetRotation == 'undefined') {\n                        item.__targetRotation = new Transitionable(0);\n                    }\n                    const rotation = new Transitionable(item.__targetRotation.get());\n                    item.__targetRotation.set(item.__targetRotation.get()+Math.PI);\n\n                    //item.get().transformFrom(function() {\n                        //return Transform.rotateY(rotation.get());\n                    //});\n                    item.children[0].get().transformFrom(function() {\n                        return Transform.rotateY(rotation.get());\n                    });\n                    item.children[1].get().transformFrom(function() {\n                        return Transform.rotateY(rotation.get()+Math.PI);\n                    });\n\n                    setTimeout(function() {\n                        rotation.set(item.__targetRotation.get(), { duration: 2000, curve: Easing.outExpo });\n                    }, 0+50*column);\n                }\n            }.bind(this)\n        };\n    }\n}\nexport default Calendar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Calendar.js","import Jss               from 'jss'\n\nimport jssNested         from 'jss-nested'\nimport jssExtend         from 'jss-extend'\nimport jssPx             from 'jss-px'\nimport jssVendorPrefixer from 'jss-vendor-prefixer'\nimport jssCamelCase      from 'jss-camel-case'\nimport jssPropsSort      from 'jss-props-sort'\n\nconst jss = Jss.create()\n\njss.use(jssNested())\njss.use(jssExtend())\njss.use(jssPx())\njss.use(jssVendorPrefixer())\njss.use(jssCamelCase())\njss.use(jssPropsSort())\n\nexport default jss\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/jss/index.js","/*\n * LICENSE\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n */\n\nimport jss from './lib/jss';\n\nimport Surface from 'famous/src/core/Surface';\nimport Transitionable from 'famous/src/transitions/Transitionable';\nimport Easing from 'famous/src/transitions/Easing';\nimport TouchSync from 'famous/src/inputs/TouchSync';\nimport GenericSync from 'famous/src/inputs/GenericSync';\n\nimport Plane from './Plane';\nimport Molecule from './Molecule';\nimport {simpleExtend} from './utils'\n\nimport callAfter from 'army-knife/callAfter';\n\n/**\n * A scenegraph with two Molecule leafnodes: the menu area and the content\n * area. The menu area is hidden beyond the edge of the screen while the\n * content area is visible. Swiping in from the edge of the screen reveals the\n * menu, putting the content area out of focus. A mouse can also be used, and\n * hovering near the edge of the screen also reveals the menu.\n *\n * Note: This layout is mostly useful if it exists at the root of a context so\n * that the menu is clipped when it is closed (off to the side), otherwise the\n * menu will be visible beyond the boundary of the container that contains the\n * PushMenuLayout.\n *\n * Note: If you've called `openMenu` or `closeMenu` with a callback, the callback\n * will be canceled if a drag or hover on the menu happens before the animation\n * has completed. Please open an issue on GitHub if you have any opinion\n * against this. :) Maybe we can add a boolean option for this behavior.\n *\n * TODO: Embed working example here.\n *\n * @class PushMenuLayout\n * @extends Molecule\n */\nexport class PushMenuLayout extends Molecule {\n\n    /**\n     * Creates a new PushMenuLayout.\n     *\n     * @constructor\n     * @param {Object} options The options to instantiate a `PushMenuLayout` with.\n     *\n     * TODO v0.1.0: Handle `PushMenuLayout`-specific user options. Currently they\n     * just get passed into super() for the Molecule constructor to handle.\n     */\n    constructor(initialOptions) {\n        super(initialOptions);\n\n        // Add default values for this PushMenuLayout\n        // TODO: Make default options static for the class.\n        simpleExtend(this._.defaultOptions, {\n            menuSide: 'left', // left or right\n            menuWidth: 200,\n            menuHintSize: 10, // the amount of the menu that is visible before opening the menu.\n            pushAreaWidth: 40, // the area on the screen edge that the user can touch and drag to push out the menu.\n            animationDuration: 1000,\n            animationType: 'foldDown', // options: foldDown moveBack\n\n            // TODO: Background color for the whole layout should be the color that the fade fades to.\n            // TODO: Replace fade star/end colors with a fog color value and intensity.\n            fade: true, // when content recedes, it fades into the fog.\n            fadeStartColor: 'rgba(255,255,255,0)',\n            fadeEndColor: 'rgba(255,255,255,1)',\n\n            blur: false, // XXX: WIP, so false by default.\n            blurRadius: 5\n        })\n\n        // TODO: performance hit, this setter is invoked in the Molecule constructor, then here again.\n        this.options = initialOptions\n\n        // TODO v0.1.0: Mark these as private.\n            // TODO v0.1.0: this.contentWidth should be the width of whatever is containing\n            // the layout, but we're just using it as a whole-page app for now. Get\n            // size from a commit? UPDATE: See the new famous/src/views/SizeAwareView\n            this.contentWidth = document.body.clientWidth - this.options.menuHintSize;\n\n            // Changing these values outside of an instance of PushMenuLayout might\n            // cause the layout to break. They are designed to be modified\n            // internally only.\n            this.isOpen = false;\n            this.isOpening = false;\n            this.isClosing = false;\n            this.isAnimating = false; // keep track of whether the menu is opening or closing.\n            this.isBeingDragged = false; // whether the user is dragging/pushing the menu or not.\n            this.transitionCallback = undefined; // holds the callback to the current open or close menu animation.\n\n        // Set the touch sync for pulling/pushing the menu open/closed.\n        GenericSync.register({\n            touch: TouchSync\n        });\n\n        this._createComponents();\n        this._initializeEvents();\n    }\n\n    /**\n     * See Molecule.setOptions\n     *\n     * @override\n     */\n    setOptions(newOptions) {\n        super.setOptions(newOptions)\n    }\n\n    /**\n     * See Molecule.resetOptions\n     *\n     * @override\n     */\n    resetOptions() {\n        super.resetOptions()\n    }\n\n    /**\n     * Creates the menu area, content area, `Plane` for the fade effect, etc.\n     *\n     * @private\n     */\n    _createComponents() {\n        var layout = this;\n\n        this.touchSync = new GenericSync(['touch']);\n\n        this.alignment = (this.options.menuSide == \"left\"? 0: 1);\n        this.animationTransition = new Transitionable(0);\n\n        this.mainMol = new Molecule();\n\n        this.menuMol = new Molecule({\n            size: [this.options.menuWidth,undefined]\n        });\n        this.menuMol.oldTransform = this.menuMol.transform;\n        this.menuMol.transform = function() { // override\n            var currentPosition = layout.animationTransition.get();\n            switch(layout.options.animationType) {\n                case \"foldDown\":\n                    // XXX: this is depending on my modifications for TransitionableTransform.\n                    this.oldTransform.setTranslateX(\n                        layout.options.menuSide == 'left'?\n                            currentPosition *  (layout.options.menuWidth-layout.options.menuHintSize)/*range*/ - (layout.options.menuWidth-layout.options.menuHintSize)/*offset*/:\n                            currentPosition * -(layout.options.menuWidth-layout.options.menuHintSize)/*range*/ + (layout.options.menuWidth-layout.options.menuHintSize)/*offset*/\n                    );\n                    break;\n                case \"moveBack\":\n                    // XXX: this is depending on my modifications for TransitionableTransform.\n                    this.oldTransform.setTranslateX(\n                        layout.options.menuSide == 'left'?\n                            currentPosition *  (layout.options.menuWidth-layout.options.menuHintSize)/*range*/ - (layout.options.menuWidth-layout.options.menuHintSize)/*offset*/:\n                            currentPosition * -(layout.options.menuWidth-layout.options.menuHintSize)/*range*/ + (layout.options.menuWidth-layout.options.menuHintSize)/*offset*/\n                    );\n                    break;\n            }\n            return this.oldTransform.get();\n        }.bind(this.menuMol);\n\n        // contains the user's menu content.\n        this.menuContentMol = new Molecule();\n\n        this.contentMol = new Molecule({\n            size: [this.contentWidth,undefined]\n        });\n        this.contentMol.oldTransform = this.contentMol.transform;\n        this.contentMol.transform = function() { // override\n            var currentPosition = layout.animationTransition.get();\n            switch(layout.options.animationType) {\n                case \"foldDown\":\n                    // XXX: this is depending on my modifications for TransitionableTransform.\n                    this.oldTransform.setTranslateX(\n                        layout.options.menuSide == 'left'?\n                            currentPosition *  (layout.options.menuWidth - layout.options.menuHintSize)/*range*/ + layout.options.menuHintSize/*offset*/:\n                            currentPosition * -(layout.options.menuWidth - layout.options.menuHintSize)/*range*/ - layout.options.menuHintSize/*offset*/\n                    );\n                    // XXX: this is depending on my modifications for TransitionableTransform.\n                    this.oldTransform.setRotateY(\n                        layout.options.menuSide == 'left'?\n                            currentPosition *  Math.PI/8:\n                            currentPosition * -Math.PI/8\n                    );\n                    break;\n                case \"moveBack\":\n                    var depth = 100;\n                    // XXX: this is depending on my modifications for TransitionableTransform.\n                    this.oldTransform.setTranslateX(\n                        layout.options.menuSide == 'left'?\n                            layout.options.menuHintSize:\n                            -layout.options.menuHintSize\n                    );\n                    this.oldTransform.setTranslateZ(\n                        currentPosition * -depth\n                    );\n                    break;\n            }\n            return this.oldTransform.get();\n        }.bind(this.contentMol);\n\n        this.menuTouchPlane = new Plane({\n            size: [this.options.menuWidth + this.options.pushAreaWidth - this.options.menuHintSize, undefined],\n            properties: {\n                zIndex: '-1000' // below everything\n            }\n        });\n\n        this.mainMol.setOptions({\n            origin: [this.alignment, 0.5],\n            align: [this.alignment, 0.5]\n        });\n        this.menuMol.setOptions({\n            origin: [this.alignment, 0.5],\n            align: [this.alignment, 0.5]\n        });\n        this.contentMol.setOptions({\n            origin: [this.alignment, 0.5],\n            align: [this.alignment, 0.5]\n        });\n\n        // FIXME: WHY THE EFF must I also set align and origin on menuTouchPlane\n        // when I've already set it on it's parent (this.menuMol)?????\n        this.menuTouchPlane.setOptions({\n            origin: [this.alignment, 0.5],\n            align: [this.alignment, 0.5]\n        });\n\n        // Bring the menu content molecule and touch plane forward just\n        // slightly so they're just above the content and content's fade plane,\n        // so touch and mouse interaction works. HTML, the bad parts. ;)\n        this.menuContentMol.transform.setTranslateZ(2);\n        this.menuTouchPlane.transform.setTranslateZ(2);\n\n        /*\n         * Styles for the fadePlane\n         */\n        // TODO: move this somewhere else . it's specific for each animation\n        this.updateStyles = function() {\n            var startColor\n            var endColor\n\n            switch(this.options.animationType) {\n                case \"foldDown\":\n                    startColor = this.options.fadeStartColor\n                    endColor = this.options.fadeEndColor\n                    break;\n                case \"moveBack\":\n                    startColor = endColor = this.options.fadeEndColor\n                    break;\n            }\n\n            var styles = {\n                '.infamous-fadeLeft': {\n                    background: [\n                        endColor,\n                        '-moz-linear-gradient(left, '+endColor+' 0%, '+startColor+' 100%)',\n                        '-webkit-gradient(left top, right top, color-stop(0%, '+endColor+'), color-stop(100%, '+startColor+'))',\n                        '-webkit-linear-gradient(left, '+endColor+' 0%, '+startColor+' 100%)',\n                        '-o-linear-gradient(left, '+endColor+' 0%, '+startColor+' 100%)',\n                        '-ms-linear-gradient(left, '+endColor+' 0%, '+startColor+' 100%)',\n                        'linear-gradient(to right, '+endColor+' 0%, '+startColor+' 100%)'\n                    ],\n                    filter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\\'#cc000000\\', endColorstr=\\'#4d000000\\', GradientType=1 )'\n                },\n                '.infamous-fadeRight': {\n                    background: [\n                        startColor,\n                        '-moz-linear-gradient(left, '+startColor+' 0%, '+endColor+' 100%)',\n                        '-webkit-gradient(left top, right top, color-stop(0%, '+startColor+'), color-stop(100%, '+endColor+'))',\n                        '-webkit-linear-gradient(left, '+startColor+' 0%, '+endColor+' 100%)',\n                        '-o-linear-gradient(left, '+startColor+' 0%, '+endColor+' 100%)',\n                        '-ms-linear-gradient(left, '+startColor+' 0%, '+endColor+' 100%)',\n                        'linear-gradient(to right, '+startColor+' 0%, '+endColor+' 100%)'\n                    ],\n                    filter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\\'#4d000000\\', endColorstr=\\'#cc000000\\', GradientType=1 )'\n                }\n            };\n\n            if (this.fadeStylesheet) { this.fadeStylesheet.detach(); }\n            this.fadeStylesheet = jss.createStyleSheet(styles);\n            this.fadeStylesheet.attach();\n        };\n\n        if (this.options.fade) {\n            this.updateStyles();\n\n            this.fadePlane = new Plane({\n                size: [undefined,undefined],\n                classes: [\n                    // TODO: switch to jss namespace.\n                    (this.options.menuSide == 'left'? 'infamous-fadeRight': 'infamous-fadeLeft')\n                ],\n                properties: {\n                    zIndex: '1000',\n                    pointerEvents: 'none'\n                }\n            });\n\n            // FIXME: Why the EFF must I also set align and origin on fadePlane when\n            // I've already set it on it's parent (this.contentMol)?????\n            this.fadePlane.setOptions({\n                origin: [this.alignment, 0.5],\n                align: [this.alignment, 0.5]\n            });\n\n            // move the fadePlane forward by 1px so it doesn't glitch out.\n            // Chrome will make the fadePlane and the surface in the content\n            // area (if any) blink randomly when the two surfaces are in the\n            // same exact position together.\n            this.fadePlane.transform.setTranslateZ(1);\n\n            this.fadePlane.setOptions({\n                opacity: this.animationTransition\n            });\n\n            // TODO: Make fadePlane a sibling to menuMol and contentMol so that\n            // contentMol contains only the user;s content. This will affect\n            // the code in this.render().\n            this.contentMol.add(this.fadePlane);\n        }\n\n        this.add(this.mainMol);\n        this.mainMol.add(this.contentMol);\n        this.menuMol.add(this.menuTouchPlane);\n        this.menuMol.add(this.menuContentMol);\n        this.mainMol.add(this.menuMol);\n        // TODO: Also create and add a background plane for the menu area so it will catch events that might fall through the menu content.\n    }\n\n    /**\n     * Sets up the events for the touch and mouse interaction that opens and\n     * closes the menu.\n     *\n     * @private\n     */\n    _initializeEvents() {\n\n        // move the menu, following the user's drag. Don't let the user drag the menu past the menu width.\n        this.options.handler.on('update', function(event) { // update == drag\n            this.isBeingDragged = true;\n\n            // stop the current transitions if any, along with the current callback if any.\n            this._haltAnimation(true);\n\n            var currentPosition = this.animationTransition.get();\n\n            // TODO: handle the right-side menu.\n            switch(this.options.animationType) {\n                case \"foldDown\":\n                    this.animationTransition.set(currentPosition + event.delta[0] / (this.options.menuWidth - this.options.menuHintSize));\n                    break;\n                case \"moveBack\":\n                    this.animationTransition.set(currentPosition + event.delta[0] / (this.options.menuWidth - this.options.menuHintSize));\n                    break;\n            }\n\n            currentPosition = this.animationTransition.get();\n\n            if (currentPosition > 1) {\n                this.animationTransition.set(1);\n            }\n            else if (currentPosition < 0) {\n                this.animationTransition.set(0);\n            }\n        }.bind(this));\n\n        this.options.handler.on('end', function(event) {\n            this.isBeingDragged = false;\n\n            var currentPosition = this.animationTransition.get();\n\n            if (currentPosition < 0.5) {\n                this.closeMenu();\n            }\n            else {\n                this.openMenu();\n            }\n        }.bind(this));\n\n        // TODO v0.1.0: Use a SizeAwareView instead of relying on the body, since we\n        // might not be directly in the body.\n        window.addEventListener('resize', function(event) {\n            this.contentWidth = document.body.clientWidth - this.options.menuHintSize;\n            this.contentMol.setOptions({size: [this.contentWidth, undefined]});\n        }.bind(this));\n\n        /*\n         * Wire up events\n         * TODO: consolidate dup code here and in setMenu\n         */\n        this.menuTouchPlane.pipe(this.touchSync);\n        this.menuTouchPlane.on('mouseenter', function() {\n            if (!this.isOpening) {\n                this.openMenu();\n            }\n        }.bind(this))\n        this.menuTouchPlane.on('mouseleave', function() {\n            if (!this.isClosing) {\n                this.closeMenu();\n            }\n        }.bind(this))\n        this.touchSync.pipe(this.options.handler);\n    }\n\n    /**\n     * Add a scenegraph to the content area of the PushMenuLayout. You can put\n     * anything you want into the content area (magical 3D things for example),\n     * just be careful not to let them cover the menu or you'll block the user\n     * from interacting with the menu.\n     *\n     * @param {module: famous/src/core/RenderNode} node A scenegraph, i.e. a\n     * RenderNode with stuff in it.\n     *\n     * TODO: Accept plain renderables, f.e. Surfaces, etc. This change requires\n     * also modifying the code in this.render() to account for renderables.\n     *\n     * TODO: Make a sibling method to reset the content area.\n     */\n    setContent(node) {\n        this.contentMol.add(node)\n    }\n\n    /**\n     * Add a scenegraph to the menu area of the PushMenuLayout. If the object\n     * that you pass into setMenu is an infamous component, or a famo.us\n     * Surface, then it's events will be piped to this PushMenuLayout's input\n     * sync so that the user can open and close the menu with touch or mouse.\n     * General advice here would be to keep whatever you put into the menu\n     * contained within the boundaries of the menu or you might have touch and\n     * mouse interaction outside of the menu.\n     *\n     * @param {module: famous/src/core/RenderNode} node A scenegraph, i.e. a\n     * RenderNode with stuff in it.\n     *\n     * TODO: Accept plain renderables, f.e. Surfaces, etc.\n     *\n     * TODO: Remove old content before adding new content.\n     */\n    setMenu(node) {\n        this.menuContentMol.add(node)\n        if (node instanceof Molecule) {\n            node.pipe(this.touchSync)\n            node.on('mouseenter', function() {\n                if (!this.isOpening) {\n                    this.openMenu();\n                }\n            }.bind(this))\n            node.on('mouseleave', function() {\n                if (!this.isClosing) {\n                    this.closeMenu();\n                }\n            }.bind(this))\n        }\n    }\n\n    // TODO: replace menu easing with physics so the user can throw the menu,\n    // using initial velocity and drag to slow it down, and stop immediately\n    // when it hits the fully-open or fully-closed positions.\n\n    /**\n     * Opens the menu.\n     *\n     * @param {Function} callback The function to be called when the animation finishes.\n     * @param {boolean} [cancelPreviousCallback=false] This is optional. If\n     * true, then the callback of a previous open or close animation will be\n     * canceled if that animation was still inprogress when this method is\n     * called, otherwise the callback of the previous open or close animation\n     * will be fired immediately before the animation for this animation begins.\n     */\n    openMenu(callback, cancelPreviousCallback) {\n        this._haltAnimation(cancelPreviousCallback);\n\n        this.isClosing = false;\n        this.isOpening = true;\n\n        this._animate('open', callback);\n    }\n\n    /**\n     * Closes the menu.\n     *\n     * @param {Function} callback The function to be called when the animation finishes.\n     * @param {boolean} [cancelPreviousCallback=false] This is optional. If\n     * true, then the callback of a previous open or close animation will be\n     * canceled if that animation was still inprogress when this method is\n     * called, otherwise the callback of the previous open or close animation\n     * will be fired immediately before the animation for this animation begins.\n     */\n    closeMenu(callback, cancelPreviousCallback) {\n        this._haltAnimation(cancelPreviousCallback);\n\n        this.isClosing = true;\n        this.isOpening = false;\n\n        this._animate('close', callback);\n    }\n\n    /**\n     * Toggles the menu open or closed. If the menu is open or is opening, then it will now start\n     * closing, and vice versa.\n     *\n     * @param {Function} callback The function to be called when the animation finishes.\n     * @param {boolean} [cancelPreviousCallback=false] This is optional. If\n     * true, then the callback of a previous open or close animation will be\n     * canceled if that animation was still inprogress when this method is\n     * called, otherwise the callback of the previous open or close animation\n     * will be fired immediately before the animation for this animation begins.\n     */\n    toggleMenu(callback, cancelPreviousCallback) {\n        if (this.isOpen || this.isOpening) {\n            this.closeMenu(callback, cancelPreviousCallback);\n        }\n        else if (!this.isOpen || this.isClosing) {\n            this.openMenu(callback, cancelPreviousCallback);\n        }\n    }\n\n    /**\n     * Animates the menu to it's target state.\n     *\n     * @private\n     * @param {String} targetState The name of the state to animate to.\n     * @param {Function} callback The function to call after the animation completes.\n     */\n    _animate(targetState, callback) {\n        this.isAnimating = true;\n        this.transitionCallback = callback;\n        var _callback;\n\n        var self = this;\n        function setupCallback(numberOfTransitions) {\n            // Fire callback after numberOfTransitions calls, when the 4 transitions are complete.\n            _callback = callAfter(numberOfTransitions, function() {\n                self.isAnimating = self.isOpening = self.isClosing = false;\n                self.isOpen = targetState == 'open'? true: false;\n                if (typeof self.transitionCallback == 'function') {\n                    self.transitionCallback();\n                }\n                self.transitionCallback = undefined;\n            }.bind(self));\n        }\n\n        setupCallback(1);\n        if (targetState == 'open') {\n            this.animationTransition.set(1, {duration: this.options.animationDuration, curve: Easing.outExpo}, _callback);\n        }\n        else if (targetState == 'close') {\n            this.animationTransition.set(0, {duration: this.options.animationDuration, curve: Easing.outExpo}, _callback);\n        }\n    }\n\n    /**\n     * Halts the current animation, if any.\n     *\n     * @private\n     * @param {boolean} [cancelCallback=false] Defaults to false. If true, the\n     * halted animation's callback won't fire, otherwise it will be fired.\n     */\n    _haltAnimation(cancelCallback) {\n        if (this.isAnimating) {\n            if (!cancelCallback && typeof this.transitionCallback == 'function') {\n                this.transitionCallback();\n            }\n            this.transitionCallback = undefined;\n            this.animationTransition.halt();\n        }\n    }\n\n    /**\n     * @override\n     */\n    render() {\n\n        // Blur the content if this.options.blur is true, and the animation is moveBack.\n        //\n        // TODO: Make the item to to be blur specifiable, perhaps with a method on\n        // this.\n        if (this.options.blur && this.options.fade && this.options.animationType == 'moveBack') {\n            let momentaryBlur = (this.animationTransition.get() * this.options.blurRadius)\n            let filter = {\n                \"-webkit-filter\": 'blur('+momentaryBlur+'px)',\n                \"-moz-filter\":    'blur('+momentaryBlur+'px)',\n                \"-ms-filter\":     'blur('+momentaryBlur+'px)',\n                \"-o-filter\":      'blur('+momentaryBlur+'px)',\n                filter:           'blur('+momentaryBlur+'px)'\n            }\n\n            // TODO TODO TODO v0.1.0: Make fadePlane a sibling with menu and\n            // content molecules or the following breaks if fade is false.\n            // Then remove the check for this.options.fade in the previous if\n            // statement above.\n            if (this.contentMol._child[1].get() instanceof Surface) {\n                this.contentMol.get().setProperties(filter)\n            }\n            else if (this.contentMol._child[1] instanceof Plane) {\n                this.contentMol._child[1].surface.setProperties(filter)\n            }\n        }\n\n        return super.render()\n    }\n}\nexport default PushMenuLayout;\n\n\n\n// WEBPACK FOOTER //\n// ./src/PushMenuLayout.js","\nconst instanceofSymbol = Symbol('instanceofSymbol')\n\nconst ObservableMixin = base => {\n    class Observable extends base {\n\n        constructor(options = {}) {\n            super(options)\n        }\n\n        on(eventName, callback) {\n            if (!this._eventMap)\n                this._eventMap = new Map\n\n            if (!this._eventMap.has(eventName))\n                this._eventMap.set(eventName, [])\n\n            if (typeof callback == 'function')\n                this._eventMap.get(eventName).push(callback)\n            else\n                throw new Error('Expected a function in callback argument of Observable#on.')\n        }\n\n        off(eventName, callback) {\n            if (!this._eventMap || !this._eventMap.has(eventName)) return\n\n            const callbacks = this._eventMap.get(eventName)\n\n            if (callbacks.indexOf(callback) === -1) return\n\n            callbacks.splice(callbacks.indexOf(callback), 1)\n\n            if (callbacks.length === 0) this._eventMap.delete(eventName)\n\n            if (this._eventMap.size === 0) this._eventMap = null\n        }\n\n        triggerEvent(eventName, data) {\n            if (!this._eventMap || !this._eventMap.has(eventName)) return\n\n            const callbacks = this._eventMap.get(eventName)\n\n            for (let i=0, len=callbacks.length; i<len; i+=1) {\n                callbacks[i](data)\n            }\n        }\n    }\n\n    Object.defineProperty(Observable, Symbol.hasInstance, {\n        value: function(obj) {\n            if (this !== Observable) return Object.getPrototypeOf(Observable)[Symbol.hasInstance].call(this, obj)\n\n            let currentProto = obj\n\n            while(currentProto) {\n                const desc = Object.getOwnPropertyDescriptor(currentProto, \"constructor\")\n\n                if (desc && desc.value && desc.value.hasOwnProperty(instanceofSymbol))\n                    return true\n\n                currentProto = Object.getPrototypeOf(currentProto)\n            }\n\n            return false\n        }\n    })\n\n    Observable[instanceofSymbol] = true\n\n    return Observable\n}\n\nconst Observable = ObservableMixin(class{})\nObservable.mixin = ObservableMixin\n\nexport {Observable as default}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/Observable.js","import Observable from './Observable'\n\n/**\n * Represents a set of values for the X, Y, and Z axes. For example, the\n * position of an object can be described using a set of 3 numbers, one for each\n * axis in 3D space: {x:10, y:10, z:10}.\n *\n * The value don't have to be numerical. For example,\n * {x:'foo', y:'bar', z:'baz'}\n */\nclass XYZValues extends Observable {\n    constructor(x = 0, y = 0, z = 0) {\n        super()\n        this._x = x\n        this._y = y\n        this._z = z\n    }\n}\n\n// We set accessors manually because Buble doesn't make them configurable\n// as per spec. Additionally we're maing these ones enumerable.\nObject.defineProperties(XYZValues.prototype, {\n    x: {\n        set(value) {\n            this._x = value\n            this.triggerEvent('valuechanged', {x: value})\n        },\n        get() { return this._x },\n        configurable: true,\n        enumerable: true,\n    },\n\n    y: {\n        set(value) {\n            this._y = value\n            this.triggerEvent('valuechanged', {y: value})\n        },\n        get() { return this._y },\n        configurable: true,\n        enumerable: true,\n    },\n\n    z: {\n        set(value) {\n            this._z = value\n            this.triggerEvent('valuechanged', {z: value})\n        },\n        get() { return this._z },\n        configurable: true,\n        enumerable: true,\n    },\n})\n\nexport {XYZValues as default}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/XYZValues.js","function epsilon(value) {\n    return Math.abs(value) < 0.000001 ? 0 : value;\n}\n\nfunction applyCSSLabel(value, label) {\n    if (value === 0) {\n        return '0px'\n    } else if (label === '%') {\n        return value * 100 + '%';\n    } else if (label === 'px') {\n        return value + 'px'\n    }\n}\n\nfunction animationFrame() {\n    let resolve = null\n    const promise = new Promise(r => resolve = r)\n    window.requestAnimationFrame(resolve)\n    return promise\n}\n\n// Create lowercase versions of each setter property.\n// we care only about the setters, for now.\nfunction makeLowercaseSetterAliases(object) {\n    const props = Object.getOwnPropertyNames(object)\n    for (let l=props.length, i=0; i<l; i+=1) {\n        const prop = props[i]\n        const lowercaseProp = prop.toLowerCase()\n        if (lowercaseProp != prop) {\n            const descriptor = Object.getOwnPropertyDescriptor(object, prop)\n            if (typeof descriptor.set != 'undefined') {\n                Object.defineProperty(object, lowercaseProp, descriptor)\n            }\n        }\n    }\n}\n\nlet childObservationHandlers = null\nlet childObserver = null\nfunction observeChildren(ctx, onConnect, onDisconnect) {\n    if (!childObservationHandlers) childObservationHandlers = new Map\n    if (!childObserver) childObserver = createChildObserver()\n    childObservationHandlers.set(ctx, {onConnect, onDisconnect})\n    childObserver.observe(ctx, { childList: true })\n    return true\n}\n\n// NOTE: If a child is disconnected then connected to the same parent in the\n// same turn, then the onConnect and onDisconnect callbacks won't be called\n// because the DOM tree will be back in the exact state as before (this is\n// possible thanks to the logic associated with weightsPerTarget).\nfunction createChildObserver() {\n    return new MutationObserver(changes => {\n        const weightsPerTarget = new Map\n\n        // We're just counting how many times each child node was added and\n        // removed from the parent we're observing.\n        for (let i=0, l=changes.length; i<l; i+=1) {\n            const change = changes[i]\n\n            if (change.type != 'childList') continue\n\n            if (!weightsPerTarget.has(change.target))\n                weightsPerTarget.set(change.target, new Map)\n\n            const weights = weightsPerTarget.get(change.target)\n\n            const {addedNodes} = change\n            for (let l=addedNodes.length, i=0; i<l; i+=1)\n                weights.set(addedNodes[i], (weights.get(addedNodes[i]) || 0) + 1)\n\n            const {removedNodes} = change\n            for (let l=removedNodes.length, i=0; i<l; i+=1)\n                weights.set(removedNodes[i], (weights.get(removedNodes[i]) || 0) - 1)\n        }\n\n        // TODO PERFORMANCE: Can these for..of loops be converted to regular for loops?\n        for (const [target, weights] of weightsPerTarget) {\n            const {onConnect, onDisconnect} = childObservationHandlers.get(target)\n\n            for (const [node, weight] of weights) {\n                // If the number of times a child was added is greater than the\n                // number of times it was removed, then the net result is that\n                // it was added, so we call onConnect just once.\n                if (weight > 0 && typeof onConnect == 'function')\n                    onConnect.call(target, node)\n\n                // If the number of times a child was added is less than the\n                // number of times it was removed, then the net result is that\n                // it was removed, so we call onConnect just once.\n                else if (weight < 0 && typeof onDisconnect == 'function')\n                    onDisconnect.call(target, node)\n\n                // If the number of times a child was added is equal to the\n                // number of times it was removed, then it was essentially left\n                // in place, so we don't call anything.\n            }\n        }\n    })\n}\n\nconst hasShadowDomV0 =\n    typeof Element.prototype.createShadowRoot == 'function'\n    && typeof HTMLContentElement == 'function'\n    ? true : false\n\nconst hasShadowDomV1 =\n    typeof Element.prototype.attachShadow == 'function'\n    && typeof HTMLSlotElement == 'function'\n    ? true : false\n\nfunction getShadowRootVersion(shadowRoot) {\n    console.log('getShadowRootVersion')\n    if (!shadowRoot) return null\n    const slot = document.createElement('slot')\n    shadowRoot.appendChild(slot)\n    slot.appendChild(document.createElement('div'))\n    const assignedNodes = slot.assignedNodes({ flatten: true })\n    slot.remove()\n    console.log('hmm', assignedNodes.length, assignedNodes.length > 0 ? 'v1' : 'v0')\n    return assignedNodes.length > 0 ? 'v1' : 'v0'\n}\n\nfunction getAncestorShadowRoot(node) {\n    let current = node\n\n    while (current && !(current instanceof ShadowRoot)) {\n        current = current.parentNode\n    }\n\n    return current\n}\n\n// in the future, the user will be able to toggle the HTML API.\nconst hasHtmlApi = true\n\n// Traverses a tree while considering ShadowDOM disribution.\nfunction traverse(node, isShadowChild) {\n    console.log(isShadowChild ? 'distributedNode:' : 'node:', node)\n\n    const {children} = node\n    for (let l=children.length, i=0; i<l; i+=1) {\n        // skip nodes that are possiblyDistributed, i.e. they have a parent\n        // that has a ShadowRoot.\n        if (!hasHtmlApi || !children[i]._elementManager.element._isPossiblyDistributed)\n            traverse(children[i])\n    }\n\n    const shadowChildren = node._elementManager.element._shadowChildren\n    if (hasHtmlApi && shadowChildren) {\n        for (let l=shadowChildren.length, i=0; i<l; i+=1)\n            traverse(shadowChildren[i].imperativeCounterpart, true)\n    }\n}\n\nexport {\n  epsilon,\n  applyCSSLabel,\n  animationFrame,\n  makeLowercaseSetterAliases,\n  observeChildren,\n  getShadowRootVersion,\n  hasShadowDomV0,\n  hasShadowDomV1,\n  getAncestorShadowRoot,\n  traverse,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/Utility.js","const instanceofSymbol = Symbol('instanceofSymbol')\n\nconst TreeNodeMixin = base => {\n    class TreeNode extends base {\n\n        constructor(options = {}) {\n            super(options)\n            this._parent = null // default to no parent.\n            this._children = [];\n        }\n\n        /**\n         * this._parent is protected (node's can access other node._parent).\n         * The user should use the addChild methods, which automatically handles\n         * setting a parent.\n         *\n         * @readonly\n         */\n        get parent() {\n            return this._parent\n        }\n\n        /**\n         * @readonly\n         */\n        get children() {\n            // return a new array, so that the user modifying it doesn't affect\n            // this node's actual children.\n            return [...this._children]\n        }\n\n        /**\n         * Add a child node to this TreeNode.\n         *\n         * @param {TreeNode} childNode The child node to add.\n         */\n        addChild (childNode) {\n\n            if (! (childNode instanceof TreeNode))\n                throw new TypeError('TreeNode.addChild expects the childNode argument to be a TreeNode instance.')\n\n            if (childNode._parent === this)\n                throw new ReferenceError('childNode is already a child of this parent.')\n\n            if (childNode._parent)\n                childNode._parent.removeChild(childNode)\n\n            childNode._parent = this;\n\n            this._children.push(childNode);\n\n            return this\n        }\n\n        /**\n         * Add all the child nodes in the given array to this node.\n         *\n         * @param {Array.TreeNode} nodes The nodes to add.\n         */\n        addChildren(nodes) {\n            nodes.forEach(node => this.addChild(node))\n            return this\n        }\n\n        /**\n         * Remove a child node from this node.\n         *\n         * @param {TreeNode} childNode The node to remove.\n         */\n        removeChild(childNode) {\n            if (! (childNode instanceof TreeNode))\n                throw new Error(`\n                    TreeNode.removeChild expects the childNode argument to be an\n                    instance of TreeNode. There should only be TreeNodes in the\n                    tree.\n                `)\n\n            if (childNode._parent !== this)\n                throw new ReferenceError('childNode is not a child of this parent.')\n\n            childNode._parent = null\n            this._children.splice(this._children.indexOf(childNode), 1);\n\n            return this\n        }\n\n        /**\n         * Remove all the child nodes in the given array from this node.\n         *\n         * @param {Array.TreeNode} nodes The nodes to remove.\n         */\n        removeChildren(nodes) {\n            nodes.forEach(node => this.removeChild(node))\n            return this\n        }\n\n        /**\n         * Shortcut to remove all children.\n         */\n        removeAllChildren() {\n            this.removeChildren(this._children)\n            return this\n        }\n\n        /**\n         * @readonly\n         * @return {number} How many children this TreeNode has.\n         */\n        get childCount() {\n            return this._children.length\n        }\n    }\n\n    Object.defineProperty(TreeNode, Symbol.hasInstance, {\n        value: function(obj) {\n            if (this !== TreeNode) return Object.getPrototypeOf(TreeNode)[Symbol.hasInstance].call(this, obj)\n\n            let currentProto = obj\n\n            while(currentProto) {\n                const desc = Object.getOwnPropertyDescriptor(currentProto, \"constructor\")\n\n                if (desc && desc.value && desc.value.hasOwnProperty(instanceofSymbol))\n                    return true\n\n                currentProto = Object.getPrototypeOf(currentProto)\n            }\n\n            return false\n        }\n    })\n\n    TreeNode[instanceofSymbol] = true\n\n    return TreeNode\n}\n\nconst TreeNode = TreeNodeMixin(class{})\nTreeNode.mixin = TreeNodeMixin\n\nexport {TreeNode as default}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/TreeNode.js","// TODO:\n//  - Finish lookAt from the camera tutorial.\n\nlet targetContextMap = new WeakMap\n\nexport\nfunction createWebGLContext(target, version) {\n    const canvas = createCanvas('100%', '100%')\n    const gl = getGl(canvas, version)\n\n    if (gl) {\n        if (targetContextMap.has(target)) removeWebGLContext(target)\n        target.appendChild(canvas)\n        targetContextMap.set(target, gl)\n    }\n\n    return gl\n}\n\nexport\nfunction removeWebGLContext(target) {\n    const gl = targetContextMap.get(target)\n    target.removeChild(gl.canvas)\n}\n\nfunction createCanvas(width, height) {\n    const canvas = document.createElement('canvas')\n    setCanvasCSSSize(canvas, width, height)\n    return canvas\n}\n\nfunction setCanvasCSSSize(canvas, width, height) {\n    canvas.style.width = width\n    canvas.style.height = height\n}\n\nexport\nfunction setGlResolution(gl, width, height) {\n    setCanvasRenderSize(gl.canvas, width, height)\n    gl.viewport(0, 0, width, height)\n}\n\nfunction setCanvasRenderSize(canvas, width, height) {\n    canvas.width = width\n    canvas.height = height\n}\n\nfunction getGl(canvasOrSelector, version) {\n    let canvas\n\n    if (canvasOrSelector instanceof HTMLCanvasElement)\n        canvas = canvasOrSelector\n\n    if (!canvas)\n        canvas = document.querySelector(canvasOrSelector)\n\n    if (!(canvas instanceof HTMLCanvasElement)) return false\n\n    if (version == 1 || version == undefined) version = ''\n    else if (version == 2) version = '2'\n    else throw new Error('Invalid WebGL version.')\n\n    return canvas.getContext('webgl'+version)\n}\n\nexport\nfunction createShader(gl, type, source) {\n    // Create a vertex shader object\n    const shader = gl.createShader(type)\n\n    // Attach vertex shader source code\n    gl.shaderSource(shader, source)\n\n    // Compile the vertex shader\n    gl.compileShader(shader)\n\n    const success = gl.getShaderParameter(shader, gl.COMPILE_STATUS)\n\n    if (success) return shader\n\n    const error = new Error(\"*** Error compiling shader '\" + shader + \"':\" + gl.getShaderInfoLog(shader))\n    gl.deleteShader(shader)\n    throw error\n}\n\nexport\nfunction createProgram(gl, vertexShader, fragmentShader) {\n    // Create a shader program object to store\n    // the combined shader program\n    const program = gl.createProgram()\n\n    // Attach a vertex shader\n    gl.attachShader(program, vertexShader)\n\n    // Attach a fragment shader\n    gl.attachShader(program, fragmentShader)\n\n    // Link both programs\n    gl.linkProgram(program)\n\n    const success = gl.getProgramParameter(program, gl.LINK_STATUS)\n    if (success) {\n        return program\n    }\n\n    console.log(' --- Error making program. GL Program Info Log:', gl.getProgramInfoLog(program))\n    gl.deleteProgram(program)\n}\n\nexport\nconst v3 = {\n    cross(a, b) {\n        return [\n            a[1] * b[2] - a[2] * b[1],\n            a[2] * b[0] - a[0] * b[2],\n            a[0] * b[1] - a[1] * b[0],\n        ]\n    },\n\n    subtract(a, b) {\n        return [a[0] - b[0], a[1] - b[1], a[2] - b[2]]\n    },\n\n    add(a, b) {\n        return [a[0] + b[0], a[1] + b[1], a[2] + b[2]]\n    },\n\n    normalize(v) {\n        const length = Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2])\n        // make sure we don't divide by 0.\n        if (length > 0.00001) {\n            return [v[0] / length, v[1] / length, v[2] / length]\n        } else {\n            return [0, 0, 0]\n        }\n    },\n}\n\nclass Geometry {\n    constructor(...args) {\n        this._init(...args)\n    }\n\n    _init() {\n        this.verts = null // Float32Array\n        this.normals = null // Float32Array\n        this._colors = null // Float32Array\n        this._color = null\n\n        this._calcVerts()\n        this.color = [ 0.5, 0.5, 0.5 ]\n    }\n\n    // TODO handle CSS color strings with tinycolor2 from NPM\n    // @param {Array.number} value - array of four color values r, g, b, and a.\n    // TODO: don't use accept values for color alpha, use node's opacity.\n    set color(value) {\n        if (!value) return\n\n        this._color = value\n        let color = null\n\n        if (typeof value == 'string')\n            color = value.trim().split(' ').map(rgbPart => parseFloat(rgbPart))\n        else color = value\n\n        // length of _colors array, considering it is four numbers per color,\n        // for each vertex.\n        // TODO: use a uniform instead of attributes that are all the same\n        // value.\n        const l = this.verts.length\n        const _colorsLength = l + l/3\n\n        const _colors = this._colors = new Float32Array(_colorsLength)\n\n        for (let i=0; i<_colorsLength; i+=4) { // 4 color parts per vertex\n            _colors[i+0]  = color[0] // r\n            _colors[i+1]  = color[1] // g\n            _colors[i+2]  = color[2] // b\n            _colors[i+3]  = typeof color[3] == 'undefined' ? 1 : color[3] // a\n        }\n    }\n    get color() {\n        return this._color\n    }\n}\n\nexport\nclass IsoscelesTriangle extends Geometry {\n    _init(width, height) {\n        this.width = width // number\n        this.height = height // number\n\n        super._init()\n    }\n\n    _calcVerts() {\n        const {width, height} = this\n\n        const verts = this.verts = new Float32Array([\n            -width/2, 0, 0,\n            width/2, 0, 0,\n            0, height, 0,\n        ])\n\n        const normal = [0,0,1] // pointing along Z\n        const normals = this.normals = new Float32Array(verts.length)\n\n        for (let i=0, l=verts.length; i<l; i+=3) { // 3 numbers per vertex\n            normals[i+0] = normal[0]\n            normals[i+1] = normal[1]\n            normals[i+2] = normal[2]\n        }\n    }\n}\n\nexport\nclass SymmetricTrapezoid extends Geometry { // extends from TwoDeePolygon, which has same normals code.\n    _init(baseWidth, topWidth, height) {\n        this.baseWidth = baseWidth // number\n        this.topWidth = topWidth // number\n        this.height = height // number\n\n        super._init()\n    }\n\n    _calcVerts() {\n        const {baseWidth, topWidth, height} = this\n\n        const verts = this.verts = new Float32Array([\n            -baseWidth/2, 0, 0,\n            baseWidth/2, 0, 0,\n            topWidth/2, height, 0,\n            topWidth/2, height, 0,\n            -topWidth/2, height, 0,\n            -baseWidth/2, 0, 0,\n        ])\n\n        const normal = [0,0,1] // pointing along Z\n        const normals = this.normals = new Float32Array(verts.length)\n\n        for (let i=0, l=verts.length; i<l; i+=3) { // 3 numbers per vertex\n            normals[i+0] = normal[0]\n            normals[i+1] = normal[1]\n            normals[i+2] = normal[2]\n        }\n    }\n}\n\nexport\nclass Quad extends Geometry {\n    _init(width, height) {\n        this.width = width // number\n        this.height = height // number\n\n        super._init()\n    }\n\n    _calcVerts() {\n        const {width, height} = this\n\n        const verts = this.verts = new Float32Array([\n            -width/2, -height/2, 0,\n            width/2, -height/2, 0,\n            width/2, height/2, 0,\n            width/2, height/2, 0,\n            -width/2, height/2, 0,\n            -width/2, -height/2, 0,\n        ])\n\n        const normal = [0,0,1] // pointing along Z\n        const normals = this.normals = new Float32Array(verts.length)\n\n        for (let i=0, l=verts.length; i<l; i+=3) { // 3 numbers per vertex\n            normals[i+0] = normal[0]\n            normals[i+1] = normal[1]\n            normals[i+2] = normal[2]\n        }\n    }\n}\n\nexport\nclass Cube extends Geometry {\n    _init(x, y, width) {\n        // the top front left corner\n        this.x = x // number\n        this.y = y // number\n        this.width = width // number\n\n        super._init()\n    }\n\n    _calcVerts() {\n        const {x,y, width} = this\n\n        const x2 = x + width\n        const y2 = y + width\n\n        const verts = this.verts = new Float32Array([\n            // front face\n            x, y, 0,\n            x2, y, 0,\n            x2, y2, 0,\n            x2, y2, 0,\n            x, y2, 0,\n            x, y, 0,\n\n            // left face\n            x, y, 0,\n            x, y, -width,\n            x, y2, -width,\n            x, y2, -width,\n            x, y2, 0,\n            x, y, 0,\n\n            // right face\n            x2, y, 0,\n            x2, y, -width,\n            x2, y2, -width,\n            x2, y2, -width,\n            x2, y2, 0,\n            x2, y, 0,\n\n            // back face\n            x, y, -width,\n            x2, y, -width,\n            x2, y2, -width,\n            x2, y2, -width,\n            x, y2, -width,\n            x, y, -width,\n\n            // top face\n            x, y, 0,\n            x, y, -width,\n            x2, y, -width,\n            x2, y, -width,\n            x2, y, 0,\n            x, y, 0,\n\n            // bottom face\n            x, y2, 0,\n            x, y2, -width,\n            x2, y2, -width,\n            x2, y2, -width,\n            x2, y2, 0,\n            x, y2, 0,\n        ])\n\n        const faceNormals = [\n            [0,0,1, ], // front face\n            [-1,0,0, ], // left face\n            [1,0,0,], // right face\n            [0,0,-1,], // back face\n            [0,-1,0, ], // top face\n            [0,1,0,], // bottom face\n        ]\n\n        const normals = this.normals = new Float32Array(verts.length)\n\n        for (let side=0, i=0, l=verts.length; i<l; i+=6*3, side+=1) { // 6 vertices per side, 3 numbers per vertex normal\n\n            // first vertex\n            normals[i+0]  = faceNormals[side][0]\n            normals[i+1]  = faceNormals[side][1]\n            normals[i+2]  = faceNormals[side][2]\n\n            // second vertex\n            normals[i+3]  = faceNormals[side][0]\n            normals[i+4]  = faceNormals[side][1]\n            normals[i+5]  = faceNormals[side][2]\n\n            // third vertex\n            normals[i+6]  = faceNormals[side][0]\n            normals[i+7]  = faceNormals[side][1]\n            normals[i+8]  = faceNormals[side][2]\n\n            // fourth vertex\n            normals[i+9]  = faceNormals[side][0]\n            normals[i+10] = faceNormals[side][1]\n            normals[i+11] = faceNormals[side][2]\n\n            // fifth vertex\n            normals[i+12] = faceNormals[side][0]\n            normals[i+13] = faceNormals[side][1]\n            normals[i+14] = faceNormals[side][2]\n\n            // sixth vertex\n            normals[i+15] = faceNormals[side][0]\n            normals[i+16] = faceNormals[side][1]\n            normals[i+17] = faceNormals[side][2]\n        }\n    }\n}\n\nexport\nclass ThreeSidedPyramid extends Geometry {\n    _init(base, height) {\n        this.base = base\n        this.height = height\n\n        super._init()\n    }\n\n    _calcVerts() {\n        const {base, height} = this\n\n        // base is hypotenuse in following calculations\n\n        // TODO: this can be replaced with a loop that can make any-sided\n        // pyramid.\n        const verts = this.verts = new Float32Array([\n            // base\n            0, 0, 0, // bottom front left\n            base, 0, 0, // bottom front right\n            base/2, 0, -Math.sin(degToRad(60)) * base, // bottom back\n\n            // front\n            base, 0, 0, // bottom front right\n            0, 0, 0, // bottom front left\n            base/2, height, ((Math.sin(degToRad(60)) * base) / (base/2)) * (base/2), // tip top\n\n            // back left\n            0, 0, 0, // bottom front left\n            base/2, 0, -Math.sin(degToRad(60)) * base, // bottom back\n            base/2, height, ((Math.sin(degToRad(60)) * base) / (base/2)) * (base/2), // tip top\n\n            // back right\n            base/2, 0, -Math.sin(degToRad(60)) * base, // bottom back\n            base, 0, 0, // bottom front right\n            base/2, height, ((Math.sin(degToRad(60)) * base) / (base/2)) * (base/2), // tip top\n        ])\n\n        // TODO: normals\n    }\n}\n\nexport\nclass FourSidedPyramid extends Geometry {\n    //_init(base, height) {\n        //this.base = base\n        //this.height = height\n\n        //super._init()\n    //}\n\n    //_calcVerts() {\n        //const {base, height} = this\n\n        //// base is hypotenuse in following calculations\n\n        //// TODO: this can be replaced with a loop that can make any-sided\n        //// pyramid.\n        //const verts = this.verts = new Float32Array([\n            //// base\n            //0, 0, 0, // bottom front left\n            //base, 0, 0, // bottom front right\n            //base, 0, -base, // bottom back right\n            //base, 0, -base, // bottom back right\n            //0, 0, -base, // bottom back left\n            //0, 0, 0, // bottom front left\n\n            //// front\n            //0, 0, 0, // bottom front left\n            //base, 0, 0, // bottom front right\n            //base/2, height, -base/2, // tip top\n\n            //// right\n            //base, 0, 0, // bottom front right\n            //base, 0, -base, // bottom back right\n            //base/2, height, -base/2, // tip top\n\n            //// back\n            //base, 0, -base, // bottom back right\n            //0, 0, -base, // bottom back left\n            //base/2, height, -base/2, // tip top\n\n            //// left\n            //0, 0, -base, // bottom back left\n            //0, 0, 0, // bottom front left\n            //base/2, height, -base/2, // tip top\n        //])\n\n        //const faceNormals = [\n            //// bottom\n            //[0, -1, 0],\n\n            //// front\n            //v3.cross(\n                //[base, 0, 0], // bottom front right\n                //[base/2, height, -base/2] // tip top\n            //),\n\n            //// right\n            //v3.cross(\n                //[base, 0, -base], // bottom back right\n                //[-base/2, height, -base/2] // tip top (-x)\n            //),\n\n            //// left\n            //v3.cross(\n                //[-base, 0, 0], // bottom front right (-x)\n                //[-base/2, height, base/2] // tip top (-x, +z)\n            //),\n\n            //// right\n            //v3.cross(\n                //[0, 0, base], // bottom back left (+z)\n                //[base/2, height, base/2] // tip top (+z)\n            //),\n        //]\n\n        //const normals = this.normals = new Float32Array(verts.length)\n\n        //// bottom (6 verts)\n        //for (let side=0, i=0, l=6*3; i<l; i+=6*3, side+=1) { // 6 vertices per side, 3 numbers per vertex normal\n\n            //// first vertex\n            //normals[i+0]  = faceNormals[side][0]\n            //normals[i+1]  = faceNormals[side][1]\n            //normals[i+2]  = faceNormals[side][2]\n\n            //// second vertex\n            //normals[i+3]  = faceNormals[side][0]\n            //normals[i+4]  = faceNormals[side][1]\n            //normals[i+5]  = faceNormals[side][2]\n\n            //// third vertex\n            //normals[i+6]  = faceNormals[side][0]\n            //normals[i+7]  = faceNormals[side][1]\n            //normals[i+8]  = faceNormals[side][2]\n\n            //// fourth vertex\n            //normals[i+9]  = faceNormals[side][0]\n            //normals[i+10] = faceNormals[side][1]\n            //normals[i+11] = faceNormals[side][2]\n\n            //// fifth vertex\n            //normals[i+12] = faceNormals[side][0]\n            //normals[i+13] = faceNormals[side][1]\n            //normals[i+14] = faceNormals[side][2]\n\n            //// sixth vertex\n            //normals[i+15] = faceNormals[side][0]\n            //normals[i+16] = faceNormals[side][1]\n            //normals[i+17] = faceNormals[side][2]\n        //}\n\n        //// sides (3 verts each)\n        //for (let side=0+1, i=0, l=verts.length - 6*3; i<l; i+=3*3, side+=1) { // 3 vertices per side, 3 numbers per vertex normal\n\n            //// first vertex\n            //normals[i+0]  = faceNormals[side][0]\n            //normals[i+1]  = faceNormals[side][1]\n            //normals[i+2]  = faceNormals[side][2]\n\n            //// second vertex\n            //normals[i+3]  = faceNormals[side][0]\n            //normals[i+4]  = faceNormals[side][1]\n            //normals[i+5]  = faceNormals[side][2]\n\n            //// third vertex\n            //normals[i+6]  = faceNormals[side][0]\n            //normals[i+7]  = faceNormals[side][1]\n            //normals[i+8]  = faceNormals[side][2]\n        //}\n    //}\n\n    _init() {\n        super._init()\n    }\n\n    _calcVerts() {\n        this.verts = new Float32Array([\n            -100 ,0.087303 ,-100\n            ,100 ,0.087303 ,-100\n            ,100 ,0.087303 ,100\n            ,-100 ,0.087303 ,100\n            ,100 ,0.087303 ,100\n            ,100 ,0.087303 ,-100\n            ,0 ,200.087 ,0\n            ,100 ,0.087303 ,-100\n            ,-100 ,0.087303 ,-100\n            ,0 ,200.087 ,0\n            ,-100 ,0.087303 ,-100\n            ,-100 ,0.087303 ,100\n            ,0 ,200.087 ,0\n            ,-100 ,0.087303 ,100\n            ,100 ,0.087303 ,100\n            ,0 ,200.087 ,0\n        ])\n\n        this.normals = new Float32Array([\n            0 ,-1 ,0\n            ,0 ,-1 ,0\n            ,0 ,-1 ,0\n            ,0 ,-1 ,0\n            ,0.894427 ,0.447214 ,0\n            ,0.894427 ,0.447214 ,0\n            ,0.894427 ,0.447214 ,0\n            ,0 ,0.447214 ,-0.894427\n            ,0 ,0.447214 ,-0.894427\n            ,0 ,0.447214 ,-0.894427\n            ,-0.894427 ,0.447214 ,0\n            ,-0.894427 ,0.447214 ,0\n            ,-0.894427 ,0.447214 ,0\n            ,0 ,0.447214 ,0.894427\n            ,0 ,0.447214 ,0.894427\n            ,0 ,0.447214 ,0.894427\n        ])\n    }\n}\n\nexport\nconst m3 = {\n    identity: Object.freeze([\n        1, 0, 0,\n        0, 1, 0,\n        0, 0, 1,\n    ]),\n\n    translation(tx, ty) {\n        return [\n            1, 0, 0,\n            0, 1, 0,\n            tx, ty, 1,\n        ]\n    },\n\n    rotation(angleInRadians) {\n        const c = Math.cos(angleInRadians)\n        const s = Math.sin(angleInRadians)\n        return [\n            c,-s, 0,\n            s, c, 0,\n            0, 0, 1,\n        ]\n    },\n\n    scaling(sx, sy) {\n        return [\n            sx, 0, 0,\n            0, sy, 0,\n            0, 0, 1,\n        ]\n    },\n\n    // Note: This matrix flips the Y axis so that 0 is at the top.\n    projection(width, height) {\n        // longer version, multiple matrices\n        let matrix = m3.identity\n        matrix = m3.multiply(m3.scaling(1/width, 1/height), matrix) // get the portion of clip space\n        matrix = m3.multiply(m3.scaling(2, 2), matrix) // convert to clip space units\n        matrix = m3.multiply(m3.translation(-1, -1), matrix) // Move from the center to bottom left\n        matrix = m3.multiply(m3.scaling(1, -1), matrix) // move to the top left like DOM\n        return matrix\n\n        // shorter version, manual result of the longer version\n        //return [\n            //2 / width,        0,           0,\n                //0,       -2 / height,      0,\n               //-1,            1,           1\n        //]\n    },\n\n    multiply(a, b) {\n        const a00 = a[0]\n        const a01 = a[1]\n        const a02 = a[2]\n        const a10 = a[3]\n        const a11 = a[4]\n        const a12 = a[5]\n        const a20 = a[6]\n        const a21 = a[7]\n        const a22 = a[8]\n        const b00 = b[0]\n        const b01 = b[1]\n        const b02 = b[2]\n        const b10 = b[3]\n        const b11 = b[4]\n        const b12 = b[5]\n        const b20 = b[6]\n        const b21 = b[7]\n        const b22 = b[8]\n\n        return [\n            b00 * a00 + b01 * a10 + b02 * a20,\n            b00 * a01 + b01 * a11 + b02 * a21,\n            b00 * a02 + b01 * a12 + b02 * a22,\n            b10 * a00 + b11 * a10 + b12 * a20,\n            b10 * a01 + b11 * a11 + b12 * a21,\n            b10 * a02 + b11 * a12 + b12 * a22,\n            b20 * a00 + b21 * a10 + b22 * a20,\n            b20 * a01 + b21 * a11 + b22 * a21,\n            b20 * a02 + b21 * a12 + b22 * a22,\n        ]\n    },\n}\n\nexport\nconst m4 = {\n    identity: Object.freeze([\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ]),\n\n    translation(tx, ty, tz) {\n        return [\n            1,  0,  0,  0,\n            0,  1,  0,  0,\n            0,  0,  1,  0,\n            tx, ty, tz, 1,\n        ]\n    },\n\n    xRotation(degrees) {\n        const radians = degToRad(degrees)\n        const c = Math.cos(radians)\n        const s = Math.sin(radians)\n        return [\n            1,  0, 0, 0,\n            0,  c, s, 0,\n            0, -s, c, 0,\n            0,  0, 0, 1,\n        ]\n    },\n\n    yRotation(degrees) {\n        const radians = degToRad(degrees)\n        const c = Math.cos(radians)\n        const s = Math.sin(radians)\n        return [\n            c, 0, -s, 0,\n            0, 1,  0, 0,\n            s, 0,  c, 0,\n            0, 0,  0, 1,\n        ]\n    },\n\n    zRotation(degrees) {\n        const radians = degToRad(degrees)\n        const c = Math.cos(radians)\n        const s = Math.sin(radians)\n        return [\n            c,-s, 0, 0,\n            s, c, 0, 0,\n            0, 0, 1, 0,\n            0, 0, 0, 1,\n        ]\n    },\n\n    scaling(sx, sy, sz) {\n        return [\n            sx, 0,  0,  0,\n            0,  sy, 0,  0,\n            0,  0,  sz, 0,\n            0,  0,  0,  1,\n        ]\n    },\n\n    inverse(m) {\n        const m00 = m[0 * 4 + 0]\n        const m01 = m[0 * 4 + 1]\n        const m02 = m[0 * 4 + 2]\n        const m03 = m[0 * 4 + 3]\n        const m10 = m[1 * 4 + 0]\n        const m11 = m[1 * 4 + 1]\n        const m12 = m[1 * 4 + 2]\n        const m13 = m[1 * 4 + 3]\n        const m20 = m[2 * 4 + 0]\n        const m21 = m[2 * 4 + 1]\n        const m22 = m[2 * 4 + 2]\n        const m23 = m[2 * 4 + 3]\n        const m30 = m[3 * 4 + 0]\n        const m31 = m[3 * 4 + 1]\n        const m32 = m[3 * 4 + 2]\n        const m33 = m[3 * 4 + 3]\n        const tmp_0  = m22 * m33\n        const tmp_1  = m32 * m23\n        const tmp_2  = m12 * m33\n        const tmp_3  = m32 * m13\n        const tmp_4  = m12 * m23\n        const tmp_5  = m22 * m13\n        const tmp_6  = m02 * m33\n        const tmp_7  = m32 * m03\n        const tmp_8  = m02 * m23\n        const tmp_9  = m22 * m03\n        const tmp_10 = m02 * m13\n        const tmp_11 = m12 * m03\n        const tmp_12 = m20 * m31\n        const tmp_13 = m30 * m21\n        const tmp_14 = m10 * m31\n        const tmp_15 = m30 * m11\n        const tmp_16 = m10 * m21\n        const tmp_17 = m20 * m11\n        const tmp_18 = m00 * m31\n        const tmp_19 = m30 * m01\n        const tmp_20 = m00 * m21\n        const tmp_21 = m20 * m01\n        const tmp_22 = m00 * m11\n        const tmp_23 = m10 * m01\n\n        const t0 = (tmp_0 * m11 + tmp_3 * m21 + tmp_4 * m31) -\n            (tmp_1 * m11 + tmp_2 * m21 + tmp_5 * m31)\n        const t1 = (tmp_1 * m01 + tmp_6 * m21 + tmp_9 * m31) -\n            (tmp_0 * m01 + tmp_7 * m21 + tmp_8 * m31)\n        const t2 = (tmp_2 * m01 + tmp_7 * m11 + tmp_10 * m31) -\n            (tmp_3 * m01 + tmp_6 * m11 + tmp_11 * m31)\n        const t3 = (tmp_5 * m01 + tmp_8 * m11 + tmp_11 * m21) -\n            (tmp_4 * m01 + tmp_9 * m11 + tmp_10 * m21)\n\n        const d = 1.0 / (m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3)\n\n        return [\n            d * t0,\n            d * t1,\n            d * t2,\n            d * t3,\n            d * ((tmp_1 * m10 + tmp_2 * m20 + tmp_5 * m30) -\n                (tmp_0 * m10 + tmp_3 * m20 + tmp_4 * m30)),\n            d * ((tmp_0 * m00 + tmp_7 * m20 + tmp_8 * m30) -\n                (tmp_1 * m00 + tmp_6 * m20 + tmp_9 * m30)),\n            d * ((tmp_3 * m00 + tmp_6 * m10 + tmp_11 * m30) -\n                (tmp_2 * m00 + tmp_7 * m10 + tmp_10 * m30)),\n            d * ((tmp_4 * m00 + tmp_9 * m10 + tmp_10 * m20) -\n                (tmp_5 * m00 + tmp_8 * m10 + tmp_11 * m20)),\n            d * ((tmp_12 * m13 + tmp_15 * m23 + tmp_16 * m33) -\n                (tmp_13 * m13 + tmp_14 * m23 + tmp_17 * m33)),\n            d * ((tmp_13 * m03 + tmp_18 * m23 + tmp_21 * m33) -\n                (tmp_12 * m03 + tmp_19 * m23 + tmp_20 * m33)),\n            d * ((tmp_14 * m03 + tmp_19 * m13 + tmp_22 * m33) -\n                (tmp_15 * m03 + tmp_18 * m13 + tmp_23 * m33)),\n            d * ((tmp_17 * m03 + tmp_20 * m13 + tmp_23 * m23) -\n                (tmp_16 * m03 + tmp_21 * m13 + tmp_22 * m23)),\n            d * ((tmp_14 * m22 + tmp_17 * m32 + tmp_13 * m12) -\n                (tmp_16 * m32 + tmp_12 * m12 + tmp_15 * m22)),\n            d * ((tmp_20 * m32 + tmp_12 * m02 + tmp_19 * m22) -\n                (tmp_18 * m22 + tmp_21 * m32 + tmp_13 * m02)),\n            d * ((tmp_18 * m12 + tmp_23 * m32 + tmp_15 * m02) -\n                (tmp_22 * m32 + tmp_14 * m02 + tmp_19 * m12)),\n            d * ((tmp_22 * m22 + tmp_16 * m02 + tmp_21 * m12) -\n                (tmp_20 * m12 + tmp_23 * m22 + tmp_17 * m02))\n        ]\n    },\n\n    transpose(m) {\n        return [\n            m[0], m[4], m[8], m[12],\n            m[1], m[5], m[9], m[13],\n            m[2], m[6], m[10], m[14],\n            m[3], m[7], m[11], m[15],\n        ]\n    },\n\n\n    // Note: This matrix flips the Y axis so that 0 is at the top.\n    projection(width, height, depth) {\n        // longer version, multiple matrices\n        //let matrix = m4.identity\n        //matrix = m4.multiply(m4.scaling(1/width, 1/height, 1/depth), matrix) // get the portion of clip space\n        //matrix = m4.multiply(m4.scaling(2, 2, 2), matrix) // convert to clip space units\n        //matrix = m4.multiply(m4.translation(-1, -1, 0), matrix) // Move from the center to bottom left\n        //matrix = m4.multiply(m4.scaling(1, -1, 1), matrix) // move to the top left like DOM\n        //return matrix\n\n        // shorter version, manual result of the longer version\n        return [\n            2 / width, 0,           0,         0,\n            0,         -2 / height, 0,         0,\n            0,         0,           2 / depth, 0,\n            -1,        1,           0,         1,\n        ]\n    },\n\n    // Note: This matrix flips the Y axis so that 0 is at the top.\n    orthographic(left, right, top, bottom, near, far) {\n        return [\n            2 / (right - left), 0, 0, 0,\n            0, 2 / (top - bottom), 0, 0,\n            0, 0, 2 / (near - far), 0,\n\n            (left + right) / (left - right),\n            (bottom + top) / (bottom - top),\n            (near + far) / (near - far),\n            1,\n        ]\n    },\n\n    perspective(fieldOfViewInDegrees, aspect, near, far) {\n        const fieldOfViewInRadians = degToRad(fieldOfViewInDegrees)\n        const f = Math.tan(Math.PI * 0.5 - 0.5 * fieldOfViewInRadians)\n        const rangeInv = 1.0 / (near - far)\n\n        return [\n            f / aspect, 0, 0, 0,\n            0, f, 0, 0,\n            0, 0, (near + far) * rangeInv, -1,\n            0, 0, near * far * rangeInv * 2, 0\n        ]\n    },\n\n    lookAt(cameraPosition, target, up) {\n        const zAxis = v3.normalize(v3.subtract(cameraPosition, target));\n        const xAxis = v3.cross(up, zAxis);\n        const yAxis = v3.cross(zAxis, xAxis);\n\n        return [\n            xAxis[0], xAxis[1], xAxis[2], 0,\n            yAxis[0], yAxis[1], yAxis[2], 0,\n            zAxis[0], zAxis[1], zAxis[2], 0,\n            cameraPosition[0], cameraPosition[1], cameraPosition[2], 1,\n        ];\n    },\n\n    multiply(a, b) {\n        const a00 = a[0 * 4 + 0]\n        const a01 = a[0 * 4 + 1]\n        const a02 = a[0 * 4 + 2]\n        const a03 = a[0 * 4 + 3]\n        const a10 = a[1 * 4 + 0]\n        const a11 = a[1 * 4 + 1]\n        const a12 = a[1 * 4 + 2]\n        const a13 = a[1 * 4 + 3]\n        const a20 = a[2 * 4 + 0]\n        const a21 = a[2 * 4 + 1]\n        const a22 = a[2 * 4 + 2]\n        const a23 = a[2 * 4 + 3]\n        const a30 = a[3 * 4 + 0]\n        const a31 = a[3 * 4 + 1]\n        const a32 = a[3 * 4 + 2]\n        const a33 = a[3 * 4 + 3]\n        const b00 = b[0 * 4 + 0]\n        const b01 = b[0 * 4 + 1]\n        const b02 = b[0 * 4 + 2]\n        const b03 = b[0 * 4 + 3]\n        const b10 = b[1 * 4 + 0]\n        const b11 = b[1 * 4 + 1]\n        const b12 = b[1 * 4 + 2]\n        const b13 = b[1 * 4 + 3]\n        const b20 = b[2 * 4 + 0]\n        const b21 = b[2 * 4 + 1]\n        const b22 = b[2 * 4 + 2]\n        const b23 = b[2 * 4 + 3]\n        const b30 = b[3 * 4 + 0]\n        const b31 = b[3 * 4 + 1]\n        const b32 = b[3 * 4 + 2]\n        const b33 = b[3 * 4 + 3]\n\n        return [\n            b00 * a00 + b01 * a10 + b02 * a20 + b03 * a30,\n            b00 * a01 + b01 * a11 + b02 * a21 + b03 * a31,\n            b00 * a02 + b01 * a12 + b02 * a22 + b03 * a32,\n            b00 * a03 + b01 * a13 + b02 * a23 + b03 * a33,\n            b10 * a00 + b11 * a10 + b12 * a20 + b13 * a30,\n            b10 * a01 + b11 * a11 + b12 * a21 + b13 * a31,\n            b10 * a02 + b11 * a12 + b12 * a22 + b13 * a32,\n            b10 * a03 + b11 * a13 + b12 * a23 + b13 * a33,\n            b20 * a00 + b21 * a10 + b22 * a20 + b23 * a30,\n            b20 * a01 + b21 * a11 + b22 * a21 + b23 * a31,\n            b20 * a02 + b21 * a12 + b22 * a22 + b23 * a32,\n            b20 * a03 + b21 * a13 + b22 * a23 + b23 * a33,\n            b30 * a00 + b31 * a10 + b32 * a20 + b33 * a30,\n            b30 * a01 + b31 * a11 + b32 * a21 + b33 * a31,\n            b30 * a02 + b31 * a12 + b32 * a22 + b33 * a32,\n            b30 * a03 + b31 * a13 + b32 * a23 + b33 * a33,\n        ]\n    },\n}\n\nfunction degToRad(degrees) {\n    return degrees * Math.PI / 180\n}\n\nexport\nconst vertShaderSource = `\n    attribute vec4 a_vertexPosition;\n    uniform mat4 u_worldViewProjectionMatrix;\n\n    // TODO: awaiting on transpose() method for DOMMatrix\n    //uniform mat4 u_worldInverseTransposeMatrix; // used for correct lighting normals\n\n    attribute vec4 a_color;\n    varying vec4 v_fragColor;\n\n    attribute vec3 a_normal;\n    varying vec3 v_vertNormal;\n\n    uniform mat4 u_worldMatrix;\n\n    uniform vec3 u_lightWorldPosition;\n    varying vec3 v_surfaceToLightVector;\n\n    uniform vec3 u_cameraWorldPosition;\n    varying vec3 v_surfaceToCameraVector;\n\n    attribute vec2 a_textureCoordinate;\n    varying vec2 v_textureCoordinate;\n\n    void main() {\n        vec3 surfaceWorldPosition = (u_worldMatrix * a_vertexPosition).xyz;\n\n        // compute the vector of the surface to the pointLight\n        // and pass it to the fragment shader\n        v_surfaceToLightVector = u_lightWorldPosition - surfaceWorldPosition;\n\n        // compute the vector of the surface to the camera\n        // and pass it to the fragment shader\n        v_surfaceToCameraVector = u_cameraWorldPosition - surfaceWorldPosition;\n\n        gl_Position = u_worldViewProjectionMatrix * a_vertexPosition;\n\n        v_fragColor = a_color;\n        //v_fragColor = gl_Position * 0.5 + 0.5;\n\n        // orient the normals and pass to the fragment shader\n        //v_vertNormal = mat3(u_worldInverseTransposeMatrix) * a_normal; // TODO waiting for transpose() method on DOMMatrix\n        //alternate: v_vertNormal = (u_worldInverseTransposeMatrix * vec4(a_normal, 0)).xyz;\n        v_vertNormal = mat3(u_worldMatrix) * a_normal;\n\n        v_textureCoordinate = a_textureCoordinate;\n    }\n`\n\nexport\nconst fragShaderSource = `\n    // TODO: detect highp support, see\n    // https://github.com/greggman/webgl-fundamentals/issues/80#issuecomment-306746556\n    //precision mediump float;\n    precision highp float;\n\n    varying vec4 v_fragColor;\n    varying vec3 v_vertNormal;\n\n    varying vec3 v_surfaceToLightVector;\n\n    //// TODO: use this for directional lighting (f.e. sunlight or moonlight).\n    //uniform vec3 reverseLightDirection;\n\n    varying vec3 v_surfaceToCameraVector;\n\n    uniform float u_shininess;\n    uniform vec3 u_lightColor;\n    uniform vec3 u_specularColor;\n\n    varying vec2 v_textureCoordinate;\n    uniform sampler2D u_texture;\n    uniform bool u_hasTexture;\n\n    void main(void) {\n\n        // because v_vertNormal is a varying it's interpolated\n        // so it will not be a unit vector. Normalizing it\n        // will make it a unit vector again.\n        vec3 normal = normalize(v_vertNormal);\n\n        vec3 surfaceToCameraDirection = normalize(v_surfaceToCameraVector);\n\n        vec3 surfaceToLightDirection = normalize(v_surfaceToLightVector);\n\n        // represents the unit vector oriented at half of the angle between\n        // surfaceToLightDirection and surfaceToCameraDirection.\n        vec3 halfVector = normalize(surfaceToLightDirection + surfaceToCameraDirection);\n\n        float pointLight = dot(normal, surfaceToLightDirection);\n        float pointLightIntensity = 1.0; // TODO make configurable\n        //float directionalLight = dot(normal, reverseLightDirection); // TODO make configurable\n\n        //float specular = dot(normal, halfVector);\n        float specular = 0.0;\n        if (pointLight > 0.0) {\n            specular = pow(dot(normal, halfVector), u_shininess);\n        }\n\n        // TODO make configurable\n        //vec3 ambientLight = vec3(0.361, 0.184, 0.737); // teal\n        vec3 ambientLight = vec3(1.0, 1.0, 1.0); // white\n        float ambientLightIntensity = 0.3;\n\n        // TODO: user can choose color or texture, default to a color if no texture, etc.\n        // TODO: blend texture on top of color, if texture has alpha.\n        gl_FragColor = v_fragColor;\n        if (u_hasTexture) {\n            gl_FragColor = texture2D(u_texture, v_textureCoordinate);\n        }\n\n        // Lets multiply just the color portion (not the alpha) of\n        // gl_FragColor by the pointLight + directionalLight\n        //gl_FragColor.rgb *= pointLight * u_lightColor; // point light only.\n        //gl_FragColor.rgb *= directionalLight; // directional light only.\n        //gl_FragColor.rgb *= ambientLight; // ambient light only.\n        gl_FragColor.rgb *=\n            //clamp(directionalLight, 0.0, 1.0) +\n            clamp(pointLight, 0.0, 1.0) * u_lightColor * pointLightIntensity +\n            ambientLight * ambientLightIntensity;\n\n        // Just add in the specular\n        gl_FragColor.rgb += specular * u_specularColor;\n\n        //gl_FragColor.a = 0.5;\n    }\n`\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/webglUtils.js","import {\n    createWebGLContext,\n    //removeWebGLContext,\n    setGlResolution,\n    v3,\n    m4,\n    vertShaderSource,\n    fragShaderSource,\n    createShader,\n    createProgram,\n    Cube,\n    Quad,\n    FourSidedPyramid,\n    IsoscelesTriangle,\n    SymmetricTrapezoid,\n} from './webglUtils'\n\nconst updateResolution = state => {\n    const resolution = [\n        parseFloat(getComputedStyle(state.gl.canvas).width) * window.devicePixelRatio,\n        parseFloat(getComputedStyle(state.gl.canvas).height) * window.devicePixelRatio,\n        1000,\n    ]\n\n    setGlResolution(state.gl, ...resolution)\n    state.projectionMatrix = m4.perspective(45, resolution[0] / resolution[1], 1, 2000)\n}\n\nclass WebGlRenderer {\n    /**\n     * Creates the WebGL program for the given scene.\n     */\n    initGl(scene) {\n        const gl = createWebGLContext(scene)\n        const state = scene.webGlRendererState\n        state.gl = gl\n\n        if (!gl) { console.log('You need WebGL.') }\n\n        const vertShader = createShader(gl, gl.VERTEX_SHADER, vertShaderSource)\n        const fragShader = createShader(gl, gl.FRAGMENT_SHADER, fragShaderSource)\n        const program = createProgram(gl, vertShader, fragShader)\n        gl.useProgram(program)\n\n\n        state.colorsBuffer = gl.createBuffer()\n        state.colorAttributeLocation = gl.getAttribLocation(program, 'a_color')\n        gl.enableVertexAttribArray(state.colorAttributeLocation)\n\n        state.vertexBuffer = gl.createBuffer()\n        state.vertexAttributeLocation = gl.getAttribLocation(program, \"a_vertexPosition\")\n        gl.enableVertexAttribArray(state.vertexAttributeLocation)\n\n        state.normalsBuffer = gl.createBuffer()\n        state.normalAttributeLocation = gl.getAttribLocation(program, 'a_normal')\n        gl.enableVertexAttribArray(state.normalAttributeLocation)\n\n        state.textureCoordinatesBuffer = gl.createBuffer()\n        state.textureCoordinateLocation = gl.getAttribLocation(program, 'a_textureCoordinate')\n\n        // cull_face doesn't work, because I've drawn my vertices in the wrong\n        // order. They should be clockwise to be front facing (I seem to have done\n        // them counter-clockwise). See \"CULL_FACE\" at\n        // https://webglfundamentals.org/webgl/lessons/webgl-3d-orthographic.html\n        //gl.enable(gl.CULL_FACE)\n\n        // enables depth sorting, so pixels aren't drawn in order of appearance, but order only if they are visible (on top of other pixels).\n        gl.enable(gl.DEPTH_TEST)\n\n        // enable alpha blending (transparency)\n        // XXX: For blending (transparency) to work, we have to disable depth testing.\n        // TODO: Maybe we have to selectively enable depth testing and disable\n        // blending, or vice versa, depending on the object we want to draw...\n        // ...Or perhaps we must draw things in a certain order, from back to front,\n        // so we can have depth testing AND blending at the same time.\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE)\n        gl.enable(gl.BLEND)\n        //gl.disable(gl.DEPTH_TEST)\n\n        state.projectionMatrix = m4.identity\n\n        updateResolution(state)\n        scene.on('parentsizechange', () => updateResolution(state))\n\n        state.worldViewProjectionMatrixLocation = gl.getUniformLocation(program, 'u_worldViewProjectionMatrix')\n        //const worldInverseTransposeMatrixLocation = gl.getUniformLocation(program, 'u_worldInverseTransposeMatrix')\n        state.worldMatrixLocation = gl.getUniformLocation(program, 'u_worldMatrix')\n        //const reverseLightDirectionLocation = gl.getUniformLocation(program, 'reverseLightDirection')\n        //gl.uniform3fv(reverseLightDirectionLocation, v3.normalize([0.5, 0.7, 1]))\n        state.lightWorldPositionLocation = gl.getUniformLocation(program, 'u_lightWorldPosition')\n        state.cameraWorldPositionLocation = gl.getUniformLocation(program, 'u_cameraWorldPosition')\n        const shininessLocation = gl.getUniformLocation(program, 'u_shininess')\n        const lightColorLocation = gl.getUniformLocation(program, 'u_lightColor')\n        const specularColorLocation = gl.getUniformLocation(program, 'u_specularColor')\n        state.textureLocation = gl.getUniformLocation(program, 'u_texture')\n        state.hasTextureLocation = gl.getUniformLocation(program, 'u_hasTexture')\n\n        let shininess = 200\n        gl.uniform1f(shininessLocation, shininess)\n\n        const red = [1, 0.6, 0.6]\n        const white = [1, 1, 1]\n\n        let lightColor = white\n        gl.uniform3fv(lightColorLocation, v3.normalize(lightColor))\n\n        let specularColor = white\n        gl.uniform3fv(specularColorLocation, v3.normalize(specularColor))\n\n\n        state.lightAnimParam = 0\n        state.lightWorldPosition = [20,30,50]\n        state.cameraAngle = 0\n        state.cameraRadius   = 200\n    }\n\n    drawScene(scene) {\n        const state = scene.webGlRendererState\n        const {gl} = state\n\n        // TODO: light does not affect the back side of polygons?...\n        state.lightAnimParam += 0.05\n        state.lightWorldPosition = [\n            300*Math.sin(state.lightAnimParam),\n            300*Math.sin(state.lightAnimParam*2),\n\n            Math.abs(300*Math.cos(state.lightAnimParam))\n            //300\n        ]\n\n        gl.uniform3fv(state.lightWorldPositionLocation, state.lightWorldPosition)\n\n        let backgroundColor = scene.getAttribute('background')\n\n        if (typeof backgroundColor == 'string')\n            backgroundColor = backgroundColor.split(' ').map(rgbPart => parseFloat(rgbPart))\n        else\n            backgroundColor = [0, 0, 0, 0]\n\n        gl.clearColor(...backgroundColor)\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT) // why do we need to do this?\n\n        //state.cameraAngle++\n        let cameraMatrix  = m4.identity\n        cameraMatrix      = m4.multiply(cameraMatrix, m4.yRotation(state.cameraAngle))\n        cameraMatrix      = m4.multiply(cameraMatrix, m4.translation(0, 0, state.cameraRadius * 1.5))\n        const viewMatrix  = m4.inverse(cameraMatrix)\n\n        state.viewProjectionMatrix = m4.multiply(state.projectionMatrix, viewMatrix)\n\n        const cameraWorldPosition = [cameraMatrix[12], cameraMatrix[13], cameraMatrix[14]]\n        gl.uniform3fv(state.cameraWorldPositionLocation, cameraWorldPosition)\n\n        // TODO: we need to use the traversal that takes into consideration ShadowDOM.\n        const children = scene.imperativeCounterpart._children\n        for (let i=0, l=children.length; i<l; i+=1) {\n            this.drawNodeAndRecurse(state, children[i])\n        }\n    }\n\n    drawNodeAndRecurse(state, node) {\n        const {gl} = state\n\n        const meshAttr = node.element.getAttribute('mesh')\n\n        if (meshAttr) {\n            const size = node._calculatedSize\n\n            const svgElement = Array.from(node.element.children)\n                .find(child => child instanceof SVGSVGElement)\n\n            const hasTexture = !!svgElement\n\n            if (meshAttr == 'cube') {\n                if (!(node.__shape instanceof Cube))\n                    node.__shape = new Cube(0, 0, size.x)\n                // TODO else, like quad or symtrap\n            }\n            else if (meshAttr == 'quad') {\n                if (!(node.__shape instanceof Quad))\n                    node.__shape = new Quad(size.x, size.y)\n                else {\n                    node.__shape.width = size.x\n                    node.__shape.height = size.y\n                    node.__shape._calcVerts()\n                }\n\n                if (hasTexture) {\n\n                    // TODO we would create one per Geometry (and eventually multiple per\n                    // geometry), but for now just one texture for all quads to get it working.\n                    // TODO Make the texture only once, not each tick.\n                    if (!node.__texture) {\n\n                        // XXX this will eventually be set with a texture map feature\n                        // TODO: for now, we should at least set default\n                        // coordinates for each geometry, even if that's not\n                        // ideal; it's more ideal than nothing.\n                        node.__shape.textureCoordinates = new Float32Array([\n                            0, 0,\n                            1, 0,\n                            1, 1,\n                            1, 1,\n                            0, 1,\n                            0, 0,\n                        ])\n\n                        node.__texture = gl.createTexture()\n                    }\n\n                    ///// SVG TEXTURE FROM TWO.JS {\n                    if (!node.__two) {\n                        node.__two = new Two({\n                            type: Two.Types.webgl,\n                            fullscreen: false,\n                            autostart: false,\n                        })\n\n                        node.__two.interpret(svgElement)\n                    }\n\n                    node.__two.update()\n\n                    const image = node.__two.renderer.domElement\n                    const isPowerOf2 = value => (value & (value - 1)) == 0\n\n                    // copy the pixi canvas image to the texture.\n                    gl.bindTexture(gl.TEXTURE_2D, node.__texture)\n                    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image)\n\n                    // TODO: unbind from buffers and textures when done\n                    // using them, to prevent modification from outside\n\n                    // Mip maps can only be generated on images whose width and height are a power of 2.\n                    if (isPowerOf2(image.width) && isPowerOf2(image.height)) {\n                        gl.generateMipmap(gl.TEXTURE_2D)\n                        // TODO make filters configurable?\n                        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR)\n                        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR)\n\n                        // Using just NEAREST or LINEAR only can increase performance, for example.\n                        //gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR)\n                        //gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR)\n                    }\n                    else {\n                        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE)\n                        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE)\n                        // TODO make filters configurable?\n                        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR)\n                        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR)\n                    }\n                    ///// }\n\n                    ///// SVG TEXTURE FROM PIXI-SVG {\n                    //if (!node.__pixiRenderer) {\n                        //node.__pixiRenderer = PIXI.autoDetectRenderer({\n\n                            //width: node._calculatedSize.x * window.devicePixelRatio,\n                            //height: node._calculatedSize.y * window.devicePixelRatio,\n                            ////width: 300 * window.devicePixelRatio,\n                            ////height: 300 * window.devicePixelRatio,\n\n                            //resolution: window.devicePixelRatio,\n                        //});\n\n                        //node.__pixiStage = new PIXI.Container()\n                        //window.stage = node.__pixiStage\n                    //}\n\n                    //node.__pixiStage.removeChild(node.__svgGraphic)\n\n                    //node.__svgGraphic = new SVG(svgElement)\n\n                    //node.__pixiStage.addChild(node.__svgGraphic)\n\n                    //node.__pixiRenderer.render(node.__pixiStage);\n\n                    //const image = node.__pixiRenderer.view\n                    //const isPowerOf2 = value => (value & (value - 1)) == 0\n\n                    //// copy the pixi canvas image to the texture.\n                    //gl.bindTexture(gl.TEXTURE_2D, node.__texture)\n                    //gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image)\n\n                    //// TODO: unbind from buffers and textures when done\n                    //// using them, to prevent modification from outside\n\n                    //// Mip maps can only be generated on images whose width and height are a power of 2.\n                    //if (isPowerOf2(image.width) && isPowerOf2(image.height)) {\n                        //gl.generateMipmap(gl.TEXTURE_2D)\n                        //// TODO make filters configurable?\n                        //gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR)\n                        //gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR)\n\n                        //// Using just NEAREST or LINEAR only can increase performance, for example.\n                        ////gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR)\n                        ////gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR)\n                    //}\n                    //else {\n                        //gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE)\n                        //gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE)\n                        //// TODO make filters configurable?\n                        //gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR)\n                        //gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR)\n                    //}\n\n                    ///// }\n\n                    ///// PRE-DEFINED TEXTURE FROM IMAGE {\n\n                    //// set a temporary solid color texture for the meantime\n                    //// while the following texture loads.\n                    //gl.bindTexture(gl.TEXTURE_2D, node.__texture)\n                    //// Fill the texture with a 1x1 blue pixel to start with.\n                    //gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array([0, 0, 255, 255]))\n                    //gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n                    //gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\n                    //const image = new Image\n                    //const isPowerOf2 = value => (value & (value - 1)) == 0\n                    //image.addEventListener('load', () => {\n                        //// Now that the image has loaded copy it to the texture.\n                        //gl.bindTexture(gl.TEXTURE_2D, node.__texture)\n                        //gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image)\n\n                        //// TODO: unbind from buffers and textures when done\n                        //// using them, to prevent modification from outside\n\n                        //// Mip maps can only be generated on images whose width and height are a power of 2.\n                        //if (isPowerOf2(image.width) && isPowerOf2(image.height)) {\n                            //gl.generateMipmap(gl.TEXTURE_2D)\n                            //// TODO make filters configurable?\n                            //gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR)\n                            //gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR)\n\n                            //// Using just NEAREST or LINEAR only can increase performance, for example.\n                            ////gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR)\n                            ////gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR)\n                        //}\n                        //else {\n                            //gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE)\n                            //gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE)\n                            //// TODO make filters configurable?\n                            //gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR)\n                            //gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR)\n                        //}\n                    //})\n                    //image.src = imageUrl // imageUrl should be a data URL\n                    //// }\n                }\n            }\n            else if (meshAttr == 'isotriangle') {\n                if (!(node.__shape instanceof IsoscelesTriangle))\n                    node.__shape = new IsoscelesTriangle(size.x, size.y)\n                // TODO else, like quad or symtrap\n            }\n            else if (meshAttr == 'pyramid4') {\n                if (!(node.__shape instanceof FourSidedPyramid))\n                    node.__shape = new FourSidedPyramid(size.x, size.y)\n                // TODO else, like quad or symtrap\n            }\n            else if (meshAttr == 'symtrap') {\n                if (!(node.__shape instanceof SymmetricTrapezoid))\n                    node.__shape = new SymmetricTrapezoid(size.x/2, size.x, size.y)\n                else {\n                    node.__shape.baseWidth = size.x/2\n                    node.__shape.topWidth = size.x\n                    node.__shape.height = size.y\n                    node.__shape._calcVerts()\n                }\n            }\n            //else node.__shape = null\n            else {\n                if (!(node.__shape instanceof Quad))\n                    node.__shape = new Quad(size.x, size.y)\n                else {\n                    node.__shape.width = size.x\n                    node.__shape.height = size.y\n                    node.__shape._calcVerts()\n                }\n                // TODO this will eventually be set with a texture map feature\n                if (hasTexture) {\n                    node.__shape.textureCoordinates = new Float32Array([\n                        0, 0,\n                        1, 0,\n                        1, 1,\n                        1, 1,\n                        0, 1,\n                        0, 0,\n                    ])\n                }\n            }\n\n            if (node.__shape) {\n                // COLORS /////////////////////////////////\n                node.__shape.color = node.element.getAttribute('color')\n\n                gl.bindBuffer(gl.ARRAY_BUFFER, state.colorsBuffer)\n                gl.bufferData(gl.ARRAY_BUFFER, node.__shape._colors, gl.STATIC_DRAW)\n\n                // Tell the attribute how to get data out of vertexBuffer (ARRAY_BUFFER)\n                const colorSize = 4          // components per iteration\n                const colorType = gl.FLOAT\n                const normalizeColorData = false // don't normalize the data\n                const colorStride = 0        // 0 = move forward colorSize * sizeof(colorType) each iteration to get the next vertex\n                const colorOffset = 0        // start at the beginning of the buffer\n                gl.vertexAttribPointer(\n                    state.colorAttributeLocation, colorSize, colorType, normalizeColorData, colorStride, colorOffset)\n\n                // VERTICES /////////////////////////////////\n                gl.bindBuffer(gl.ARRAY_BUFFER, state.vertexBuffer)\n                gl.bufferData(gl.ARRAY_BUFFER, node.__shape.verts, gl.STATIC_DRAW)\n\n                // Tell the attribute how to get data out of vertexBuffer (ARRAY_BUFFER)\n                const vertexSize = 3          // components per iteration\n                const type = gl.FLOAT\n                const normalizeVertexData = false // don't normalize the data\n                const stride = 0        // 0 = move forward vertexSize * sizeof(type) each iteration to get the next vertex\n                const offset = 0        // start at the beginning of the buffer\n                gl.vertexAttribPointer(\n                    state.vertexAttributeLocation, vertexSize, type, normalizeVertexData, stride, offset)\n\n                // NORMALS /////////////////////////////////\n                gl.bindBuffer(gl.ARRAY_BUFFER, state.normalsBuffer)\n                gl.bufferData(gl.ARRAY_BUFFER, node.__shape.normals, gl.STATIC_DRAW)\n\n                // Tell the attribute how to get data out of vertexBuffer (ARRAY_BUFFER)\n                const normalSize = 3          // components per iteration\n                const normalType = gl.FLOAT\n                const normalizeNormalsData = false // don't normalize the data\n                const normalStride = 0        // 0 = move forward normalSize * sizeof(normalType) each iteration to get the next vertex\n                const normalOffset = 0        // start at the beginning of the buffer\n                gl.vertexAttribPointer(\n                    state.normalAttributeLocation, normalSize, normalType, normalizeNormalsData, normalStride, normalOffset)\n\n                // TEXTURE COORDINATES /////////////////////////////////\n                if (hasTexture) {\n                    gl.uniform1i(state.hasTextureLocation, +true)\n\n                    gl.bindBuffer(gl.ARRAY_BUFFER, state.textureCoordinatesBuffer)\n                    gl.bufferData(gl.ARRAY_BUFFER, node.__shape.textureCoordinates, gl.STATIC_DRAW)\n\n                    // Tell the attribute how to get data out of vertexBuffer (ARRAY_BUFFER)\n                    const textureCoordinateSize = 2          // components per iteration\n                    const textureCoordinateType = gl.FLOAT\n                    const normalizeTextureCoordinateData = false // don't normalize the data\n                    const textureCoordinateStride = 0        // 0 = move forward textureCoordinateSize * sizeof(textureCoordinateType) each iteration to get the next vertex\n                    const textureCoordinateOffset = 0        // start at the beginning of the buffer\n                    gl.enableVertexAttribArray(state.textureCoordinateLocation)\n                    gl.vertexAttribPointer(\n                        state.textureCoordinateLocation, textureCoordinateSize, textureCoordinateType, normalizeTextureCoordinateData, textureCoordinateStride, textureCoordinateOffset)\n\n                    // Tell the shader to use texture unit 0 for u_texture\n                    // TODO: Get index of the node's texture, but right now there's only one texture.\n                    gl.uniform1i(state.textureLocation, 0)\n                }\n                else {\n                    gl.uniform1i(state.hasTextureLocation, +false)\n                    gl.disableVertexAttribArray(state.textureCoordinateLocation)\n                }\n\n                // TRANFORMS /////////////////////////////////\n                gl.uniformMatrix4fv(state.worldMatrixLocation, false, node._worldMatrix.toFloat32Array())\n\n                // for correct lighting normals\n                // TODO: waiting for transpose() method on DOMMatrix\n                //const worldInverseTransposeMatrix = m4.transpose(m4.inverse(node._worldMatrix))\n                //gl.uniformMatrix4fv(worldInverseTransposeMatrixLocation, false, worldInverseTransposeMatrix)\n\n                const worldViewProjectionMatrix = m4.multiply(state.viewProjectionMatrix, node._worldMatrix.toFloat32Array())\n                gl.uniformMatrix4fv(state.worldViewProjectionMatrixLocation, false, worldViewProjectionMatrix)\n\n                const count = node.__shape.verts.length / 3\n                gl.drawArrays(gl.TRIANGLES, offset, count)\n            }\n        }\n\n        const children = node._children\n        for (let i=0, l=children.length; i<l; i+=1) {\n            this.drawNodeAndRecurse(state, children[i])\n        }\n    }\n}\n\nlet instance = null\n\nexport default\nfunction getWebGlRenderer() {\n    if (instance) return instance\n    else return instance = new WebGlRenderer\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/WebGLRenderer.js","import documentReady from 'awaitbox/dom/documentReady'\nimport Transformable from './Transformable'\nimport getWebGlRenderer from './WebGLRenderer'\n\nimport {\n    //animationFrame,\n} from './Utility'\n\nlet documentIsReady = false\nlet webGLRenderer = null\n\nclass Motor {\n    constructor() {\n        this._inFrame = false // true when inside a requested animation frame.\n        this._rAF = null // the current animation frame, or null.\n        this._animationLoopStarted = false\n        this._allRenderTasks = []\n        this._taskIterationIndex = 0\n        this._numberOfTasks = 0\n        this._nodesToBeRendered = []\n        this._modifiedScenes = []\n\n        // A set of nodes that are the root nodes of subtrees where all nodes\n        // in each subtree need to have their world matrices updated.\n        this._worldMatrixRootNodes = []\n    }\n\n    /**\n     * Starts an rAF loop and runs the render tasks in the _renderTasks stack.\n     * As long as there are tasks in the stack, the loop continues. When the\n     * stack becomes empty due to removal of tasks, the rAF stops and the app\n     * sits there doing nothing -- silence, crickets.\n     */\n    _startAnimationLoop() {\n        if (this._animationLoopStarted) return Promise.resolve()\n\n        this._animationLoopStarted = true\n\n        const logic = () => {\n            // DIRECT ANIMATION LOOP ///////////////////////////////////\n            // So now we can render after the scene is mounted.\n            const motorLoop = timestamp => {\n                this._inFrame = true\n\n                this._runRenderTasks(timestamp)\n                this._renderNodes(timestamp)\n\n                // If any tasks are left to run, continue the animation loop.\n                if (this._allRenderTasks.length)\n                    this._rAF = requestAnimationFrame(motorLoop)\n                else {\n                    this._rAF = null\n                    this._animationLoopStarted = false\n                }\n\n                this._inFrame = false\n            }\n\n            this._rAF = requestAnimationFrame(motorLoop)\n        }\n\n        if (!documentIsReady) {\n            return documentReady().then(() => {\n                documentIsReady = true\n                logic()\n            })\n        }\n\n        logic()\n        return Promise.resolve()\n    }\n    //async _startAnimationLoop() {\n        //if (this._animationLoopStarted) return\n\n        //this._animationLoopStarted = true\n\n        //if (!documentIsReady) {\n            //await documentReady()\n            //documentIsReady = true\n        //}\n\n        //// DIRECT ANIMATION LOOP ///////////////////////////////////\n        //// So now we can render after the scene is mounted.\n        //const motorLoop = timestamp => {\n            //this._inFrame = true\n\n            //this._runRenderTasks(timestamp)\n            //this._renderNodes(timestamp)\n\n            //// If any tasks are left to run, continue the animation loop.\n            //if (this._allRenderTasks.length)\n                //this._rAF = requestAnimationFrame(motorLoop)\n            //else {\n                //this._rAF = null\n                //this._animationLoopStarted = false\n            //}\n\n            //this._inFrame = false\n        //}\n\n        //this._rAF = requestAnimationFrame(motorLoop)\n\n        //// ANIMATION LOOP USING WHILE AND AWAIT ///////////////////////////////////\n        ////this._rAF = true\n        ////let timestamp = null\n        ////while (this._rAF) {\n            ////timestamp = await animationFrame()\n            ////this._inFrame = true\n\n            ////this._runRenderTasks(timestamp)\n            ////this._renderNodes(timestamp)\n\n            ////// If any tasks are left to run, continue the animation loop.\n            ////if (!this._allRenderTasks.length) {\n                ////this._rAF = null\n                ////this._animationLoopStarted = false\n            ////}\n\n            ////this._inFrame = false\n        ////}\n    //}\n\n    /**\n     * When a render tasks is added a new rAF loop will be started if there\n     * isn't one currently.\n     *\n     * A render task is simply a function that will be called over and over\n     * again, in the Motor's animation loop. That's all, nothing special.\n     * However, if a Node setter is used inside of a render task, then the Node\n     * will tell Motor that it needs to be re-rendered, which will happen at\n     * the end of the current frame. If a Node setter is used outside of a\n     * render task (i.e. outside of the Motor's animation loop), then the Node\n     * tells Motor to re-render the Node on the next animation loop tick.\n     * Basically, regardless of where the Node's setters are used (inside or\n     * outside of the Motor's animation loop), rendering always happens inside\n     * the loop.\n     *\n     * @param {Function} fn The render task to add.\n     * @return {Function} A reference to the render task. Useful for saving to\n     * a variable so that it can later be passed to Motor.removeRenderTask().\n     */\n    addRenderTask(fn) {\n        if (typeof fn != 'function')\n            throw new Error('Render task must be a function.')\n\n        if (this._allRenderTasks.includes(fn)) return\n\n        this._allRenderTasks.push(fn)\n        this._numberOfTasks += 1\n\n        // If the render loop isn't started, start it.\n        if (!this._animationLoopStarted)\n            this._startAnimationLoop()\n\n        return fn\n    }\n\n    removeRenderTask(fn) {\n        const taskIndex = this._allRenderTasks.indexOf(fn)\n\n        if (taskIndex == -1) return\n\n        this._allRenderTasks.splice(taskIndex, 1)\n        this._numberOfTasks -= 1\n        this._taskIterationIndex -= 1\n    }\n\n    _runRenderTasks(timestamp) {\n        for (this._taskIterationIndex = 0; this._taskIterationIndex < this._numberOfTasks; this._taskIterationIndex += 1) {\n            const task = this._allRenderTasks[this._taskIterationIndex]\n\n            if (task(timestamp) === false)\n                this.removeRenderTask(task)\n        }\n    }\n\n    _setNodeToBeRendered(node) {\n        if (this._nodesToBeRendered.includes(node)) return\n        this._nodesToBeRendered.push(node)\n        if (!this._inFrame) this._startAnimationLoop()\n    }\n\n    _renderNodes(timestamp) {\n        if (!this._nodesToBeRendered.length) return\n\n        for (let i=0, l=this._nodesToBeRendered.length; i<l; i+=1) {\n            const node = this._nodesToBeRendered[i]\n\n            node._render(timestamp)\n\n            // If the node is root of a subtree containing updated nodes and\n            // has no ancestors that were modified, then add it to the\n            // _worldMatrixRootNodes set so we can update the world matrices of\n            // all the nodes in the root node's subtree.\n            if (\n                // a node could be a Scene, which is not Transformable\n                node instanceof Transformable &&\n\n                // and if ancestor is not instanceof Transformable, f.e.\n                // `false` if there is no ancestor to be rendered, or Sizeable\n                // if the Scene is returned.\n                !(node._getAncestorToBeRendered() instanceof Transformable) &&\n\n                // and the node isn't already added.\n                !this._worldMatrixRootNodes.includes(node)\n            ) {\n                this._worldMatrixRootNodes.push(node)\n            }\n\n            // keep track of which scenes are modified so we can render webgl\n            // only for those scenes.\n            // TODO FIXME: at this point, a node should always have a scene,\n            // otherwise it should not ever be rendered here, but turns out\n            // some nodes are getting into this queue without a scene. We\n            // shouldn't need the conditional check for node._scene, and it\n            // will save CPU by not allowing the code to get here in that case.\n            if (node._scene && !this._modifiedScenes.includes(node._scene))\n                this._modifiedScenes.push(node._scene)\n        }\n\n        // Update world matrices of the subtrees.\n        const worldMatrixRootNodes = this._worldMatrixRootNodes\n        for (let i=0, l=worldMatrixRootNodes.length; i<l; i+=1) {\n            const subtreeRoot = worldMatrixRootNodes[i]\n            subtreeRoot._calculateWorldMatricesInSubtree()\n        }\n        worldMatrixRootNodes.length = 0\n\n        // render webgl of modified scenes.\n        const modifiedScenes = this._modifiedScenes\n        // TODO PERFORMANCE: store a list of webgl-enabled modified scenes, and\n        // iterate only through those so we don't iterate over non-webgl\n        // scenes.\n        for (let i=0, l=modifiedScenes.length; i<l; i+=1) {\n            const sceneElement = modifiedScenes[i].element\n            // TODO we're temporarily storing stuff on the .element, but we\n            // don't want that, we will move it to WebGLRenderer.\n            if (\n                sceneElement.webglEnabled &&\n                ( webGLRenderer || (webGLRenderer = getWebGlRenderer()) ) // only ever call getWebGlRenderer once\n            )\n                webGLRenderer.drawScene(sceneElement)\n        }\n        modifiedScenes.length = 0\n\n        const nodesToBeRendered = this._nodesToBeRendered\n        for (let i=0, l=nodesToBeRendered.length; i<l; i+=1) {\n            nodesToBeRendered[i]._willBeRendered = false\n        }\n        nodesToBeRendered.length = 0\n    }\n}\n\n// export a singleton instance rather than the class directly.\nexport default new Motor\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/Motor.js","import { makeLowercaseSetterAliases } from './Utility'\nimport TreeNode from './TreeNode'\nimport XYZValues from './XYZValues'\nimport Observable from './Observable'\nimport Motor from './Motor'\n\n// fallback to experimental CSS transform if browser doesn't have it (fix for Safari 9)\nif (typeof document.createElement('div').style.transform == 'undefined') {\n    Object.defineProperty(CSSStyleDeclaration.prototype, 'transform', {\n        set(value) {\n            this.webkitTransform = value\n        },\n        get() {\n            return this.webkitTransform\n        },\n        enumerable: true,\n    })\n}\n\nconst instanceofSymbol = Symbol('instanceofSymbol')\n\nconst SizeableMixin = base => {\n\n    // Sizeable extends TreeNode because Sizeable knows about its _parent when\n    // calculating proportionalSize. Also Transformable knows about it's parent\n    // in order to calculate it's world matrix based on it's parent's.\n    class Sizeable extends TreeNode.mixin(Observable.mixin(base)) {\n\n        constructor(options = {}) {\n            super(options)\n\n            this._propertyFunctions = null\n            this._calculatedSize = { x:0, y:0, z:0 }\n            this._properties = {}\n            this._setDefaultProperties()\n            this._setPropertyObservers()\n            this.properties = options\n        }\n\n        _setDefaultProperties() {\n            Object.assign(this._properties, {\n                sizeMode:         new XYZValues('absolute', 'absolute', 'absolute'),\n                absoluteSize:     new XYZValues(0, 0, 0),\n                proportionalSize: new XYZValues(1, 1, 1),\n            })\n        }\n\n        _setPropertyObservers() {\n            this._properties.sizeMode.on('valuechanged',\n                () => this.triggerEvent('propertychange', 'sizeMode'))\n            this._properties.absoluteSize.on('valuechanged',\n                () => this.triggerEvent('propertychange', 'absoluteSize'))\n            this._properties.proportionalSize.on('valuechanged',\n                () => this.triggerEvent('propertychange', 'proportionalSize'))\n        }\n\n        _calcSize() {\n            const calculatedSize = this._calculatedSize\n            const previousSize = {...calculatedSize}\n            const props = this._properties\n            const parentSize = this._getParentSize()\n\n            if (props.sizeMode._x == 'absolute') {\n                calculatedSize.x = props.absoluteSize._x\n            }\n            else { // proportional\n                calculatedSize.x = parentSize.x * props.proportionalSize._x\n            }\n\n            if (props.sizeMode._y == 'absolute') {\n                calculatedSize.y = props.absoluteSize._y\n            }\n            else { // proportional\n                calculatedSize.y = parentSize.y * props.proportionalSize._y\n            }\n\n            if (props.sizeMode._z == 'absolute') {\n                calculatedSize.z = props.absoluteSize._z\n            }\n            else { // proportional\n                calculatedSize.z = parentSize.z * props.proportionalSize._z\n            }\n\n            if (\n                previousSize.x !== calculatedSize.x\n                || previousSize.y !== calculatedSize.y\n                || previousSize.z !== calculatedSize.z\n            ) {\n                this.triggerEvent('sizechange', {...calculatedSize})\n            }\n        }\n\n        _getParentSize() {\n            return this._parent ? this._parent._calculatedSize : {x:0,y:0,z:0}\n        }\n\n        _setPropertyXYZ(Class, name, newValue) {\n            if (!(\n                newValue instanceof Object ||\n                newValue instanceof Array ||\n                newValue instanceof Function\n            )) {\n                throw new TypeError(`Invalid value for ${Class.name}#${name}.`)\n            }\n\n            let change = false\n\n            if (newValue instanceof Function) {\n                // remove previous task if any.\n                if (!this._propertyFunctions) this._propertyFunctions = new Map\n\n                if (this._propertyFunctions.has(name))\n                    Motor.removeRenderTask(this._propertyFunctions.get(name))\n\n                this._propertyFunctions.set(name,\n                    Motor.addRenderTask(time => {\n                        const result = newValue(\n                            this._properties[name]._x,\n                            this._properties[name]._y,\n                            this._properties[name]._z,\n                            time\n                        )\n\n                        if (result === false) {\n                            this._propertyFunctions.delete(name)\n                            return false\n                        }\n\n                        this[name] = result\n                    })\n                )\n            }\n            else if (newValue instanceof Array) {\n                if (typeof newValue[0] != 'undefined') { this._properties[name]._x = newValue[0]; change = true }\n                if (typeof newValue[1] != 'undefined') { this._properties[name]._y = newValue[1]; change = true }\n                if (typeof newValue[2] != 'undefined') { this._properties[name]._z = newValue[2]; change = true }\n            }\n            else {\n                if (typeof newValue.x != 'undefined') { this._properties[name]._x = newValue.x; change = true }\n                if (typeof newValue.y != 'undefined') { this._properties[name]._y = newValue.y; change = true }\n                if (typeof newValue.z != 'undefined') { this._properties[name]._z = newValue.z; change = true }\n            }\n\n            if (change) this.triggerEvent('propertychange', name)\n        }\n\n        _setPropertySingle(Class, name, newValue, type) {\n            if (!(typeof newValue == type || newValue instanceof Function))\n                throw new TypeError(`Invalid value for ${Class.name}#${name}.`)\n\n            if (newValue instanceof Function) {\n                // remove previous task if any.\n                Motor.addRenderTask(time => {\n                    const result = newValue(\n                        this._properties[name],\n                        time\n                    )\n\n                    if (result === false) return false\n\n                    this[name] = result\n                })\n            }\n            else {\n                this._properties[name] = newValue\n                this.triggerEvent('propertychange', name)\n            }\n        }\n\n        _render() {\n            // nothing yet, but needed because ImperativeBase calls\n            // `super._render()`, which will call either Transformable's\n            // _render or Sizeable's _render for Node and Scene classes,\n            // respectively.\n        }\n    }\n\n    // We set accessors manually because Buble doesn't make them configurable\n    // as per spec. Additionally we're maing these ones enumerable.\n    Object.defineProperties(Sizeable.prototype, {\n\n        /**\n         * Set the size mode for each axis. Possible size modes are \"absolute\" and \"proportional\".\n         *\n         * @param {Object} newValue\n         * @param {number} [newValue.x] The x-axis sizeMode to apply.\n         * @param {number} [newValue.y] The y-axis sizeMode to apply.\n         * @param {number} [newValue.z] The z-axis sizeMode to apply.\n         */\n        sizeMode: {\n            set(newValue) {\n                this._setPropertyXYZ(Sizeable, 'sizeMode', newValue)\n            },\n            get() {\n                return this._properties.sizeMode\n            },\n            configurable: true,\n            enumerable: true,\n        },\n\n        /**\n         * @param {Object} newValue\n         * @param {number} [newValue.x] The x-axis absoluteSize to apply.\n         * @param {number} [newValue.y] The y-axis absoluteSize to apply.\n         * @param {number} [newValue.z] The z-axis absoluteSize to apply.\n         */\n        absoluteSize: {\n            set(newValue) {\n                this._setPropertyXYZ(Sizeable, 'absoluteSize', newValue)\n            },\n            get() {\n                return this._properties.absoluteSize\n            },\n            configurable: true,\n            enumerable: true,\n        },\n\n        /**\n         * Get the actual size of the Node. This can be useful when size is\n         * proportional, as the actual size of the Node depends on the size of\n         * it's parent.\n         *\n         * @readonly\n         *\n         * @return {Array.number} An Oject with x, y, and z properties, each\n         * property representing the computed size of the x, y, and z axes\n         * respectively.\n         */\n        actualSize: {\n            get() {\n                const {x,y,z} = this._calculatedSize\n                return {x,y,z}\n            },\n            configurable: true,\n            enumerable: true,\n        },\n\n        /**\n         * Set the size of a Node proportional to the size of it's parent Node. The\n         * values are a real number between 0 and 1 inclusive where 0 means 0% of\n         * the parent size and 1 means 100% of the parent size.\n         *\n         * @param {Object} newValue\n         * @param {number} [newValue.x] The x-axis proportionalSize to apply.\n         * @param {number} [newValue.y] The y-axis proportionalSize to apply.\n         * @param {number} [newValue.z] The z-axis proportionalSize to apply.\n         */\n        proportionalSize: {\n            set(newValue) {\n                this._setPropertyXYZ(Sizeable, 'proportionalSize', newValue)\n            },\n            get() {\n                return this._properties.proportionalSize\n            },\n            configurable: true,\n            enumerable: true,\n        },\n\n        /**\n         * Set all properties of a Sizeable in one method.\n         *\n         * @param {Object} properties Properties object - see example\n         *\n         * @example\n         * node.properties = {\n         *   sizeMode: {x:'absolute', y:'proportional', z:'absolute'},\n         *   absoluteSize: {x:300, y:100, z:200},\n         *   proportionalSize: {x:1, z:0.5}\n         * }\n         */\n        properties: {\n            set(properties = {}) {\n                if (properties.sizeMode)\n                    this.sizeMode = properties.sizeMode\n\n                if (properties.absoluteSize)\n                    this.absoluteSize = properties.absoluteSize\n\n                if (properties.proportionalSize)\n                    this.proportionalSize = properties.proportionalSize\n            },\n            // no need for a properties getter.\n            configurable: true,\n        },\n    })\n\n    // for use by MotorHTML, convenient since HTMLElement attributes are all\n    // converted to lowercase by default, so if we don't do this then we won't be\n    // able to map attributes to Node setters as easily.\n    makeLowercaseSetterAliases(Sizeable.prototype)\n\n    Object.defineProperty(Sizeable, Symbol.hasInstance, {\n        value: function(obj) {\n            if (this !== Sizeable) return Object.getPrototypeOf(Sizeable)[Symbol.hasInstance].call(this, obj)\n\n            let currentProto = obj\n\n            while (currentProto) {\n                const desc = Object.getOwnPropertyDescriptor(currentProto, \"constructor\")\n\n                if (desc && desc.value && desc.value.hasOwnProperty(instanceofSymbol))\n                    return true\n\n                currentProto = Object.getPrototypeOf(currentProto)\n            }\n\n            return false\n        }\n    })\n\n    Sizeable[instanceofSymbol] = true\n\n    return Sizeable\n}\n\nconst Sizeable = SizeableMixin(class{})\nSizeable.mixin = SizeableMixin\n\nexport {Sizeable as default}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/Sizeable.js","import XYZValues from './XYZValues'\nimport Sizeable from './Sizeable'\nimport { makeLowercaseSetterAliases } from './Utility'\n\nconst instanceofSymbol = Symbol('instanceofSymbol')\n\nconst TransformableMixin = base => {\n\n    // Transformable extends TreeNode (indirectly through Sizeable) because it\n    // needs to be aware of its _parent when calculating align adjustments.\n    const ParentClass = Sizeable.mixin(base)\n    class Transformable extends ParentClass {\n\n        constructor(options = {}) {\n            super(options)\n\n            this._worldMatrix = null\n        }\n\n        _setDefaultProperties() {\n            super._setDefaultProperties()\n\n            Object.assign(this._properties, {\n                position:   new XYZValues(0, 0, 0),\n                rotation:   new XYZValues(0, 0, 0),\n                scale:      new XYZValues(1, 1, 1),\n                origin:     new XYZValues(0.5, 0.5, 0.5),\n                align:      new XYZValues(0, 0, 0),\n                mountPoint: new XYZValues(0, 0, 0),\n                opacity:    1,\n                transform:  new window.DOMMatrix,\n            })\n        }\n\n        _setPropertyObservers() {\n            super._setPropertyObservers()\n\n            this._properties.position.on('valuechanged',\n                () => this.triggerEvent('propertychange', 'position'))\n            this._properties.rotation.on('valuechanged',\n                () => this.triggerEvent('propertychange', 'rotation'))\n            this._properties.scale.on('valuechanged',\n                () => this.triggerEvent('propertychange', 'scale'))\n            this._properties.origin.on('valuechanged',\n                () => this.triggerEvent('propertychange', 'origin'))\n            this._properties.align.on('valuechanged',\n                () => this.triggerEvent('propertychange', 'align'))\n            this._properties.mountPoint.on('valuechanged',\n                () => this.triggerEvent('propertychange', 'mountPoint'))\n        }\n\n        /**\n         * Takes all the current component values (position, rotation, etc) and\n         * calculates a transformation DOMMatrix from them. See \"W3C Geometry\n         * Interfaces\" to learn about DOMMatrix.\n         *\n         * @method\n         * @private\n         * @memberOf Node\n         */\n        _calculateMatrix () {\n            const matrix = new window.DOMMatrix\n            const properties = this._properties\n\n            const alignAdjustment = [0,0,0]\n            if (this._parent) { // The root Scene doesn't have a parent, for example.\n                const parentSize = this._parent._calculatedSize\n                const {align} = properties\n                alignAdjustment[0] = parentSize.x * align.x\n                alignAdjustment[1] = parentSize.y * align.y\n                alignAdjustment[2] = parentSize.z * align.z\n            }\n\n            const mountPointAdjustment = [0,0,0]\n            const thisSize = this._calculatedSize\n            const {mountPoint} = properties\n            mountPointAdjustment[0] = thisSize.x * mountPoint.x\n            mountPointAdjustment[1] = thisSize.y * mountPoint.y\n            mountPointAdjustment[2] = thisSize.z * mountPoint.z\n\n            const appliedPosition = []\n            const {position} = properties\n            appliedPosition[0] = position.x + alignAdjustment[0] - mountPointAdjustment[0]\n            appliedPosition[1] = position.y + alignAdjustment[1] - mountPointAdjustment[1]\n            appliedPosition[2] = position.z + alignAdjustment[2] - mountPointAdjustment[2]\n\n            matrix.translateSelf(appliedPosition[0], appliedPosition[1], appliedPosition[2])\n\n            // origin calculation will go here:\n            // - move by negative origin before rotating.\n\n            // apply each axis rotation, in the x,y,z order.\n            const {rotation} = properties\n            matrix.rotateAxisAngleSelf(1,0,0, rotation.x)\n            matrix.rotateAxisAngleSelf(0,1,0, rotation.y)\n            matrix.rotateAxisAngleSelf(0,0,1, rotation.z)\n\n            // origin calculation will go here:\n            // - move by positive origin after rotating.\n\n            return matrix\n        }\n\n        // TODO: fix _isIdentity in DOMMatrix, it is returning true even if false.\n        _calculateWorldMatricesInSubtree() {\n            this._calculateWorldMatrixFromParent()\n\n            const children = this._children\n            for (let i=0, l=children.length; i<l; i+=1) {\n                children[i]._calculateWorldMatricesInSubtree()\n            }\n        }\n\n        _calculateWorldMatrixFromParent() {\n            const parent = this._parent\n\n            if (parent instanceof Transformable)\n                //this._worldMatrix = parent._worldMatrix.multiply(this._properties.transform)\n                this._worldMatrix = this._properties.transform.multiply(parent._worldMatrix)\n            else // otherwise parent is the Scene, which is Sizeable, not Transformable\n                this._worldMatrix = this._properties.transform\n        }\n\n        _render() {\n            super._render()\n\n            // TODO: only run this when necessary (f.e. not if only opacity\n            // changed)\n            this._properties.transform = this._calculateMatrix()\n        }\n    }\n\n    const {set: superPropertiesSet} = Object.getOwnPropertyDescriptor(ParentClass.prototype, 'properties')\n\n    // We set accessors manually because Buble doesn't make them configurable\n    // as per spec. Additionally we're maing these ones enumerable.\n    Object.defineProperties(Transformable.prototype, {\n\n        /**\n         * Set the position of the Transformable.\n         *\n         * @param {Object} newValue\n         * @param {number} [newValue.x] The x-axis position to apply.\n         * @param {number} [newValue.y] The y-axis position to apply.\n         * @param {number} [newValue.z] The z-axis position to apply.\n         */\n        position: {\n            set(newValue) {\n                this._setPropertyXYZ(Transformable, 'position', newValue)\n            },\n            get() {\n                return this._properties.position\n            },\n            configurable: true,\n            enumerable: true,\n        },\n\n        /**\n         * @param {Object} newValue\n         * @param {number} [newValue.x] The x-axis rotation to apply.\n         * @param {number} [newValue.y] The y-axis rotation to apply.\n         * @param {number} [newValue.z] The z-axis rotation to apply.\n         */\n        rotation: {\n            set(newValue) {\n                this._setPropertyXYZ(Transformable, 'rotation', newValue)\n            },\n            get() {\n                return this._properties.rotation\n            },\n            configurable: true,\n            enumerable: true,\n        },\n\n        /**\n         * @param {Object} newValue\n         * @param {number} [newValue.x] The x-axis scale to apply.\n         * @param {number} [newValue.y] The y-axis scale to apply.\n         * @param {number} [newValue.z] The z-axis scale to apply.\n         */\n        scale: {\n            set(newValue) {\n                this._setPropertyXYZ(Transformable, 'scale', newValue)\n            },\n            get() {\n                return this._properties.scale\n            },\n            configurable: true,\n            enumerable: true,\n        },\n\n        /**\n         * Set this Node's opacity.\n         *\n         * @param {number} opacity A floating point number between 0 and 1\n         * (inclusive). 0 is fully transparent, 1 is fully opaque.\n         */\n        opacity: {\n            set(newValue) {\n                if (!isRealNumber(newValue)) newValue = undefined\n                this._setPropertySingle(Transformable, 'opacity', newValue, 'number')\n            },\n            get() {\n                return this._properties.opacity\n            },\n            configurable: true,\n            enumerable: true,\n        },\n\n        /**\n         * Set the alignment of the Node. This determines at which point in this\n         * Node's parent that this Node is mounted.\n         *\n         * @param {Object} newValue\n         * @param {number} [newValue.x] The x-axis align to apply.\n         * @param {number} [newValue.y] The y-axis align to apply.\n         * @param {number} [newValue.z] The z-axis align to apply.\n         */\n        align: {\n            set(newValue) {\n                this._setPropertyXYZ(Transformable, 'align', newValue)\n            },\n            get() {\n                return this._properties.align\n            },\n            configurable: true,\n            enumerable: true,\n        },\n\n        /**\n         * Set the mount point of the Node.\n         *\n         * @param {Object} newValue\n         * @param {number} [newValue.x] The x-axis mountPoint to apply.\n         * @param {number} [newValue.y] The y-axis mountPoint to apply.\n         * @param {number} [newValue.z] The z-axis mountPoint to apply.\n         */\n        mountPoint: {\n            set(newValue) {\n                this._setPropertyXYZ(Transformable, 'mountPoint', newValue)\n            },\n            get() {\n                return this._properties.mountPoint\n            },\n            configurable: true,\n            enumerable: true,\n        },\n\n        /**\n         * Set all properties of a Transformable in one method.\n         *\n         * @param {Object} properties Properties object - see example.\n         *\n         * @example\n         * node.properties = {\n         *   position: {x:200, y:300, z:100},\n         *   rotation: {z:35},\n         *   scale: {y:2},\n         *   opacity: .9,\n         * }\n         */\n        properties: {\n            set(properties = {}) {\n                superPropertiesSet.call(this, properties)\n\n                if (properties.position)\n                    this.position = properties.position\n\n                if (properties.rotation)\n                    this.rotation = properties.rotation\n\n                if (properties.scale)\n                    this.scale = properties.scale\n\n                if (properties.origin)\n                    this.origin = properties.origin\n\n                if (properties.align)\n                    this.align = properties.align\n\n                if (properties.mountPoint)\n                    this.mountPoint = properties.mountPoint\n\n                if (properties.opacity)\n                    this.opacity = properties.opacity\n            },\n            // no need for a properties getter.\n            configurable: true,\n        },\n    })\n\n    // for use by MotorHTML, convenient since HTMLElement attributes are all\n    // converted to lowercase by default, so if we don't do this then we won't be\n    // able to map attributes to Node setters as easily.\n    makeLowercaseSetterAliases(Transformable.prototype)\n\n    Object.defineProperty(Transformable, Symbol.hasInstance, {\n        value: function(obj) {\n            if (this !== Transformable) return Object.getPrototypeOf(Transformable)[Symbol.hasInstance].call(this, obj)\n\n            let currentProto = obj\n\n            while(currentProto) {\n                const desc = Object.getOwnPropertyDescriptor(currentProto, \"constructor\")\n\n                if (desc && desc.value && desc.value.hasOwnProperty(instanceofSymbol))\n                    return true\n\n                currentProto = Object.getPrototypeOf(currentProto)\n            }\n\n            return false\n        }\n    })\n\n    Transformable[instanceofSymbol] = true\n\n    return Transformable\n}\n\nfunction isRealNumber(num) {\n    if (\n        typeof num != 'number'\n        || Object.is(num, NaN)\n        || Object.is(num, Infinity)\n    ) return false\n    return true\n}\n\nconst Transformable = TransformableMixin(class{})\nTransformable.mixin = TransformableMixin\n\nexport {Transformable as default}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/Transformable.js","\nexport default {\n\n    // all items of the scene graph are hidden until they are mounted in a\n    // scene (this changes to `display:block`).\n    display:         'none',\n\n    boxSizing:       'border-box',\n    position:        'absolute',\n    top:             0,\n    left:            0,\n\n    // Defaults to [0.5,0.5,0.5] (the Z axis doesn't apply for DOM elements,\n    // but will for 3D objects in WebGL.)\n    transformOrigin: '50% 50% 0', // default\n\n    transformStyle:  'preserve-3d',\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/html/node-style.js","import nodeStyles from './node-style'\n\nexport default {\n    ...nodeStyles,\n\n    position: 'relative',\n    overflow: 'hidden',\n    width:    '100%',\n    height:   '100%',\n\n    // Constant perspective for now.\n    perspective: 1000,\n    //perspectiveOrigin: '25%',\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/html/scene-style.js","/* global customElements */\n\nimport { observeChildren } from '../core/Utility'\nimport jss from '../lib/jss'\n\n// Very very stupid hack needed for Safari in order for us to be able to extend\n// the HTMLElement class. See:\n// https://github.com/google/traceur-compiler/issues/1709\nif (typeof window.HTMLElement != 'function') {\n    const _HTMLElement = function HTMLElement(){}\n    _HTMLElement.prototype = window.HTMLElement.prototype\n    window.HTMLElement = _HTMLElement\n}\n\nconst classCache = new Map\n\nfunction classExtendsHTMLElement(constructor) {\n    if (!constructor) return false\n    if (constructor === HTMLElement) return true\n    else return classExtendsHTMLElement(constructor.prototype.__proto__ ? constructor.prototype.__proto__.constructor : null)\n}\n\n/**\n * Creates a WebComponent base class dynamically, depending on which\n * HTMLElement class you want it to extend from. Extend from WebComponent when\n * making a new Custom Element class.\n *\n * @example\n * const WebComponent = WebComponentMixin(HTMLButtonElement)\n * class AwesomeButton extends WebComponent { ... }\n *\n * @param {Function} elementClass The class that the generated WebComponent\n * base class will extend from.\n */\nexport default\nfunction WebComponentMixin(elementClass) {\n    if (!elementClass) elementClass = HTMLElement\n\n    if (!classExtendsHTMLElement(elementClass)) {\n        throw new TypeError(\n            'The argument to WebComponentMixin must be a constructor that extends from or is HTMLElement.'\n        )\n    }\n\n    // if a base class that extends the given `elementClass` has already been\n    // created, return it.\n    if (classCache.has(elementClass))\n        return classCache.get(elementClass)\n\n    // otherwise, create it.\n    class WebComponent extends elementClass {\n\n        // constructor() is used in v1 Custom Elements instead of\n        // createdCallback() as in v0.\n        constructor() {\n            super()\n\n            // If the following is true, then we know the user should be using\n            // `document.registerElement()` to define an element from this class.\n            // `document.registerElement()` creates a new constructor, so if the\n            // constructor here is being called then that means the user is not\n            // instantiating a DOM HTMLElement as expected because it is required\n            // that the constructor returned from `document.registerElement` be used\n            // instead (this is a flaw of Custom Elements v0 which is fixed in v1\n            // where class constructors can be used directly).\n            if ('registerElement' in document && !('customElements' in window)) {\n                throw new Error(`\n                    You cannot instantiate this class directly without first registering it\n                    with \\`document.registerElement(...)\\`. See an example at http://....\n                `)\n            }\n\n            // Throw an error if no Custom Elements API exists.\n            if (!('registerElement' in document) && !('customElements' in window)) {\n                throw new Error(`\n                    Your browser does not support the Custom Elements API. You'll\n                    need to install a polyfill. See how at http://....\n                `)\n            }\n\n            // otherwise the V1 API exists, so call the createdCallback, which\n            // is what Custom Elements v0 would call by default. Subclasses of\n            // WebComponent should put instantiation logic in createdCallback\n            // instead of in a custom constructor if backwards compatibility is\n            // to be maintained.\n            this.createdCallback()\n        }\n\n        createdCallback() {\n            this._attached = false\n            this._initialized = false\n            this._initialAttributeChange = false\n            this._childObserver = null\n            this._style = null\n        }\n\n        // Subclasses can implement these.\n        childConnectedCallback(child) {}\n        childDisconnectedCallback(child) {}\n\n        connectedCallback() {\n            if (super.connectedCallback) super.connectedCallback()\n            this._attached = true\n\n            if (!this._initialized) {\n                this.init()\n                this._initialized = true\n            }\n        }\n        attachedCallback() { this.connectedCallback() } // back-compat\n\n        _createStyles() {\n            const rule = jss.createRule(this.getStyles())\n\n            rule.applyTo(this)\n\n            return rule\n        }\n\n        disconnectedCallback() {\n            if (super.disconnectedCallback) super.disconnectedCallback()\n            this._attached = false\n\n            // Deferr to the next tick before cleaning up in case the\n            // element is actually being re-attached somewhere else within this\n            // same tick (detaching and attaching is synchronous, so by\n            // deferring to the next tick we'll be able to know if the element\n            // was re-attached or not in order to clean up or not). Note that\n            // appendChild can be used to move an element to another parent\n            // element, in which case connectedCallback and disconnectedCallback\n            // both get called, and in which case we don't necessarily want to\n            // clean up. If the element gets re-attached before the next tick\n            // (for example, gets moved), then we want to preserve the\n            // stuff that would be cleaned up by an extending class' deinit\n            // method by not running the following this.deinit() call.\n            Promise.resolve().then(() => { // deferr to the next tick.\n\n                // As mentioned in the previous comment, if the element was not\n                // re-attached in the last tick (for example, it was moved to\n                // another element), then clean up.\n                if (!this._attached && this._initialized) {\n                    this.deinit()\n                }\n            })\n        }\n        //async disconnectedCallback() {\n            //if (super.disconnectedCallback) super.disconnectedCallback()\n            //this._attached = false\n\n            //// Deferr to the next tick before cleaning up in case the\n            //// element is actually being re-attached somewhere else within this\n            //// same tick (detaching and attaching is synchronous, so by\n            //// deferring to the next tick we'll be able to know if the element\n            //// was re-attached or not in order to clean up or not). Note that\n            //// appendChild can be used to move an element to another parent\n            //// element, in which case connectedCallback and disconnectedCallback\n            //// both get called, and in which case we don't necessarily want to\n            //// clean up. If the element gets re-attached before the next tick\n            //// (for example, gets moved), then we want to preserve the\n            //// stuff that would be cleaned up by an extending class' deinit\n            //// method by not running the following this.deinit() call.\n            //await Promise.resolve() // deferr to the next tick.\n\n            //// As mentioned in the previous comment, if the element was not\n            //// re-attached in the last tick (for example, it was moved to\n            //// another element), then clean up.\n            //if (!this._attached && this._initialized) {\n                //this.deinit()\n            //}\n        //}\n        detachedCallback() { this.disconnectedCallback() } // back-compat\n\n        /**\n         * This method can be overridden by extending classes, it should return\n         * JSS-compatible styling. See http://github.com/cssinjs/jss for\n         * documentation.\n         * @abstract\n         */\n        getStyles() {\n            return {}\n        }\n\n\n        /**\n         * Init is called exactly once, the first time this element is\n         * connected into the DOM. When an element is disconnected then\n         * connected right away within the same synchronous tick, init() is not\n         * fired again. However, if an element is disconnected and the current\n         * tick completes before the element is connected again, then deinit()\n         * will be called (i.e. the element was not simply moved to a new\n         * location, it was actually removed), then the next time that the\n         * element is connected back into DOM init() will be called again.\n         *\n         * This is in contrast to connectedCallback and disconnectedCallback:\n         * connectedCallback is guaranteed to always fire even if the elemet\n         * was previously disconnected in the same synchronous tick.\n         *\n         * For example, ...\n         *\n         * Subclasses should extend this to add such logic.\n         */\n        init() {\n            if (!this._style) this._style = this._createStyles()\n\n            // Handle any nodes that may have been connected before `this` node\n            // was created (f.e. child nodes that were connected before the\n            // custom elements were registered and which would therefore not be\n            // detected by the following MutationObserver).\n            if (!this._childObserver) {\n\n                const children = this.childNodes\n                if (children.length) {\n\n                    // Timeout needed in case the Custom Element classes are\n                    // registered after the elements are already defined in the\n                    // DOM but not yet upgraded. This means that the `node` arg\n                    // might be a `<motor-node>` but if it isn't upgraded then\n                    // its API won't be available to the logic inside the\n                    // childConnectedCallback. The reason this happens is\n                    // because parents are upgraded first and their\n                    // connectedCallbacks fired before their children are\n                    // upgraded.\n                    //\n                    // TODO FIXME PERFORMANCE: This causes a possibly \"buggy\" effect where\n                    // elements in a tree will appear in intervals of 5\n                    // milliseconds. We want elements to be rendered instantly,\n                    // in the first frame that they are present in the scene\n                    // graph.\n                    // How can we fix this? Maybe we can switch to a Promise microtask.\n                    setTimeout(() => {\n                        for (let l=children.length, i=0; i<l; i+=1) {\n                            this.childConnectedCallback(children[i])\n                        }\n                    }, 5)\n                }\n\n                this._childObserver = observeChildren(this, this.childConnectedCallback, this.childDisconnectedCallback)\n            }\n\n            // fire this.attributeChangedCallback in case some attributes have\n            // existed before the custom element was upgraded.\n            if (!this._initialAttributeChange && this.hasAttributes()) {\n\n                // HTMLElement#attributes is a NamedNodeMap which is not an\n                // iterable, so we use Array.from. See:\n                // https://github.com/zloirock/core-js/issues/234\n                const {attributes} = this\n                for (let l=attributes.length, i=0; i<l; i+=1)\n                    this.attributeChangedCallback(attributes[i].name, null, attributes[i].value)\n            }\n        }\n\n        attributeChangedCallback(...args) {\n            //console.log(' --- attributeChangedCallback', typeof args[2])\n            if (super.attributeChangedCallback) super.attributeChangedCallback(...args)\n            this._initialAttributeChange = true\n        }\n\n        /**\n         * This is the reciprocal of init(). It will be called when an element\n         * has been disconnected but not re-connected within the same tick.\n         *\n         * The reason that init() and deinit() exist is so that if an element is\n         * moved from one place to another within the same synchronous tick,\n         * that deinit and init logic will not fire unnecessarily. If logic is\n         * needed in that case, then connectedCallback and disconnectedCallback\n         * can be used directly instead.\n         */\n        deinit() {\n            // Nothing much at the moment, but extending classes can extend\n            // this to add deintialization logic.\n\n            this._initialized = false\n        }\n    }\n\n    classCache.set(elementClass, WebComponent)\n    return WebComponent\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/html/web-component.js","\nimport styles from './node-style'\nimport Node from '../core/Node'\nimport Transformable from '../core/Transformable'\nimport Sizeable from '../core/Sizeable'\nimport MotorHTMLBase, {initMotorHTMLBase, proxyGettersSetters} from './base'\n\ninitMotorHTMLBase()\n\nclass MotorHTMLNode extends MotorHTMLBase {\n\n    getStyles() {\n        return styles\n    }\n\n    // this is called by DeclarativeBase#init, which is called by\n    // WebComponent#connectedCallback, at which point this element has a\n    // parentNode.\n    // @override\n    _makeImperativeCounterpart() {\n        return new Node({\n            _motorHtmlCounterpart: this\n        })\n    }\n\n    attributeChangedCallback(...args) {\n        super.attributeChangedCallback(...args)\n\n        // TODO PERFORMANCE: we could possibly not stack a promise every\n        // attribute change, and just cache the latest value to set it when the\n        // imperativeCounterpart is ready.\n        this._imperativeCounterpartPromise.then(() => {\n            this._updateNodeProperty(...args)\n        })\n    }\n    //async attributeChangedCallback(...args) {\n        //super.attributeChangedCallback(...args)\n\n        //// TODO PERFORMANCE: we could possibly not stack a promise every\n        //// attribute change, and just cache the latest value to set it when the\n        //// imperativeCounterpart is ready.\n        //await this._imperativeCounterpartPromise\n        //this._updateNodeProperty(...args)\n    //}\n\n    _updateNodeProperty(attribute, oldValue, newValue) {\n        // attributes on our HTML elements are the same name as those on\n        // the Node class (the setters).\n        if (newValue !== oldValue) {\n            if (attribute.match(/opacity/i))\n                this.imperativeCounterpart[attribute] = window.parseFloat(newValue)\n            else if (attribute.match(/sizeMode/i))\n                this.imperativeCounterpart[attribute] = parseStringArray(newValue)\n            else if (\n                attribute.match(/rotation/i)\n                || attribute.match(/scale/i)\n                || attribute.match(/position/i)\n                || attribute.match(/absoluteSize/i)\n                || attribute.match(/proportionalSize/i)\n                || attribute.match(/align/i)\n                || attribute.match(/mountPoint/i)\n                || attribute.match(/origin/i)\n                || attribute.match(/skew/i)\n            ) {\n                this.imperativeCounterpart[attribute] = parseNumberArray(newValue)\n            }\n            else {\n                /* nothing, ignore other attributes */\n            }\n        }\n    }\n}\n\n// This associates the Transformable getters/setters with the HTML-API classes,\n// so that the same getters/setters can be called from HTML side of the API.\nproxyGettersSetters(Transformable, MotorHTMLNode)\nproxyGettersSetters(Sizeable, MotorHTMLNode)\n\nfunction parseNumberArray(str) {\n    checkIsNumberArrayString(str)\n    const numbers = str.trim().split(/(?:\\s*,\\s*)|(?:\\s+)/g)\n    const length = numbers.length\n    if (length > 0) numbers[0] = window.parseFloat(numbers[0])\n    if (length > 1) numbers[1] = window.parseFloat(numbers[1])\n    if (length > 2) numbers[2] = window.parseFloat(numbers[2])\n    return numbers\n}\n\nfunction parseStringArray(str) {\n    checkIsSizeArrayString(str)\n    const strings = str.trim().toLowerCase().split(/(?:\\s*,\\s*)|(?:\\s+)/g)\n    const length = strings.length\n    if (length > 0) strings[0] = strings[0]\n    if (length > 1) strings[1] = strings[1]\n    if (length > 2) strings[2] = strings[2]\n    return strings\n}\n\nfunction checkIsNumberArrayString(str) {\n    if (!str.match(/^\\s*(((\\s*(-|\\+)?((\\.\\d+)|(\\d+\\.\\d+)|(\\d+)|(\\d+(\\.\\d+)?e(-|\\+)?(\\d+)))\\s*,){0,2}(\\s*(-|\\+)?((\\.\\d+)|(\\d+\\.\\d+)|(\\d+)|(\\d+(\\.\\d+)?e(-|\\+)?(\\d+)))))|((\\s*(-|\\+)?((\\.\\d+)|(\\d+\\.\\d+)|(\\d+)|(\\d+(\\.\\d+)?e(-|\\+)?(\\d+)))\\s){0,2}(\\s*(-|\\+)?((\\.\\d+)|(\\d+\\.\\d+)|(\\d+)|(\\d+(\\.\\d+)?e(-|\\+)?(\\d+))))))\\s*$/g))\n        throw new Error(`Attribute must be a comma- or space-separated sequence of up to three numbers, for example \"1 2.5 3\". Yours was \"${str}\".`)\n}\n\nfunction checkIsSizeArrayString(str) {\n    if (!str.match(/^\\s*(((\\s*([a-zA-Z]+)\\s*,){0,2}(\\s*([a-zA-Z]+)))|((\\s*([a-zA-Z]+)\\s*){1,3}))\\s*$/g))\n        throw new Error(`Attribute must be a comma- or space-separated sequence of up to three strings, for example \"absolute absolute\". Yours was \"${str}\".`)\n}\n\nimport 'document-register-element'\nMotorHTMLNode = document.registerElement('motor-node', MotorHTMLNode)\n\nexport {MotorHTMLNode as default}\n\n\n\n// WEBPACK FOOTER //\n// ./src/html/node.js","/* global HTMLSlotElement */\n\nimport WebComponent from './web-component'\nimport MotorHTMLNode from './node'\nimport { observeChildren, /*getShadowRootVersion,*/ hasShadowDomV0,\n    hasShadowDomV1, getAncestorShadowRoot } from '../core/Utility'\n\nvar DeclarativeBase\n\n// We use this to Override HTMLElement.prototype.attachShadow in v1, and\n// HTMLElement.prototype.createShadowRoot in v0, so that we can make the\n// connection between parent and child on the iperative side when the HTML side\n// is using shadow roots.\nconst observers = new WeakMap\nfunction hijack(original) {\n    return function(...args) {\n        // In v0, shadow roots can be replaced, but in v1 calling attachShadow\n        // on an element that already has a root throws. So, we can set this to\n        // true, and if the try-catch passes then we know we have a v0 root and\n        // that the root was just replaced.\n        const oldRoot = this.shadowRoot\n        let root = null\n        try {\n            root = original.call(this, ...args)\n        }\n        catch (e) { throw e }\n        if (this instanceof DeclarativeBase) {\n            this._hasShadowRoot = true\n            if (oldRoot) {\n                onV0ShadowRootReplaced.call(this, oldRoot)\n            }\n            const observer = observeChildren(root, shadowRootChildAdded.bind(this), shadowRootChildRemoved.bind(this))\n            observers.set(root, observer)\n\n            const {children} = this\n            for (let l=children.length, i=0; i<l; i+=1) {\n                if (!(children[i] instanceof DeclarativeBase)) continue\n                children[i]._isPossiblyDistributed = true\n            }\n        }\n        return root\n    }\n}\n\nfunction shadowRootChildAdded(child) {\n\n    // NOTE Logic here is similar to childConnectedCallback\n\n    if (child instanceof DeclarativeBase) {\n        this.imperativeCounterpart.addChild(child.imperativeCounterpart)\n    }\n    else if (\n        hasShadowDomV0\n        && child instanceof HTMLContentElement\n    ) {\n        // observe <content> elements.\n    }\n    else if (\n        hasShadowDomV1\n        && child instanceof HTMLSlotElement\n    ) {\n        child.addEventListener('slotchange', this)\n        this._handleDistributedChildren(child)\n    }\n}\n\nfunction shadowRootChildRemoved(child) {\n\n    // NOTE Logic here is similar to childDisconnectedCallback\n\n    if (child instanceof DeclarativeBase) {\n        this.imperativeCounterpart.removeChild(child.imperativeCounterpart)\n    }\n    else if (\n        hasShadowDomV0\n        && child instanceof HTMLContentElement\n    ) {\n        // unobserve <content> element\n    }\n    else if (\n        hasShadowDomV1\n        && child instanceof HTMLSlotElement\n    ) {\n        child.removeEventListener('slotchange', this)\n        this._handleDistributedChildren(child)\n        this._slotElementsAssignedNodes.delete(child)\n    }\n}\n\nfunction onV0ShadowRootReplaced(oldRoot) {\n    observers.get(oldRoot).disconnect()\n    observers.delete(oldRoot)\n    const {childNodes} = oldRoot\n    for (let l=childNodes.length, i=0; i<l; i+=1) {\n        const child = childNodes[i]\n\n        if (!(child instanceof DeclarativeBase)) continue\n\n        // We should disconnect the imperative connection (f.e. so it is not\n        // rendered in WebGL)\n        this.imperativeCounterpart.removeChild(child.imperativeCounterpart, true)\n    }\n}\n\nif (HTMLElement.prototype.createShadowRoot instanceof Function)\n    HTMLElement.prototype.createShadowRoot = hijack(HTMLElement.prototype.createShadowRoot)\nif (HTMLElement.prototype.attachShadow instanceof Function)\n    HTMLElement.prototype.attachShadow = hijack(HTMLElement.prototype.attachShadow)\n\ninitMotorHTMLBase()\nexport function initMotorHTMLBase() {\n    if (DeclarativeBase) return\n\n    /**\n     * @implements {EventListener}\n     */\n    DeclarativeBase = class DeclarativeBase extends WebComponent(window.HTMLElement) {\n        createdCallback() {\n            super.createdCallback()\n\n            this.imperativeCounterpart = null // to hold the imperative API Node instance.\n\n            // true if this node has a shadow root (even if it is \"closed\", see\n            // hijack function above). Once true always true because shadow\n            // roots cannot be removed.\n            this._hasShadowRoot = false\n\n            // True when this node has a parent that has a shadow root. When\n            // using the HTML API, Imperative API can look at this to determine\n            // whether to render this node or not, in the case of WebGL.\n            this._isPossiblyDistributed = false\n\n            // A map of the slot elements that are children of this node and\n            // their last-known assigned nodes. When a slotchange happens while\n            // this node is in a shadow root and has a slot child, we can\n            // detect what the difference is between the last known and the new\n            // assignments, and notate the new distribution of child nodes. See\n            // issue #40 for background on why we do this.\n            this._slotElementsAssignedNodes = new WeakMap\n\n            // If this node is distributed into a shadow tree, this will\n            // reference the parent of the <slot> or <content> element.\n            // Basically, this node will render as a child of that parent node\n            // in the flat tree.\n            this._shadowParent = null\n\n            // If this element has a child <slot> or <content> element while in\n            // a shadow root, then this will be a Set of the nodes distributed\n            // into the <slot> or <content>, and those nodes render relatively\n            // to this node in the flat tree. We instantiate this later, only\n            // when/if needed.\n            this._shadowChildren = null\n\n            // We use Promise.resolve here to defer to the next microtask.\n            // While we support Custom Elements v0, this is necessary because\n            // the imperative Node counterpart will have already called the\n            // `_associateImperativeNode` method on this element, causing the\n            // next microtask's call to be a no-op. When this MotorHTML element\n            // API is used instead of the Imperative counterpart, then the next\n            // microtask's `_associateImperativeNode` call will not be a no-op.\n            // When we drop support for v0 Custom Elements at some point, we\n            // can rely on passing a constructor argument similarly to how we\n            // do with motor/Node in order to detect that the constructor is\n            // being called from the reciprocal API. See the constructor in\n            // motor/Node.js to get see the idea.\n            // TODO: renewable promise after unmount.\n            this._imperativeCounterpartPromise = Promise.resolve()\n                .then(() => this._associateImperativeNode())\n            this.mountPromise = this._imperativeCounterpartPromise\n                .then(() => this.imperativeCounterpart.mountPromise)\n        }\n\n        /**\n         * This method creates the association between this MotorHTMLNode instance\n         * and the imperative Node instance.\n         *\n         * This method may get called by this.init, but can also be called by\n         * the Node class if Node is used imperatively. See Node#constructor.\n         *\n         * @private\n         *\n         * @param {Object} imperativeCounterpart The imperative counterpart to\n         * associate with this MotorHTML element. This parameter is only used in the\n         * imperative API constructors, and this happens when using the imperative\n         * form of infamous instead of the HTML interface to infamous. When the HTML\n         * interface is used, this gets called first without an\n         * imperativeCounterpart argument and the call to this in an imperative\n         * constructor will be a noop. Basically, either this gets called first by a\n         * MotorHTML element, or first by an imperative instance, depending on which\n         * API is used first.\n         */\n        _associateImperativeNode(imperativeCounterpart) {\n            // if the association is made already, noop\n            if (this.imperativeCounterpart) return\n\n            // if called from an imperative-side class' constructor, associate\n            // the passed instance.\n            if (imperativeCounterpart) this.imperativeCounterpart = imperativeCounterpart\n\n            // otherwise if called from a MotorHTML class without an argument\n            else this.imperativeCounterpart = this._makeImperativeCounterpart()\n        }\n\n        /**\n         * This method should be overriden by child classes. It should return the\n         * imperative-side instance that the HTML-side class (this) corresponds to.\n         * @abstract\n         */\n        _makeImperativeCounterpart() {\n            throw new TypeError('This method should be implemented by classes extending DeclarativeBase.')\n        }\n\n        childConnectedCallback(child) {\n\n            // mirror the DOM connections in the imperative API's virtual scene graph.\n            if (child instanceof MotorHTMLNode) {\n                if (this._hasShadowRoot) child._isPossiblyDistributed = true\n\n                // If ImperativeBase#addChild was called first, child's\n                // _parent will already be set, so prevent recursion.\n                if (child.imperativeCounterpart._parent) return\n\n                this.imperativeCounterpart.addChild(child.imperativeCounterpart)\n            }\n            else if (\n                hasShadowDomV0\n                && child instanceof HTMLContentElement\n                &&\n                //getShadowRootVersion(\n                    getAncestorShadowRoot(this)\n                //) == 'v0'\n            ) {\n                // observe <content> elements.\n            }\n            else if (\n                hasShadowDomV1\n                && child instanceof HTMLSlotElement\n                &&\n                //getShadowRootVersion(\n                    getAncestorShadowRoot(this)\n                //) == 'v1'\n            ) {\n                child.addEventListener('slotchange', this)\n                this._handleDistributedChildren(child)\n            }\n        }\n\n        // This method is part of the EventListener interface.\n        handleEvent(event) {\n            if (event.type == 'slotchange') {\n                const slot = event.target\n                this._handleDistributedChildren(slot)\n            }\n        }\n\n        _handleDistributedChildren(slot) {\n            const diff = this._getDistributedChildDifference(slot)\n\n            const {added} = diff\n            for (let l=added.length, i=0; i<l; i+=1) {\n                const addedNode = added[i]\n\n                if (!(addedNode instanceof DeclarativeBase)) continue\n\n                // We do this because if the given slot is assigned to another\n                // slot, then this logic will run again for the next slot on\n                // that next slot's slotchange, so we remove the distributed\n                // node from the previous shadowParent and add it to the next\n                // one. If we don't do this, then the distributed node will\n                // exist in multiple shadowChildren lists when there is a\n                // chain of assigned slots. For more info, see\n                // https://github.com/w3c/webcomponents/issues/611\n                const shadowParent = addedNode._shadowParent\n                if (shadowParent && shadowParent._shadowChildren) {\n                    const shadowChildren = shadowParent._shadowChildren\n                    shadowChildren.splice(shadowChildren.indexOf(addedNode), 1)\n                    if (!shadowChildren.length)\n                        shadowParent._shadowChildren = null\n                }\n\n                addedNode._shadowParent = this\n                if (!this._shadowChildren) this._shadowChildren = []\n                this._shadowChildren.add(addedNode)\n            }\n\n            const {removed} = diff\n            for (let l=removed.length, i=0; i<l; i+=1) {\n                const removedNode = removed[i]\n\n                if (!(removedNode instanceof DeclarativeBase)) continue\n\n                removedNode._shadowParent = null\n                this._shadowChildren.delete(removedNode)\n                if (!this._shadowChildren.size) this._shadowChildren = null\n            }\n        }\n\n        _getDistributedChildDifference(slot) {\n            let previousNodes\n\n            if (this._slotElementsAssignedNodes.has(slot))\n                previousNodes = this._slotElementsAssignedNodes.get(slot)\n            else\n                previousNodes = []\n\n            const newNodes = slot.assignedNodes({flatten: true})\n\n            // save the newNodes to be used as the previousNodes for next time.\n            this._slotElementsAssignedNodes.set(slot, newNodes)\n\n            const diff = {\n                removed: [],\n            }\n\n            for (let i=0, l=previousNodes.length; i<l; i+=1) {\n                const oldNode = previousNodes[i]\n                const newIndex = newNodes.indexOf(oldNode)\n\n                // if it exists in the previousNodes but not the newNodes, then\n                // the node was removed.\n                if (!(newIndex >= 0)) {\n                    diff.removed.push(oldNode)\n                }\n\n                // otherwise the node wasn't added or removed.\n                else {\n                    newNodes.splice(i, 1)\n                }\n            }\n\n            // Remaining nodes in newNodes must have been added.\n            diff.added = newNodes\n\n            return diff\n        }\n\n        childDisconnectedCallback(child) {\n            // mirror the connection in the imperative API's virtual scene graph.\n            if (child instanceof MotorHTMLNode) {\n                child._isPossiblyDistributed = false\n\n                // If ImperativeBase#removeChild was called first, child's\n                // _parent will already be null, so prevent recursion.\n                if (!child.imperativeCounterpart._parent) return\n\n                this.imperativeCounterpart.removeChild(child.imperativeCounterpart)\n            }\n            else if (\n                hasShadowDomV0\n                && child instanceof HTMLContentElement\n                &&\n                //getShadowRootVersion(\n                    getAncestorShadowRoot(this)\n                //) == 'v0'\n            ) {\n                // unobserve <content> element\n            }\n            else if (\n                hasShadowDomV1\n                && child instanceof HTMLSlotElement\n                &&\n                //getShadowRootVersion(\n                    getAncestorShadowRoot(this)\n                //) == 'v1'\n            ) {\n                child.removeEventListener('slotchange', this)\n                this._handleDistributedChildren(child)\n                this._slotElementsAssignedNodes.delete(child)\n            }\n        }\n\n        setAttribute(attr, value) {\n            //if (this.tagName.toLowerCase() == 'motor-scene')\n                //console.log('setting attribute', arguments[1])\n            super.setAttribute(attr, value)\n        }\n    }\n}\n\n// Creates setters/getters on the TargetClass which proxy to the\n// setters/getters on SourceClass.\nexport function proxyGettersSetters(SourceClass, TargetClass) {\n\n    // Node methods not to proxy (private underscored methods are also detected and\n    // ignored).\n    const methodProxyBlacklist = [\n        'constructor',\n        'parent',\n        'children', // proxying this one would really break stuff (f.e. React)\n        'element',\n        'scene',\n        'addChild',\n        'addChildren',\n        'removeChild',\n        'removeChildren',\n    ]\n\n    const props = Object.getOwnPropertyNames(SourceClass.prototype)\n\n    for (let l=props.length, i=0; i<l; i+=1) {\n        const prop = props[i]\n        if (\n            // skip the blacklisted properties\n            methodProxyBlacklist.indexOf(prop) >= 0\n\n            // skip the private underscored properties\n            || prop.indexOf('_') == 0\n\n            // skip properties that are already defined.\n            || TargetClass.prototype.hasOwnProperty(prop)\n        ) continue\n\n        const targetDescriptor = {}\n        const sourceDescriptor = Object.getOwnPropertyDescriptor(SourceClass.prototype, prop)\n\n        // if the property has a setter\n        if (sourceDescriptor.set) {\n            Object.assign(targetDescriptor, {\n                set(value) {\n                    this.imperativeCounterpart[prop] = value\n                }\n            })\n        }\n\n        // if the property has a getter\n        if (sourceDescriptor.get) {\n            Object.assign(targetDescriptor, {\n                get() {\n                    return this.imperativeCounterpart[prop]\n                }\n            })\n        }\n\n        Object.defineProperty(TargetClass.prototype, prop, targetDescriptor)\n    }\n}\n\nexport {DeclarativeBase as default}\n\n\n\n// WEBPACK FOOTER //\n// ./src/html/base.js","\nimport styles from './scene-style'\nimport Motor from '../core/Motor'\nimport Scene from '../core/Scene'\nimport Observable from '../core/Observable'\nimport Sizeable from '../core/Sizeable'\nimport getWebGlRenderer from '../core/WebGLRenderer'\nimport MotorHTMLBase, {initMotorHTMLBase, proxyGettersSetters} from './base'\nimport sleep from 'awaitbox/timers/sleep'\n\n//import * as PIXI from 'pixi.js' // also sets the PIXI global.\n//import SVG from 'pixi-svg' // uses the PIXI global, won't work if you don't import the main `pixi.js module`.\nimport Two from 'two.js/build/two'\n\ninitMotorHTMLBase()\n\nconst privates = new WeakMap()\nconst _ = instance => {\n    if (!privates.get(instance)) privates.set(instance, {})\n    return privates.get(instance)\n}\n\nclass MotorHTMLScene extends Observable.mixin(MotorHTMLBase) {\n\n    createdCallback() {\n        super.createdCallback()\n\n        this._sizePollTask = null\n        this._parentSize = {x:0, y:0, z:0}\n\n        // After the imperativeCounterpart is available it needs to register\n        // mount into DOM. This is only for MotorHTMLScenes because their\n        // imperativeCounterparts are not added to a parent Node.\n        // MotorHTMLNodes get their parent connection from their parent in\n        // childConnectedCallback.\n        this._imperativeCounterpartPromise\n            .then(() => {\n\n                if (this.imperativeCounterpart._mounted) return\n\n                if (this.parentNode)\n                    this.imperativeCounterpart.mount(this.parentNode)\n            })\n\n        // For now, use the same program (with shaders) for all objects.\n        // Basically it has position, frag colors, point light, directional\n        // light, and ambient light.\n        // TODO: maybe call this in `init()`, and destroy webgl stuff in\n        // `deinit()`.\n        // TODO: The user might enable this by setting the attribute later, so\n        // we can't simply rely on having it in createdCallback, we need a\n        // getter/setter like node properties.\n        this.initWebGl()\n    }\n\n    // TODO: we need to deinit webgl too.\n    initWebGl() {\n        // TODO: this needs to be cancelable too, search other codes for\n        // \"mountcancel\" to see.\n        this.mountPromise.then(() => {\n            this.webglEnabled = !!this.getAttribute('webglenabled')\n            if (!this.webglEnabled) return\n            this.webGlRendererState = {}\n            getWebGlRenderer().initGl(this)\n        })\n    }\n    //async initWebGl() {\n        //// TODO: this needs to be cancelable too, search other codes for\n        //// \"mountcancel\" to see.\n        //await this.mountPromise\n        //this.webglEnabled = !!this.getAttribute('webglenabled')\n        //if (!this.webglEnabled) return\n        //this.webGlRendererState = {}\n        //getWebGlRenderer().initGl(this)\n    //}\n\n    _startSizePolling() {\n        // NOTE Polling is currently required because there's no other way to do this\n        // reliably, not even with MutationObserver. ResizeObserver hasn't\n        // landed in browsers yet.\n        if (!this._sizePollTask)\n            this._sizePollTask = Motor.addRenderTask(this._checkSize.bind(this))\n    }\n\n    // NOTE, the Z dimension of a scene doesn't matter, it's a flat plane, so\n    // we haven't taken that into consideration here.\n    _checkSize() {\n\n        // The scene has a parent by the time this is called (see\n        // src/core/Scene#mount where _startSizePolling is called)\n        const parent = this.parentNode\n        const parentSize = this._parentSize\n        const style = getComputedStyle(parent)\n        const width = parseFloat(style.width)\n        const height = parseFloat(style.height)\n\n        // if we have a size change, trigger parentsizechange\n        if (parentSize.x != width || parentSize.y != height) {\n            parentSize.x = width\n            parentSize.y = height\n\n            this.triggerEvent('parentsizechange', Object.assign({}, parentSize))\n        }\n    }\n\n    _makeImperativeCounterpart() {\n        return new Scene({\n            _motorHtmlCounterpart: this\n        })\n    }\n\n    /** @override */\n    getStyles() {\n        return styles\n    }\n\n    deinit() {\n        super.deinit()\n\n        this.imperativeCounterpart.unmount()\n    }\n\n    _stopSizePolling() {\n        Motor.removeRenderTask(this._sizePollTask)\n        this._sizePollTask = null\n    }\n}\n\n// This associates the Transformable getters/setters with the HTML-API classes,\n// so that the same getters/setters can be called from HTML side of the API.\nproxyGettersSetters(Sizeable, MotorHTMLScene)\n\nimport 'document-register-element'\nMotorHTMLScene = document.registerElement('motor-scene', MotorHTMLScene)\n\nexport {MotorHTMLScene as default}\n\n\n\n// WEBPACK FOOTER //\n// ./src/html/scene.js","\n// although Transformable is not used in this file, importing it first prevent\n// a cyclical dependeny problem when an App imports Scene before Node (Sizeable\n// imports Motor imports Transformable). See:\n// https://esdiscuss.org/topic/how-to-solve-this-basic-es6-module-circular-dependency-problem\n// TODO: write a test that imports public interfaces in every possible\n// permutation to detect circular dependency errors.\nimport Transformable from './Transformable'\n\nimport Sizeable from './Sizeable'\nimport ImperativeBase, {initImperativeBase} from './ImperativeBase'\nimport XYZValues from './XYZValues'\nimport MotorHTMLScene from '../html/scene'\nimport documentReady from 'awaitbox/dom/documentReady'\n\ninitImperativeBase()\n\n// Scene is Sizeable, which is currently a subset of Transformable.\nconst ParentClass = ImperativeBase.mixin(Sizeable)\nclass Scene extends ParentClass {\n    constructor(options = {}) {\n        super(options)\n\n        // NOTE: z size is always 0, since native DOM elements are always flat.\n        this._elementParentSize = {x:0, y:0, z:0}\n\n        this._onElementParentSizeChange = (newSize) => {\n            this._elementParentSize = newSize\n            this._calcSize()\n            this._needsToBeRendered()\n        }\n\n        this._calcSize()\n        this._needsToBeRendered()\n    }\n\n    _setDefaultProperties() {\n        super._setDefaultProperties()\n\n        Object.assign(this._properties, {\n            sizeMode: new XYZValues('proportional', 'proportional', 'absolute'),\n        })\n    }\n\n    _startOrStopSizePolling() {\n        if (\n            this._mounted &&\n            (this._properties.sizeMode.x == 'proportional'\n            || this._properties.sizeMode.y == 'proportional'\n            || this._properties.sizeMode.z == 'proportional')\n        ) {\n            this._startSizePolling()\n        }\n        else {\n            this._stopSizePolling()\n        }\n    }\n\n    // observe size changes on the scene element.\n    _startSizePolling() {\n        if (!this._elementManager) return\n        this._elementManager.element._startSizePolling()\n        this._elementManager.element.on('parentsizechange', this._onElementParentSizeChange)\n    }\n\n    // Don't observe size changes on the scene element.\n    _stopSizePolling() {\n        if (!this._elementManager) return\n        this._elementManager.element.off('parentsizechange', this._onElementParentSizeChange)\n        this._elementManager.element._stopSizePolling()\n    }\n\n    /** @override */\n    _getParentSize() {\n        return this._mounted ? this._elementParentSize : {x:0,y:0,z:0}\n    }\n\n    /**\n     * @override\n     */\n    _makeElement() {\n        return new MotorHTMLScene\n    }\n\n    /**\n     * Mount the scene into the given target.\n     * Resolves the Scene's mountPromise, which can be use to do something once\n     * the scene is mounted.\n     *\n     * @param {string|HTMLElement} [mountPoint=document.body] If a string selector is provided,\n     * the mount point will be selected from the DOM. If an HTMLElement is\n     * provided, that will be the mount point. If no mount point is provided,\n     * the scene will be mounted into document.body.\n     */\n    mount(mountPoint) {\n        const mountLogic = () => {\n            // if no mountPoint was provided, just mount onto the <body> element.\n            if (mountPoint === undefined) mountPoint = document.body\n\n            // if the user supplied a selector, mount there.\n            else if (typeof mountPoint === 'string')\n                mountPoint = document.querySelector(mountPoint)\n\n            // if we have an actual mount point (the user may have supplied one)\n            if (!(mountPoint instanceof window.HTMLElement))\n                throw new Error('Invalid mount point specified in Scene.mount() call. Pass a selector, an actual HTMLElement, or don\\'t pass anything to mount to <body>.')\n\n            if (this._mounted) this.unmount()\n\n            if (mountPoint !== this._elementManager.element.parentNode)\n                mountPoint.appendChild(this._elementManager.element)\n\n            this._mounted = true\n\n            if (this._mountPromise) this._resolveMountPromise()\n\n            this._elementManager.shouldRender()\n            this._startOrStopSizePolling()\n        }\n\n        // Wait for the document to be ready before mounting, otherwise the\n        // target mount point might not exist yet when this function is called.\n        if (document.readyState == 'loading') return documentReady().then(mountLogic)\n        else {\n            mountLogic()\n            return Promise.resolve()\n        }\n    }\n    //async mount(mountPoint) {\n        //// Wait for the document to be ready before mounting, otherwise the\n        //// target mount point might not exist yet when this function is called.\n        //if (document.readyState == 'loading') await documentReady()\n\n        //// if no mountPoint was provided, just mount onto the <body> element.\n        //if (mountPoint === undefined) mountPoint = document.body\n\n        //// if the user supplied a selector, mount there.\n        //else if (typeof mountPoint === 'string')\n            //mountPoint = document.querySelector(mountPoint)\n\n        //// if we have an actual mount point (the user may have supplied one)\n        //if (!(mountPoint instanceof window.HTMLElement))\n            //throw new Error('Invalid mount point specified in Scene.mount() call. Pass a selector, an actual HTMLElement, or don\\'t pass anything to mount to <body>.')\n\n        //if (this._mounted) this.unmount()\n\n        //if (mountPoint !== this._elementManager.element.parentNode)\n            //mountPoint.appendChild(this._elementManager.element)\n\n        //this._mounted = true\n\n        //if (this._mountPromise) this._resolveMountPromise()\n\n        //this._elementManager.shouldRender()\n        //this._startOrStopSizePolling()\n    //}\n\n    /**\n     * Unmount the scene from it's mount point. Resets the Scene's\n     * mountPromise.\n     */\n    unmount() {\n        if (!this._mounted) return\n\n        this._elementManager.shouldNotRender()\n        this._stopSizePolling()\n\n        if (this._elementManager.element.parentNode)\n            this._elementManager.element.parentNode.removeChild(this._elementManager.element)\n\n        if (this._mountPromise) this._rejectMountPromise('mountcancel')\n        this._resetMountPromise()\n    }\n\n}\n\n// Here we know that `super` is Sizeable\nconst {set: superSizeModeSet, get: superSizeModeGet} = Object.getOwnPropertyDescriptor(Sizeable.prototype, 'sizeMode')\n\nObject.defineProperties(Scene.prototype, {\n\n    // When we set the scene's size mode, we should start polling if it has\n    // proportional sizing.\n    sizeMode: {\n        set: function(value) {\n            superSizeModeSet.call(this, value)\n            this._startOrStopSizePolling()\n        },\n        get: function() {\n            return superSizeModeGet.call(this)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n\n})\n\nexport {Scene as default}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/Scene.js","import ElementManager from './ElementManager'\nimport Sizeable from './Sizeable'\nimport Node from './Node'\nimport Scene from './Scene'\nimport Motor from './Motor'\n\n// We explicitly use `var` instead of `let` here because it is hoisted for the\n// Node and Scene modules. This, along with the following initImperativeBase\n// function, allows the circular dependency between this module and the Node and\n// Scene modules to work. For details on why, see\n// https://esdiscuss.org/topic/how-to-solve-this-basic-es6-module-circular-dependency-problem.\nvar ImperativeBase\n\n// Here we wrap the definition of the ImperativeBase class with this function in\n// order to solve the circular depdendency problem caused by the\n// Node<->ImperativeBase and Scene<->ImperativeBase circles. The Node and Scene\n// modules call initImperativeBase to ensure that the ImperativeBase declaration\n// happens first, and then those modules can use the live binding in their\n// declarations.\ninitImperativeBase()\nexport function initImperativeBase() {\n    if (ImperativeBase) return\n\n    const instanceofSymbol = Symbol('instanceofSymbol')\n\n    /**\n     * The ImperativeBase class is the base class for the Imperative version of the\n     * API, for people who chose to take the all-JavaScript approach and who will\n     * not use the HTML-based API (infamous/motor-html).\n     *\n     * In the future when there is an option to disable the HTML-DOM rendering (and\n     * render only WebGL, for example) then the imperative API will be the only API\n     * available since the HTML API will be turned off as a result of disabling\n     * HTML rendering. Disabling both WebGL and HTML won't make sense, as we'll need\n     * at least one of those to render with.\n     */\n    const ImperativeBaseMixin = base => {\n        const ParentClass = base\n        class ImperativeBase extends ParentClass {\n            constructor(options = {}) {\n\n                // The presence of a _motorHtmlCounterpart argument signifies that\n                // the HTML interface is being used, otherwise the imperative interface\n                // here is being used. For example, see MotorHTMLNode. This means the\n                // Node and MotorHTMLNode classes are coupled together, but it's in the\n                // name of the API that we're supporting.\n                const {_motorHtmlCounterpart} = options\n\n                super(options)\n\n                this._willBeRendered = false\n\n                // Here we create the DOM HTMLElement associated with this\n                // Imperative-API Node.\n                this._elementManager = new ElementManager(\n                    _motorHtmlCounterpart || this._makeElement()\n                )\n                this._elementManager.element._associateImperativeNode(this)\n\n                // For Nodes, true when this Node is added to a parent AND it\n                // has an anancestor Scene that is mounted into DOM. For\n                // Scenes, true when mounted into DOM.\n                this._mounted = false;\n\n                // For Nodes, a promise that resolves when this Node is\n                // attached to a tree that has a root Scene TreeNode *and* when\n                // that root Scene has been mounted into the DOM. For Scenes,\n                // resolves when mounted into DOM.\n                this._mountPromise = null\n                this._resolveMountPromise = null\n                this._rejectMountPromise = null\n\n                this._awaitingMountPromiseToRender = false\n                this._waitingForMountConditions = false\n\n                // See Transformable/Sizeable propertychange event.\n                this.on('propertychange', prop => {\n                    if (\n                        prop == 'sizeMode' ||\n                        prop == 'absoluteSize' ||\n                        prop == 'proportionalSize'\n                    ) {\n                        this._calcSize()\n                    }\n\n                    this._needsToBeRendered()\n                })\n            }\n\n            /**\n             * Subclasses are required to override this. It should return the HTML-API\n             * counterpart for this Imperative-API instance. See Node or Scene classes\n             * for example.\n             *\n             * @private\n             */\n            _makeElement() {\n                throw new Error('Subclasses need to override ImperativeBase#_makeElement.')\n            }\n\n            /**\n             * @readonly\n             */\n            get mountPromise() {\n                if (!this._mountPromise) {\n                    this._mountPromise = new Promise((resolve, reject) => {\n                        this._resolveMountPromise = resolve\n                        this._rejectMountPromise = reject\n                    })\n                }\n\n                if (!this._mounted)\n                    this._waitForMountThenResolveMountPromise()\n                else if (this._mounted)\n                    this._resolveMountPromise()\n\n                return this._mountPromise\n            }\n\n            _waitForMountThenResolveMountPromise() {\n                // extended in Node or Scene to await for anything that mount\n                // depends on.\n            }\n\n            /**\n             * @readonly\n             */\n            get element() {\n                return this._elementManager.element\n            }\n\n            /**\n             * @override\n             */\n            addChild(childNode) {\n                if (!(childNode instanceof ImperativeBase)) return\n\n                // We cannot add Scenes to Nodes, for now.\n                if (childNode instanceof Scene) {\n                    throw new Error(`\n                        A Scene cannot be added to another Node or Scene (at\n                        least for now). To place a Scene in a Node, just mount\n                        a new Scene onto a MotorHTMLNode with Scene.mount().\n                    `)\n                }\n\n                super.addChild(childNode)\n\n                // Pass this parent node's Scene reference (if any, checking this cache\n                // first) to the new child and the child's children.\n                if (childNode._scene || childNode.scene) {\n                    if (childNode._resolveScenePromise)\n                        childNode._resolveScenePromise(childNode._scene)\n                    childNode._giveSceneRefToChildren()\n                }\n\n                // Calculate sizing because proportional size might depend on\n                // the new parent.\n                childNode._calcSize()\n                childNode._needsToBeRendered()\n\n                // child should watch the parent for size changes.\n                this.on('sizechange', childNode._onParentSizeChange)\n\n                this._elementManager.connectChildElement(childNode)\n\n                return this\n            }\n\n            removeChild(childNode, /*private use*/leaveInDom) {\n                if (!(childNode instanceof Node)) return\n\n                super.removeChild(childNode)\n\n                this.off('sizechange', childNode._onParentSizeChange)\n\n                childNode._resetSceneRef()\n\n                if (childNode._mountPromise) childNode._rejectMountPromise('mountcancel')\n                if (childNode._mounted) childNode._elementManager.shouldNotRender()\n                childNode._resetMountPromise()\n\n                if (!leaveInDom)\n                    this._elementManager.disconnectChildElement(childNode)\n            }\n\n            _resetMountPromise() {\n                this._mounted = false\n                this._mountPromise = null\n                this._resolveMountPromise = null\n                this._rejectMountPromise = null\n                const children = this._children\n                for (let i=0, l=children.length; i<l; i+=1) {\n                    children[i]._resetMountPromise();\n                }\n            }\n\n            _needsToBeRendered() {\n                if (this._awaitingMountPromiseToRender) return Promise.resolve()\n\n                const logic = () => {\n                    this._willBeRendered = true\n                    Motor._setNodeToBeRendered(this)\n                }\n\n                if (!this._mounted) {\n                    this._awaitingMountPromiseToRender = true\n\n                    let possibleError = undefined\n\n                    // try\n                    return this.mountPromise\n\n                    .then(logic)\n\n                    // catch\n                    .catch(() => {\n                        if (e == 'mountcancel') return\n                        else possibleError = e\n                    })\n\n                    // finally\n                    .then(() => {\n                        this._awaitingMountPromiseToRender = false\n\n                        if (possibleError) throw possibleError\n                    })\n                }\n\n                logic()\n                return Promise.resolve()\n            }\n            //async _needsToBeRendered() {\n                //if (this._awaitingMountPromiseToRender) return\n\n                //if (!this._mounted) {\n                    //try {\n                        //this._awaitingMountPromiseToRender = true\n                        //await this.mountPromise\n                    //} catch(e) {\n                        //if (e == 'mountcancel') return\n                        //else throw e\n                    //} finally {\n                        //this._awaitingMountPromiseToRender = false\n                    //}\n                //}\n\n                //this._willBeRendered = true\n                //Motor._setNodeToBeRendered(this)\n            //}\n\n            // This method is used by Motor._renderNodes().\n            _getAncestorToBeRendered() {\n                let parent = this._parent\n\n                while (parent) {\n                    if (parent._willBeRendered) return parent\n                    parent = parent._parent\n                }\n\n                return false\n            }\n\n            _render(timestamp) {\n                super._render()\n                // applies the transform matrix to the element's style property.\n                this._elementManager.applyImperativeNodeProperties(this)\n            }\n        }\n\n        const {set: superPropertiesSet} = Object.getOwnPropertyDescriptor(ParentClass.prototype, 'properties')\n\n        Object.defineProperties(ImperativeBase.prototype, {\n\n            /**\n             * Set all properties of an ImperativeBase instance in one method.\n             *\n             * @param {Object} properties Properties object - see example.\n             *\n             * @example\n             * node.properties = {\n             *   classes: ['open', 'big'],\n             * }\n             */\n            properties: {\n                set(properties = {}) {\n                    superPropertiesSet.call(this, properties)\n\n                    if (properties.classes)\n                        this._elementManager.setClasses(...properties.classes);\n                },\n                configurable: true,\n            },\n        })\n\n        Object.defineProperty(ImperativeBase, Symbol.hasInstance, {\n            value: function(obj) {\n                if (this !== ImperativeBase) return Object.getPrototypeOf(ImperativeBase)[Symbol.hasInstance].call(this, obj)\n\n                let currentProto = obj\n\n                while(currentProto) {\n                    const desc = Object.getOwnPropertyDescriptor(currentProto, \"constructor\")\n\n                    if (desc && desc.value && desc.value.hasOwnProperty(instanceofSymbol))\n                        return true\n\n                    currentProto = Object.getPrototypeOf(currentProto)\n                }\n\n                return false\n            }\n        })\n\n        ImperativeBase[instanceofSymbol] = true\n\n        return ImperativeBase\n    }\n\n    ImperativeBase = ImperativeBaseMixin(Sizeable)\n    ImperativeBase.mixin = ImperativeBaseMixin\n\n}\n\nexport {ImperativeBase as default}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ImperativeBase.js","import 'geometry-interfaces'\nimport Transformable from './Transformable'\nimport ImperativeBase, {initImperativeBase} from './ImperativeBase'\nimport MotorHTMLNode from '../html/node'\nimport Scene from './Scene'\n\ninitImperativeBase()\n\nclass Node extends ImperativeBase.mixin(Transformable) {\n\n    /**\n     * @constructor\n     *\n     * @param {Object} options Initial properties that the node will\n     * have. This can be used when creating a node, alternatively to using the\n     * setters/getters for position, rotation, etc.\n     *\n     * @example\n     * var node = new Node({\n     *   absoluteSize: {x:100, y:100, z:100},\n     *   rotation: {x:30, y:20, z:25}\n     * })\n     */\n    constructor (options = {}) {\n        super(options)\n\n        // This was when using my `multiple()` implementation, we could call\n        // specific constructors using specific arguments. But, we're using\n        // class-factory style mixins for now, so we don't have control over the\n        // specific arguments we can pass to the constructors, so we're just\n        // using a single `options` parameter in all the constructors.\n        //this.callSuperConstructor(Transformable, options)\n        //this.callSuperConstructor(TreeNode)\n        //this.callSuperConstructor(ImperativeBase)\n\n        this._scene = null // stores a ref to this Node's root Scene.\n\n        // This is an internal promise that resolves when this Node is added to\n        // to a scene graph that has a root Scene TreeNode. The resolved value\n        // is the root Scene.\n        this._scenePromise = null\n        this._resolveScenePromise = null\n\n        /**\n         * @private\n         * This method is defined here in the consructor as an arrow function\n         * because parent Nodes pass it to Observable#on and Observable#off. If\n         * it were a prototype method, then it would need to be bound when\n         * passed to Observable#on, which would require keeping track of the\n         * bound function reference in order to be able to pass it to\n         * Observable#off later. See ImperativeBase#addChild and\n         * ImperativeBase#removeChild.\n         */\n        this._onParentSizeChange = () => {\n\n            // We only need to recalculate sizing and matrices if this node has\n            // properties that depend on parent sizing (proportional size,\n            // align, and mountPoint). mountPoint isn't obvious: if this node\n            // is proportionally sized, then the mountPoint will depend on the\n            // size of this element which depends on the size of this element's\n            // parent.\n            if (\n                this._properties.sizeMode.x === \"proportional\"\n                || this._properties.sizeMode.y === \"proportional\"\n                || this._properties.sizeMode.z === \"proportional\"\n\n                || this._properties.align.x !== 0\n                || this._properties.align.y !== 0\n                || this._properties.align.z !== 0\n            ) {\n                this._calcSize()\n                this._needsToBeRendered()\n            }\n        }\n\n        this._calcSize()\n        this._needsToBeRendered()\n    }\n\n    /**\n     * @private\n     */\n    _waitForMountThenResolveMountPromise() {\n        if (this._awaitingScenePromise) return Promise.resolve()\n\n        const logic = () => {\n            this._mounted = true\n            this._resolveMountPromise()\n            this._elementManager.shouldRender()\n        }\n\n        this._awaitingScenePromise = true\n\n        let possibleError = undefined\n\n        // try\n        return this._getScenePromise()\n        .then(() => this._scene.mountPromise)\n\n        .then(logic)\n\n        // catch\n        .catch(() => {\n            if (e == 'mountcancel') return\n            else possibleError = e\n        })\n\n        // finally\n        .then(() => {\n            this._awaitingScenePromise = false\n\n            if (possibleError) throw possibleError\n        })\n    }\n    //async _waitForMountThenResolveMountPromise() {\n        //if (this._awaitingScenePromise) return\n        //try {\n            //this._awaitingScenePromise = true\n            //await this._getScenePromise()\n            //await this._scene.mountPromise\n        //} catch (e) {\n            //if (e == 'mountcancel') return\n            //else throw e\n        //} finally {\n            //this._awaitingScenePromise = false\n        //}\n\n        //this._mounted = true\n        //this._resolveMountPromise()\n        //this._elementManager.shouldRender()\n    //}\n\n    /**\n     * @override\n     */\n    _makeElement() {\n        return new MotorHTMLNode\n    }\n\n    /**\n     * @private\n     * Get a promise for the node's eventual scene.\n     */\n    _getScenePromise() {\n        if (!this._scenePromise) {\n            this._scenePromise = new Promise((a, b) => {\n                this._resolveScenePromise = a\n            })\n        }\n\n        if (this._scene)\n            this._resolveScenePromise()\n\n        return this._scenePromise\n    }\n\n    /**\n     * Get the Scene that this Node is in, null if no Scene. This is recursive\n     * at first, then cached.\n     *\n     * This traverses up the scene graph tree starting at this Node and finds\n     * the root Scene, if any. It caches the value for performance. If this\n     * Node is removed from a parent node with parent.removeChild(), then the\n     * cache is invalidated so the traversal can happen again when this Node is\n     * eventually added to a new tree. This way, if the scene is cached on a\n     * parent Node that we're adding this Node to then we can get that cached\n     * value instead of traversing the tree.\n     *\n     * @readonly\n     */\n    get scene() {\n        // NOTE: this._scene is initally null, created in the constructor.\n\n        // if already cached, return it. Or if no parent, return it (it'll be null).\n        if (this._scene || !this._parent) return this._scene\n\n        // if the parent node already has a ref to the scene, use that.\n        if (this._parent._scene) {\n            this._scene = this._parent._scene\n        }\n        else if (this._parent instanceof Scene) {\n            this._scene = this._parent\n        }\n        // otherwise call the scene getter on the parent, which triggers\n        // traversal up the scene graph in order to find the root scene (null\n        // if none).\n        else {\n            this._scene = this._parent.scene\n        }\n\n        return this._scene\n    }\n\n    /**\n     * @private\n     * This method to be called only when this Node has this.scene.\n     * Resolves the _scenePromise for all children of the tree of this Node.\n     */\n    _giveSceneRefToChildren() {\n        const children = this._children;\n        for (let i=0, l=children.length; i<l; i+=1) {\n            const childNode = children[i]\n            childNode._scene = this._scene\n            if (childNode._resolveScenePromise)\n                childNode._resolveScenePromise(childNode._scene)\n            childNode._giveSceneRefToChildren();\n        }\n    }\n\n    _resetSceneRef() {\n        this._scene = null\n        this._scenePromise = null\n        this._resolveScenePromise = null\n        const children = this._children;\n        for (let i=0, l=children.length; i<l; i+=1) {\n            children[i]._resetSceneRef();\n        }\n    }\n}\n\nexport {Node as default}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/Node.js","import Node from './Node'\nimport Motor from './Motor'\n\n/**\n * Manages a DOM element. Exposes a set of recommended APIs for working with\n * DOM efficiently. Currently doesn't do much yet...\n */\nclass ElementManager {\n    constructor(element) {\n        this.element = element\n    }\n\n    /**\n     * @param {Array.string} classes An array of class names to add to the\n     * managed element.\n     *\n     * Note: updating class names with `el.classList.add()` won't thrash the\n     * layout. See: http://www.html5rocks.com/en/tutorials/speed/animations\n     */\n    setClasses (...classes) {\n        if (classes.length) this.element.classList.add(...classes)\n        return this\n    }\n\n    /**\n     * Apply a style property to the element.\n     *\n     * @private\n     * @param  {string} property The CSS property we will a apply.\n     * @param  {string} value    The value the CSS property wil have.\n     */\n    applyStyle(property, value) {\n        this.element.style[property] = value\n    }\n\n    addChild(childElementManager) {\n        this.element.appendChild(childElementManager.element)\n    }\n\n    removeChild(childElementManager) {\n        // This conditional check is needed incase the element was already\n        // removed from the HTML-API side.\n        if (childElementManager.element.parentNode === this.element)\n            this.element.removeChild(childElementManager.element)\n    }\n\n    connectChildElement(childImperativeNode) {\n        if (\n\n            // When using the imperative API, this statement is\n            // true, so the DOM elements need to be connected.\n            !childImperativeNode._elementManager.element.parentNode\n\n            // This condition is irrelevant when strictly using the\n            // imperative API. However, it is possible that when\n            // using the HTML API that the HTML-API node can be placed\n            // somewhere that isn't another HTML-API node, and the\n            // imperative Node can be gotten and used to add the\n            // node to another imperative Node. In this case, the\n            // HTML-API node will be added to the proper HTMLparent.\n            || (childImperativeNode._elementManager.element.parentElement &&\n                childImperativeNode._elementManager.element.parentElement !== this.element)\n\n            // When an HTML-API node is already child of the\n            // relevant parent, or it is child of a shadow root of\n            // the relevant parent, there there's nothing to do,\n            // everything is already as expected, so the following\n            // conditional body is skipped.\n        ) {\n            this.addChild(childImperativeNode._elementManager)\n        }\n    }\n\n    disconnectChildElement(childImperativeNode) {\n        // If DeclarativeBase#removeChild was called first, we don't need to\n        // call this again.\n        if (!childImperativeNode._elementManager.element.parentNode) return\n\n        this.removeChild(childImperativeNode._elementManager)\n    }\n\n    /**\n     * Apply the DOMMatrix value to the style of this Node's element.\n     */\n    applyTransform (domMatrix) {\n        var cssMatrixString = `matrix3d(\n            ${ domMatrix.m11 },\n            ${ domMatrix.m12 },\n            ${ domMatrix.m13 },\n            ${ domMatrix.m14 },\n            ${ domMatrix.m21 },\n            ${ domMatrix.m22 },\n            ${ domMatrix.m23 },\n            ${ domMatrix.m24 },\n            ${ domMatrix.m31 },\n            ${ domMatrix.m32 },\n            ${ domMatrix.m33 },\n            ${ domMatrix.m34 },\n            ${ domMatrix.m41 },\n            ${ domMatrix.m42 },\n            ${ domMatrix.m43 },\n            ${ domMatrix.m44 }\n        )`;\n\n        this.applyStyle('transform', cssMatrixString)\n    }\n\n    /**\n     * [applySize description]\n     */\n    applySize (size) {\n        const {x,y} = size\n\n        this.applyStyle('width', `${x}px`)\n        this.applyStyle('height', `${y}px`)\n\n        // NOTE: we ignore the Z axis on elements, since they are flat.\n    }\n\n    applyOpacity(opacity) {\n        this.applyStyle('opacity', opacity)\n    }\n\n    applyImperativeNodeProperties(node) {\n\n        // Only Node is Transformable\n        if (node instanceof Node) {\n            this.applyOpacity(node._properties.opacity)\n            this.applyTransform(node._properties.transform)\n        }\n\n        // But both Node and Scene are Sizeable\n        this.applySize(node._calculatedSize)\n    }\n\n    shouldRender() {\n        const task = Motor.addRenderTask(() => {\n            this.applyStyle('display', 'block')\n            Motor.removeRenderTask(task)\n        })\n    }\n\n    shouldNotRender() {\n        const task = Motor.addRenderTask(() => {\n            this.applyStyle('display', 'none')\n            Motor.removeRenderTask(task)\n        })\n    }\n}\n\nexport {ElementManager as default}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/ElementManager.js","import ElementManager from './ElementManager'\nimport Motor from './Motor'\nimport Node from './Node'\nimport Scene from './Scene'\nimport Sizeable from './Sizeable'\nimport Transformable from './Transformable'\nimport TreeNode from './TreeNode'\nimport XYZValues from './XYZValues'\n\nimport * as Utility from './Utility'\n\nexport {\n    ElementManager,\n    Motor,\n    Node,\n    Scene,\n    Sizeable,\n    Transformable,\n    TreeNode,\n    XYZValues,\n\n    Utility,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/index.js","import Node from '../core/Node'\n\nexport default\nclass PushPaneLayout extends Node {\n    constructor(...args) {\n        console.log(' -- PushPaneLayout created')\n        super(...args)\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/PushPaneLayout.js","import MotorHTMLNode from './node'\nimport PushPaneLayout from '../components/PushPaneLayout'\n\nclass MotorHTMLPushPaneLayout extends MotorHTMLNode {\n    createdCallback() {\n        console.log(' -- MotorHTMLPushPaneLayout created')\n        super.createdCallback()\n    }\n\n    // @override\n    _makeImperativeCounterpart() {\n        return new PushPaneLayout({}, this)\n    }\n}\n\nexport {MotorHTMLPushPaneLayout as default}\n\n\n\n// WEBPACK FOOTER //\n// ./src/html/push-pane-layout.js","import MotorHTMLBase from './base'\nimport MotorHTMLNode from './node'\nimport MotorHTMLPushPaneLayout from './push-pane-layout'\nimport MotorHTMLScene from './scene'\nimport WebComponent from './web-component'\n\nexport {\n    MotorHTMLBase,\n    MotorHTMLNode,\n    MotorHTMLPushPaneLayout,\n    MotorHTMLScene,\n    WebComponent,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/html/index.js","/*\n * LICENSE\n *\n * This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n */\nimport forLength from 'army-knife/forLength';\nimport Node from '../core/Node'\n\n/**\n * A scenegraph tree that lays things out in a cube form.\n *\n * XXX: Rename to CubeLayout?\n *\n * @class Cube\n * @extends Node\n */\nexport class Cube extends Node {\n\n    /**\n     * Create a new Cube.\n     *\n     * @constructor\n     * @param {Number} size The integer width of the cube.\n     */\n    constructor(size, options) {\n\n        // cubes, the same size on all sides\n        super({absoluteSize: [size, size, size], ...options});\n\n        //GenericSync.register({\n            //mouse: MouseSync,\n            //touch: TouchSync\n        //});\n\n        this.size = size;\n        this.sides = [];\n\n        forLength(6, n => this._createCubeSide(n));\n    }\n\n    /**\n     * Creates the 6 sides of the cube (the leafnodes of the scenegraph).\n     *\n     * @private\n     * @param {Number} index The index (a integer between 0 and 5) that specifies which side to create.\n     */\n    _createCubeSide(index) {\n        const rotator = new Node({\n            align: [0.5, 0.5],\n            mountPoint: [0.5, 0.5],\n        })\n\n        const side = new Node({\n            align: [0.5, 0.5],\n            mountPoint: [0.5, 0.5],\n            absoluteSize: [this.size, this.size],\n        })\n\n        this.sides.push(side)\n\n        rotator.addChild(side)\n\n        // XXX: make a new GenericSync-like thing?\n        //const sync = new GenericSync(['mouse','touch']);\n        //side.pipe(sync);\n        //sync.pipe(this.options.handler);\n\n        // rotate and place each side.\n        if (index < 4) // 4 sides\n            rotator.rotation.y = 90 * index\n        else // top/bottom\n            rotator.rotation.x = 90 * ( index % 2 ? -1 : 1 )\n\n        side.position.z = this.size / 2\n\n        this.addChild(rotator)\n    }\n\n    /**\n     * Set the content for the sides of the cube.\n     *\n     * @param {Array} content An array containing [Node](#infamous/motor/Node)\n     * instances to place in the cube sides. Only the first 6 items are used,\n     * the rest are ignored.\n     */\n    setContent(content) {\n        forLength(6, index => {\n            //this.cubeSideNodes[index].set(null); // TODO: how do we erase previous content?\n            this.sides[index].addChild(content[index])\n        })\n        return this;\n    }\n}\nexport default Cube;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Cube.js","import Cube from './Cube'\nimport PushPaneLayout from './PushPaneLayout'\n\nexport {\n    Cube,\n    PushPaneLayout,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/index.js","import Calendar from './Calendar'\nimport DoubleSidedPlane from './DoubleSidedPlane'\nimport Grid from './Grid'\nimport Molecule from './Molecule'\nimport Plane from './Plane'\nimport PushMenuLayout from './PushMenuLayout'\n\nimport * as utils from './utils'\nimport * as core from './core'\nimport * as html from './html'\nimport * as components from './components'\n\nexport {\n    Calendar,\n    DoubleSidedPlane,\n    Grid,\n    Molecule,\n    Plane,\n    PushMenuLayout,\n\n    utils,\n    core,\n    html,\n    components,\n}\n\nexport const version = '17.0.4'\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: david@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n/*eslint-disable new-cap */\n    var Utility = require('../utilities/Utility');\n\n    /**\n     * Transition meta-method to support transitioning multiple\n     *   values with scalar-only methods.\n     *\n     *\n     * @class MultipleTransition\n     * @constructor\n     *\n     * @param {Object} method Transionable class to multiplex\n     */\n    function MultipleTransition(method) {\n        this.method = method;\n        this._instances = [];\n        this.state = [];\n    }\n\n    MultipleTransition.SUPPORTS_MULTIPLE = true;\n\n    /**\n     * Get the state of each transition.\n     *\n     * @method get\n     *\n     * @return state {Number|Array} state array\n     */\n    MultipleTransition.prototype.get = function get() {\n        for (var i = 0; i < this._instances.length; i++) {\n            this.state[i] = this._instances[i].get();\n        }\n        return this.state;\n    };\n\n    /**\n     * Set the end states with a shared transition, with optional callback.\n     *\n     * @method set\n     *\n     * @param {Number|Array} endState Final State.  Use a multi-element argument for multiple transitions.\n     * @param {Object} transition Transition definition, shared among all instances\n     * @param {Function} callback called when all endStates have been reached.\n     */\n    MultipleTransition.prototype.set = function set(endState, transition, callback) {\n        var _allCallback = Utility.after(endState.length, callback);\n        for (var i = 0; i < endState.length; i++) {\n            if (!this._instances[i]) this._instances[i] = new (this.method)();\n            this._instances[i].set(endState[i], transition, _allCallback);\n        }\n    };\n\n    /**\n     * Reset all transitions to start state.\n     *\n     * @method reset\n     *\n     * @param  {Number|Array} startState Start state\n     */\n    MultipleTransition.prototype.reset = function reset(startState) {\n        for (var i = 0; i < startState.length; i++) {\n            if (!this._instances[i]) this._instances[i] = new (this.method)();\n            this._instances[i].reset(startState[i]);\n        }\n    };\n\n    module.exports = MultipleTransition;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/transitions/MultipleTransition.js\n// module id = 60\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: david@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n\n    /**\n     *\n     * A state maintainer for a smooth transition between\n     *    numerically-specified states.  Example numeric states include floats or\n     *    Transfornm objects.\n     *\n     *    An initial state is set with the constructor or set(startValue). A\n     *    corresponding end state and transition are set with set(endValue,\n     *    transition). Subsequent calls to set(endValue, transition) begin at\n     *    the last state. Calls to get(timestamp) provide the _interpolated state\n     *    along the way.\n     *\n     *   Note that there is no event loop here - calls to get() are the only way\n     *    to find out state projected to the current (or provided) time and are\n     *    the only way to trigger callbacks. Usually this kind of object would\n     *    be part of the render() path of a visible component.\n     *\n     * @class TweenTransition\n     * @constructor\n     *\n     * @param {Object} options TODO\n     *    beginning state\n     */\n    function TweenTransition(options) {\n        this.options = Object.create(TweenTransition.DEFAULT_OPTIONS);\n        if (options) this.setOptions(options);\n\n        this._startTime = 0;\n        this._startValue = 0;\n        this._updateTime = 0;\n        this._endValue = 0;\n        this._curve = undefined;\n        this._duration = 0;\n        this._active = false;\n        this._callback = undefined;\n        this.state = 0;\n        this.velocity = undefined;\n    }\n\n    /**\n     * Transition curves mapping independent variable t from domain [0,1] to a\n     *    range within [0,1]. Includes functions 'linear', 'easeIn', 'easeOut',\n     *    'easeInOut', 'easeOutBounce', 'spring'.\n     *\n     * @property {object} Curve\n     * @final\n     */\n    TweenTransition.Curves = {\n        linear: function(t) {\n            return t;\n        },\n        easeIn: function(t) {\n            return t*t;\n        },\n        easeOut: function(t) {\n            return t*(2-t);\n        },\n        easeInOut: function(t) {\n            if (t <= 0.5) return 2*t*t;\n            else return -2*t*t + 4*t - 1;\n        },\n        easeOutBounce: function(t) {\n            return t*(3 - 2*t);\n        },\n        spring: function(t) {\n            return (1 - t) * Math.sin(6 * Math.PI * t) + t;\n        }\n    };\n\n    TweenTransition.SUPPORTS_MULTIPLE = true;\n    TweenTransition.DEFAULT_OPTIONS = {\n        curve: TweenTransition.Curves.linear,\n        duration: 500,\n        speed: 0 /* considered only if positive */\n    };\n\n    var registeredCurves = {};\n\n    /**\n     * Add \"unit\" curve to internal dictionary of registered curves.\n     *\n     * @method registerCurve\n     *\n     * @static\n     *\n     * @param {string} curveName dictionary key\n     * @param {unitCurve} curve function of one numeric variable mapping [0,1]\n     *    to range inside [0,1]\n     * @return {boolean} false if key is taken, else true\n     */\n    TweenTransition.registerCurve = function registerCurve(curveName, curve) {\n        if (!registeredCurves[curveName]) {\n            registeredCurves[curveName] = curve;\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n\n    /**\n     * Remove object with key \"curveName\" from internal dictionary of registered\n     *    curves.\n     *\n     * @method unregisterCurve\n     *\n     * @static\n     *\n     * @param {string} curveName dictionary key\n     * @return {boolean} false if key has no dictionary value\n     */\n    TweenTransition.unregisterCurve = function unregisterCurve(curveName) {\n        if (registeredCurves[curveName]) {\n            delete registeredCurves[curveName];\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n\n    /**\n     * Retrieve function with key \"curveName\" from internal dictionary of\n     *    registered curves. Default curves are defined in the\n     *    TweenTransition.Curves array, where the values represent\n     *    unitCurve functions.\n     *\n     * @method getCurve\n     *\n     * @static\n     *\n     * @param {string} curveName dictionary key\n     * @return {unitCurve} curve function of one numeric variable mapping [0,1]\n     *    to range inside [0,1]\n     */\n    TweenTransition.getCurve = function getCurve(curveName) {\n        var curve = registeredCurves[curveName];\n        if (curve !== undefined) return curve;\n        else throw new Error('curve not registered');\n    };\n\n    /**\n     * Retrieve all available curves.\n     *\n     * @method getCurves\n     *\n     * @static\n     *\n     * @return {object} curve functions of one numeric variable mapping [0,1]\n     *    to range inside [0,1]\n     */\n    TweenTransition.getCurves = function getCurves() {\n        return registeredCurves;\n    };\n\n     // Interpolate: If a linear function f(0) = a, f(1) = b, then return f(t)\n    function _interpolate(a, b, t) {\n        return ((1 - t) * a) + (t * b);\n    }\n\n    function _clone(obj) {\n        if (obj instanceof Object) {\n            if (obj instanceof Array) return obj.slice(0);\n            else return Object.create(obj);\n        }\n        else return obj;\n    }\n\n    // Fill in missing properties in \"transition\" with those in defaultTransition, and\n    //   convert internal named curve to function object, returning as new\n    //   object.\n    function _normalize(transition, defaultTransition) {\n        var result = {curve: defaultTransition.curve};\n        if (defaultTransition.duration) result.duration = defaultTransition.duration;\n        if (defaultTransition.speed) result.speed = defaultTransition.speed;\n        if (transition instanceof Object) {\n            if (transition.duration !== undefined) result.duration = transition.duration;\n            if (transition.curve) result.curve = transition.curve;\n            if (transition.speed) result.speed = transition.speed;\n        }\n        if (typeof result.curve === 'string') result.curve = TweenTransition.getCurve(result.curve);\n        return result;\n    }\n\n    /**\n     * Set internal options, overriding any default options.\n     *\n     * @method setOptions\n     *\n     *\n     * @param {Object} options options object\n     * @param {Object} [options.curve] function mapping [0,1] to [0,1] or identifier\n     * @param {Number} [options.duration] duration in ms\n     * @param {Number} [options.speed] speed in pixels per ms\n     */\n    TweenTransition.prototype.setOptions = function setOptions(options) {\n        if (options.curve !== undefined) this.options.curve = options.curve;\n        if (options.duration !== undefined) this.options.duration = options.duration;\n        if (options.speed !== undefined) this.options.speed = options.speed;\n    };\n\n    /**\n     * Add transition to end state to the queue of pending transitions. Special\n     *    Use: calling without a transition resets the object to that state with\n     *    no pending actions\n     *\n     * @method set\n     *\n     *\n     * @param {number|FamousMatrix|Array.Number|Object.<number, number>} endValue\n     *    end state to which we _interpolate\n     * @param {transition=} transition object of type {duration: number, curve:\n     *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\n     *    instantaneous.\n     * @param {function()=} callback Zero-argument function to call on observed\n     *    completion (t=1)\n     */\n    TweenTransition.prototype.set = function set(endValue, transition, callback) {\n        if (!transition) {\n            this.reset(endValue);\n            if (callback) callback();\n            return;\n        }\n\n        this._startValue = _clone(this.get());\n        transition = _normalize(transition, this.options);\n        if (transition.speed) {\n            var startValue = this._startValue;\n            if (startValue instanceof Object) {\n                var variance = 0;\n                for (var i in startValue) variance += (endValue[i] - startValue[i]) * (endValue[i] - startValue[i]);\n                transition.duration = Math.sqrt(variance) / transition.speed;\n            }\n            else {\n                transition.duration = Math.abs(endValue - startValue) / transition.speed;\n            }\n        }\n\n        this._startTime = Date.now();\n        this._endValue = _clone(endValue);\n        this._startVelocity = _clone(transition.velocity);\n        this._duration = transition.duration;\n        this._curve = transition.curve;\n        this._active = true;\n        this._callback = callback;\n    };\n\n    /**\n     * Cancel all transitions and reset to a stable state\n     *\n     * @method reset\n     *\n     * @param {number|Array.Number|Object.<number, number>} startValue\n     *    starting state\n     * @param {number} startVelocity\n     *    starting velocity\n     */\n    TweenTransition.prototype.reset = function reset(startValue, startVelocity) {\n        if (this._callback) {\n            var callback = this._callback;\n            this._callback = undefined;\n            callback();\n        }\n        this.state = _clone(startValue);\n        this.velocity = _clone(startVelocity);\n        this._startTime = 0;\n        this._duration = 0;\n        this._updateTime = 0;\n        this._startValue = this.state;\n        this._startVelocity = this.velocity;\n        this._endValue = this.state;\n        this._active = false;\n    };\n\n    /**\n     * Get current velocity\n     *\n     * @method getVelocity\n     *\n     * @returns {Number} velocity\n     */\n    TweenTransition.prototype.getVelocity = function getVelocity() {\n        return this.velocity;\n    };\n\n    /**\n     * Get interpolated state of current action at provided time. If the last\n     *    action has completed, invoke its callback.\n     *\n     * @method get\n     *\n     *\n     * @param {number=} timestamp Evaluate the curve at a normalized version of this\n     *    time. If omitted, use current time. (Unix epoch time)\n     * @return {number|Object.<number|string, number>} beginning state\n     *    _interpolated to this point in time.\n     */\n    TweenTransition.prototype.get = function get(timestamp) {\n        this.update(timestamp);\n        return this.state;\n    };\n\n    function _calculateVelocity(current, start, curve, duration, t) {\n        var velocity;\n        var eps = 1e-7;\n        var speed = (curve(t) - curve(t - eps)) / eps;\n        if (current instanceof Array) {\n            velocity = [];\n            for (var i = 0; i < current.length; i++){\n                if (typeof current[i] === 'number')\n                    velocity[i] = speed * (current[i] - start[i]) / duration;\n                else\n                    velocity[i] = 0;\n            }\n\n        }\n        else velocity = speed * (current - start) / duration;\n        return velocity;\n    }\n\n    function _calculateState(start, end, t) {\n        var state;\n        if (start instanceof Array) {\n            state = [];\n            for (var i = 0; i < start.length; i++) {\n                if (typeof start[i] === 'number')\n                    state[i] = _interpolate(start[i], end[i], t);\n                else\n                    state[i] = start[i];\n            }\n        }\n        else state = _interpolate(start, end, t);\n        return state;\n    }\n\n    /**\n     * Update internal state to the provided timestamp. This may invoke the last\n     *    callback and begin a new action.\n     *\n     * @method update\n     *\n     *\n     * @param {number=} timestamp Evaluate the curve at a normalized version of this\n     *    time. If omitted, use current time. (Unix epoch time)\n     */\n    TweenTransition.prototype.update = function update(timestamp) {\n        if (!this._active) {\n            if (this._callback) {\n                var callback = this._callback;\n                this._callback = undefined;\n                callback();\n            }\n            return;\n        }\n\n        if (!timestamp) timestamp = Date.now();\n        if (this._updateTime >= timestamp) return;\n        this._updateTime = timestamp;\n\n        var timeSinceStart = timestamp - this._startTime;\n        if (timeSinceStart >= this._duration) {\n            this.state = this._endValue;\n            this.velocity = _calculateVelocity(this.state, this._startValue, this._curve, this._duration, 1);\n            this._active = false;\n        }\n        else if (timeSinceStart < 0) {\n            this.state = this._startValue;\n            this.velocity = this._startVelocity;\n        }\n        else {\n            var t = timeSinceStart / this._duration;\n            this.state = _calculateState(this._startValue, this._endValue, this._curve(t));\n            this.velocity = _calculateVelocity(this.state, this._startValue, this._curve, this._duration, t);\n        }\n    };\n\n    /**\n     * Is there at least one action pending completion?\n     *\n     * @method isActive\n     *\n     *\n     * @return {boolean}\n     */\n    TweenTransition.prototype.isActive = function isActive() {\n        return this._active;\n    };\n\n    /**\n     * Halt transition at current state and erase all pending actions.\n     *\n     * @method halt\n     *\n     */\n    TweenTransition.prototype.halt = function halt() {\n        this.reset(this.get());\n    };\n\n    // Register all the default curves\n    TweenTransition.registerCurve('linear', TweenTransition.Curves.linear);\n    TweenTransition.registerCurve('easeIn', TweenTransition.Curves.easeIn);\n    TweenTransition.registerCurve('easeOut', TweenTransition.Curves.easeOut);\n    TweenTransition.registerCurve('easeInOut', TweenTransition.Curves.easeInOut);\n    TweenTransition.registerCurve('easeOutBounce', TweenTransition.Curves.easeOutBounce);\n    TweenTransition.registerCurve('spring', TweenTransition.Curves.spring);\n\n    TweenTransition.customCurve = function customCurve(v1, v2) {\n        v1 = v1 || 0; v2 = v2 || 0;\n        return function(t) {\n            return v1*t + (-2*v1 - v2 + 3)*t*t + (v1 + v2 - 2)*t*t*t;\n        };\n    };\n\n    module.exports = TweenTransition;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/transitions/TweenTransition.js\n// module id = 61\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n    var Transform = require('./Transform');\n\n    /**\n     *\n     * This object translates the rendering instructions (\"render specs\")\n     *   that renderable components generate into document update\n     *   instructions (\"update specs\").  Private.\n     *\n     * @private\n     * @class SpecParser\n     * @constructor\n     */\n    function SpecParser() {\n        this.result = {};\n    }\n    SpecParser._instance = new SpecParser();\n\n    /**\n     * Convert a render spec coming from the context's render chain to an\n     *    update spec for the update chain. This is the only major entry point\n     *    for a consumer of this class.\n     *\n     * @method parse\n     * @static\n     * @private\n     *\n     * @param {renderSpec} spec input render spec\n     * @param {Object} context context to do the parse in\n     * @return {Object} the resulting update spec (if no callback\n     *   specified, else none)\n     */\n    SpecParser.parse = function parse(spec, context) {\n        return SpecParser._instance.parse(spec, context);\n    };\n\n    /**\n     * Convert a renderSpec coming from the context's render chain to an update\n     *    spec for the update chain. This is the only major entrypoint for a\n     *    consumer of this class.\n     *\n     * @method parse\n     *\n     * @private\n     * @param {renderSpec} spec input render spec\n     * @param {Context} context\n     * @return {updateSpec} the resulting update spec\n     */\n    SpecParser.prototype.parse = function parse(spec, context) {\n        this.reset();\n        this._parseSpec(spec, context, Transform.identity);\n        return this.result;\n    };\n\n    /**\n     * Prepare SpecParser for re-use (or first use) by setting internal state\n     *  to blank.\n     *\n     * @private\n     * @method reset\n     */\n    SpecParser.prototype.reset = function reset() {\n        this.result = {};\n    };\n\n    // Multiply matrix M by vector v\n    function _vecInContext(v, m) {\n        return [\n            v[0] * m[0] + v[1] * m[4] + v[2] * m[8],\n            v[0] * m[1] + v[1] * m[5] + v[2] * m[9],\n            v[0] * m[2] + v[1] * m[6] + v[2] * m[10]\n        ];\n    }\n\n    var _zeroZero = [0, 0];\n\n    // From the provided renderSpec tree, recursively compose opacities,\n    //    origins, transforms, and sizes corresponding to each surface id from\n    //    the provided renderSpec tree structure. On completion, those\n    //    properties of 'this' object should be ready to use to build an\n    //    updateSpec.\n    SpecParser.prototype._parseSpec = function _parseSpec(spec, parentContext, sizeContext) {\n        var id;\n        var target;\n        var transform;\n        var opacity;\n        var origin;\n        var align;\n        var size;\n\n        if (typeof spec === 'number') {\n            id = spec;\n            transform = parentContext.transform;\n            align = parentContext.align || _zeroZero;\n            if (parentContext.size && align && (align[0] || align[1])) {\n                var alignAdjust = [align[0] * parentContext.size[0], align[1] * parentContext.size[1], 0];\n                transform = Transform.thenMove(transform, _vecInContext(alignAdjust, sizeContext));\n            }\n            this.result[id] = {\n                transform: transform,\n                opacity: parentContext.opacity,\n                origin: parentContext.origin || _zeroZero,\n                align: parentContext.align || _zeroZero,\n                size: parentContext.size\n            };\n        }\n        else if (!spec) { // placed here so 0 will be cached earlier\n            return;\n        }\n        else if (spec instanceof Array) {\n            for (var i = 0; i < spec.length; i++) {\n                this._parseSpec(spec[i], parentContext, sizeContext);\n            }\n        }\n        else {\n            target = spec.target;\n            transform = parentContext.transform;\n            opacity = parentContext.opacity;\n            origin = parentContext.origin;\n            align = parentContext.align;\n            size = parentContext.size;\n            var nextSizeContext = sizeContext;\n\n            if (spec.opacity !== undefined) opacity = parentContext.opacity * spec.opacity;\n            if (spec.transform) transform = Transform.multiply(parentContext.transform, spec.transform);\n            if (spec.origin) {\n                origin = spec.origin;\n                nextSizeContext = parentContext.transform;\n            }\n            if (spec.align) align = spec.align;\n\n            if (spec.size || spec.proportions) {\n                var parentSize = size;\n                size = [size[0], size[1]];\n\n                if (spec.size) {\n                    if (spec.size[0] !== undefined) size[0] = spec.size[0];\n                    if (spec.size[1] !== undefined) size[1] = spec.size[1];\n                }\n\n                if (spec.proportions) {\n                    if (spec.proportions[0] !== undefined) size[0] = size[0] * spec.proportions[0];\n                    if (spec.proportions[1] !== undefined) size[1] = size[1] * spec.proportions[1];\n                }\n\n                if (parentSize) {\n                    if (align && (align[0] || align[1])) transform = Transform.thenMove(transform, _vecInContext([align[0] * parentSize[0], align[1] * parentSize[1], 0], sizeContext));\n                    if (origin && (origin[0] || origin[1])) transform = Transform.moveThen([-origin[0] * size[0], -origin[1] * size[1], 0], transform);\n                }\n\n                nextSizeContext = parentContext.transform;\n                origin = null;\n                align = null;\n            }\n\n            this._parseSpec(target, {\n                transform: transform,\n                opacity: opacity,\n                origin: origin,\n                align: align,\n                size: size\n            }, nextSizeContext);\n        }\n    };\n\n    module.exports = SpecParser;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/core/SpecParser.js\n// module id = 62\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n    /**\n     * EventEmitter represents a channel for events.\n     *\n     * @class EventEmitter\n     * @constructor\n     */\n    function EventEmitter() {\n        this.listeners = {};\n        this._owner = this;\n    }\n\n    /**\n     * Trigger an event, sending to all downstream handlers\n     *   listening for provided 'type' key.\n     *\n     * @method emit\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {Object} event event data\n     * @return {EventHandler} this\n     */\n    EventEmitter.prototype.emit = function emit(type, event) {\n        var handlers = this.listeners[type];\n        if (handlers) {\n            for (var i = 0; i < handlers.length; i++) {\n                handlers[i].call(this._owner, event);\n            }\n        }\n        return this;\n    };\n\n    /**\n     * Bind a callback function to an event type handled by this object.\n     *\n     * @method \"on\"\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {function(string, Object)} handler callback\n     * @return {EventHandler} this\n     */\n   EventEmitter.prototype.on = function on(type, handler) {\n        if (!(type in this.listeners)) this.listeners[type] = [];\n        var index = this.listeners[type].indexOf(handler);\n        if (index < 0) this.listeners[type].push(handler);\n        return this;\n    };\n\n    /**\n     * Alias for \"on\".\n     * @method addListener\n     */\n    EventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n   /**\n     * Unbind an event by type and handler.\n     *   This undoes the work of \"on\".\n     *\n     * @method removeListener\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {function} handler function object to remove\n     * @return {EventEmitter} this\n     */\n    EventEmitter.prototype.removeListener = function removeListener(type, handler) {\n        var listener = this.listeners[type];\n        if (listener !== undefined) {\n            var index = listener.indexOf(handler);\n            if (index >= 0) listener.splice(index, 1);\n        }\n        return this;\n    };\n\n    /**\n     * Call event handlers with this set to owner.\n     *\n     * @method bindThis\n     *\n     * @param {Object} owner object this EventEmitter belongs to\n     */\n    EventEmitter.prototype.bindThis = function bindThis(owner) {\n        this._owner = owner;\n    };\n\n    module.exports = EventEmitter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/core/EventEmitter.js\n// module id = 63\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n\n    /**\n     * The singleton object initiated upon process\n     *   startup which manages all active Context instances, runs\n     *   the render dispatch loop, and acts as a listener and dispatcher\n     *   for events.  All methods are therefore static.\n     *\n     *   On static initialization, window.requestAnimationFrame is called with\n     *     the event loop function.\n     *\n     *   Note: Any window in which Engine runs will prevent default\n     *     scrolling behavior on the 'touchmove' event.\n     *\n     * @static\n     * @class Engine\n     */\n    var Context = require('./Context');\n    var EventHandler = require('./EventHandler');\n    var OptionsManager = require('./OptionsManager');\n\n    var Engine = {};\n\n    var contexts = [];\n\n    var nextTickQueue = [];\n\n    var currentFrame = 0;\n    var nextTickFrame = 0;\n\n    var deferQueue = [];\n\n    var lastTime = Date.now();\n    var frameTime;\n    var frameTimeLimit;\n    var loopEnabled = true;\n    var eventForwarders = {};\n    var eventHandler = new EventHandler();\n\n    var options = {\n        containerType: 'div',\n        containerClass: 'famous-container',\n        fpsCap: undefined,\n        runLoop: true,\n        appMode: true\n    };\n    var optionsManager = new OptionsManager(options);\n\n    /** @const */\n    var MAX_DEFER_FRAME_TIME = 10;\n\n    /**\n     * Inside requestAnimationFrame loop, step() is called, which:\n     *   calculates current FPS (throttling loop if it is over limit set in setFPSCap),\n     *   emits dataless 'prerender' event on start of loop,\n     *   calls in order any one-shot functions registered by nextTick on last loop,\n     *   calls Context.update on all Context objects registered,\n     *   and emits dataless 'postrender' event on end of loop.\n     *\n     * @static\n     * @private\n     * @method step\n     */\n    Engine.step = function step() {\n        currentFrame++;\n        nextTickFrame = currentFrame;\n\n        var currentTime = Date.now();\n\n        // skip frame if we're over our framerate cap\n        if (frameTimeLimit && currentTime - lastTime < frameTimeLimit) return;\n\n        var i = 0;\n\n        frameTime = currentTime - lastTime;\n        lastTime = currentTime;\n\n        eventHandler.emit('prerender');\n\n        // empty the queue\n        var numFunctions = nextTickQueue.length;\n        while (numFunctions--) (nextTickQueue.shift())(currentFrame);\n\n        // limit total execution time for deferrable functions\n        while (deferQueue.length && (Date.now() - currentTime) < MAX_DEFER_FRAME_TIME) {\n            deferQueue.shift().call(this);\n        }\n\n        for (i = 0; i < contexts.length; i++) contexts[i].update();\n\n        eventHandler.emit('postrender');\n    };\n\n    // engage requestAnimationFrame\n    function loop() {\n        if (options.runLoop) {\n            Engine.step();\n            window.requestAnimationFrame(loop);\n        }\n        else loopEnabled = false;\n    }\n    window.requestAnimationFrame(loop);\n\n    //\n    // Upon main document window resize (unless on an \"input\" HTML element):\n    //   scroll to the top left corner of the window,\n    //   and for each managed Context: emit the 'resize' event and update its size.\n    // @param {Object=} event document event\n    //\n    function handleResize(event) {\n        for (var i = 0; i < contexts.length; i++) {\n            contexts[i].emit('resize');\n        }\n        eventHandler.emit('resize');\n    }\n    window.addEventListener('resize', handleResize, false);\n    handleResize();\n\n    /**\n     * Initialize famous for app mode\n     *\n     * @static\n     * @private\n     * @method initialize\n     */\n    function initialize() {\n        // prevent scrolling via browser\n        window.addEventListener('touchmove', function(event) {\n            event.preventDefault();\n        }, true);\n\n        addRootClasses();\n    }\n    var initialized = false;\n\n    function addRootClasses() {\n        if (!document.body) {\n            Engine.nextTick(addRootClasses);\n            return;\n        }\n\n        document.body.classList.add('famous-root');\n        document.documentElement.classList.add('famous-root');\n    }\n\n    /**\n     * Add event handler object to set of downstream handlers.\n     *\n     * @method pipe\n     *\n     * @param {EventHandler} target event handler target object\n     * @return {EventHandler} passed event handler\n     */\n    Engine.pipe = function pipe(target) {\n        if (target.subscribe instanceof Function) return target.subscribe(Engine);\n        else return eventHandler.pipe(target);\n    };\n\n    /**\n     * Remove handler object from set of downstream handlers.\n     *   Undoes work of \"pipe\".\n     *\n     * @method unpipe\n     *\n     * @param {EventHandler} target target handler object\n     * @return {EventHandler} provided target\n     */\n    Engine.unpipe = function unpipe(target) {\n        if (target.unsubscribe instanceof Function) return target.unsubscribe(Engine);\n        else return eventHandler.unpipe(target);\n    };\n\n    /**\n     * Bind a callback function to an event type handled by this object.\n     *\n     * @static\n     * @method \"on\"\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {function(string, Object)} handler callback\n     * @return {EventHandler} this\n     */\n    Engine.on = function on(type, handler) {\n        if (!(type in eventForwarders)) {\n            eventForwarders[type] = eventHandler.emit.bind(eventHandler, type);\n\n            addEngineListener(type, eventForwarders[type]);\n        }\n        return eventHandler.on(type, handler);\n    };\n\n    function addEngineListener(type, forwarder) {\n        if (!document.body) {\n            Engine.nextTick(addEventListener.bind(this, type, forwarder));\n            return;\n        }\n\n        document.body.addEventListener(type, forwarder);\n    }\n\n    /**\n     * Trigger an event, sending to all downstream handlers\n     *   listening for provided 'type' key.\n     *\n     * @method emit\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {Object} event event data\n     * @return {EventHandler} this\n     */\n    Engine.emit = function emit(type, event) {\n        return eventHandler.emit(type, event);\n    };\n\n    /**\n     * Unbind an event by type and handler.\n     *   This undoes the work of \"on\".\n     *\n     * @static\n     * @method removeListener\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {function} handler function object to remove\n     * @return {EventHandler} internal event handler object (for chaining)\n     */\n    Engine.removeListener = function removeListener(type, handler) {\n        return eventHandler.removeListener(type, handler);\n    };\n\n    /**\n     * Return the current calculated frames per second of the Engine.\n     *\n     * @static\n     * @method getFPS\n     *\n     * @return {Number} calculated fps\n     */\n    Engine.getFPS = function getFPS() {\n        return 1000 / frameTime;\n    };\n\n    /**\n     * Set the maximum fps at which the system should run. If internal render\n     *    loop is called at a greater frequency than this FPSCap, Engine will\n     *    throttle render and update until this rate is achieved.\n     *\n     * @static\n     * @method setFPSCap\n     *\n     * @param {Number} fps maximum frames per second\n     */\n    Engine.setFPSCap = function setFPSCap(fps) {\n        frameTimeLimit = Math.floor(1000 / fps);\n    };\n\n    /**\n     * Return engine options.\n     *\n     * @static\n     * @method getOptions\n     * @param {string} key\n     * @return {Object} engine options\n     */\n    Engine.getOptions = function getOptions(key) {\n        return optionsManager.getOptions(key);\n    };\n\n    /**\n     * Set engine options\n     *\n     * @static\n     * @method setOptions\n     *\n     * @param {Object} [options] overrides of default options\n     * @param {Number} [options.fpsCap]  maximum fps at which the system should run\n     * @param {boolean} [options.runLoop=true] whether the run loop should continue\n     * @param {string} [options.containerType=\"div\"] type of container element.  Defaults to 'div'.\n     * @param {string} [options.containerClass=\"famous-container\"] type of container element.  Defaults to 'famous-container'.\n     */\n    Engine.setOptions = function setOptions(options) {\n        return optionsManager.setOptions.apply(optionsManager, arguments);\n    };\n\n    /**\n     * Creates a new Context for rendering and event handling with\n     *    provided document element as top of each tree. This will be tracked by the\n     *    process-wide Engine.\n     *\n     * @static\n     * @method createContext\n     *\n     * @param {Node} el will be top of Famo.us document element tree\n     * @return {Context} new Context within el\n     */\n    Engine.createContext = function createContext(el) {\n        if (!initialized && options.appMode) Engine.nextTick(initialize);\n\n        var needMountContainer = false;\n        if (!el) {\n            el = document.createElement(options.containerType);\n            el.classList.add(options.containerClass);\n            needMountContainer = true;\n        }\n\n        var context = new Context(el);\n        Engine.registerContext(context);\n\n        if (needMountContainer) mount(context, el);\n\n        return context;\n    };\n\n    function mount(context, el) {\n        if (!document.body) {\n            Engine.nextTick(mount.bind(this, context, el));\n            return;\n        }\n\n        document.body.appendChild(el);\n        context.emit('resize');\n    }\n\n    /**\n     * Registers an existing context to be updated within the run loop.\n     *\n     * @static\n     * @method registerContext\n     *\n     * @param {Context} context Context to register\n     * @return {FamousContext} provided context\n     */\n    Engine.registerContext = function registerContext(context) {\n        contexts.push(context);\n        return context;\n    };\n\n    /**\n     * Returns a list of all contexts.\n     *\n     * @static\n     * @method getContexts\n     * @return {Array} contexts that are updated on each tick\n     */\n    Engine.getContexts = function getContexts() {\n        return contexts;\n    };\n\n    /**\n     * Removes a context from the run loop. Note: this does not do any\n     *     cleanup.\n     *\n     * @static\n     * @method deregisterContext\n     *\n     * @param {Context} context Context to deregister\n     */\n    Engine.deregisterContext = function deregisterContext(context) {\n        var i = contexts.indexOf(context);\n        if (i >= 0) contexts.splice(i, 1);\n    };\n\n    /**\n     * Queue a function to be executed on the next tick of the\n     *    Engine.\n     *\n     * @static\n     * @method nextTick\n     *\n     * @param {function(Object)} fn function accepting window object\n     */\n    Engine.nextTick = function nextTick(fn) {\n        nextTickQueue.push(fn);\n    };\n\n    /**\n     * Queue a function to be executed sometime soon, at a time that is\n     *    unlikely to affect frame rate.\n     *\n     * @static\n     * @method defer\n     *\n     * @param {Function} fn\n     */\n    Engine.defer = function defer(fn) {\n        deferQueue.push(fn);\n    };\n\n    optionsManager.on('change', function(data) {\n        if (data.id === 'fpsCap') Engine.setFPSCap(data.value);\n        else if (data.id === 'runLoop') {\n            // kick off the loop only if it was stopped\n            if (!loopEnabled && data.value) {\n                loopEnabled = true;\n                window.requestAnimationFrame(loop);\n            }\n        }\n    });\n\n    module.exports = Engine;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/core/Engine.js\n// module id = 64\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n    var RenderNode = require('./RenderNode');\n    var EventHandler = require('./EventHandler');\n    var ElementAllocator = require('./ElementAllocator');\n    var Transform = require('./Transform');\n    var Transitionable = require('../transitions/Transitionable');\n\n    var _zeroZero = [0, 0];\n    var usePrefix = !('perspective' in document.documentElement.style);\n\n    function _getElementSize() {\n        var element = this.container;\n        return [element.clientWidth, element.clientHeight];\n    }\n\n    var _setPerspective = usePrefix ? function(element, perspective) {\n        element.style.webkitPerspective = perspective ? perspective.toFixed() + 'px' : '';\n    } : function(element, perspective) {\n        element.style.perspective = perspective ? perspective.toFixed() + 'px' : '';\n    };\n\n    /**\n     * The top-level container for a Famous-renderable piece of the document.\n     *   It is directly updated by the process-wide Engine object, and manages one\n     *   render tree root, which can contain other renderables.\n     *\n     * @class Context\n     * @constructor\n     * @private\n     * @param {Node} container Element in which content will be inserted\n     */\n    function Context(container) {\n        this.container = container;\n        this._allocator = new ElementAllocator(container);\n\n        this._node = new RenderNode();\n        this._eventOutput = new EventHandler();\n        this._size = _getElementSize.call(this);\n\n        this._perspectiveState = new Transitionable(0);\n        this._perspective = undefined;\n\n        this._nodeContext = {\n            allocator: this._allocator,\n            transform: Transform.identity,\n            opacity: 1,\n            origin: _zeroZero,\n            align: _zeroZero,\n            size: this._size\n        };\n\n        this._eventOutput.on('resize', function() {\n            this.setSize(_getElementSize.call(this));\n        }.bind(this));\n\n    }\n\n    // Note: Unused\n    Context.prototype.getAllocator = function getAllocator() {\n        return this._allocator;\n    };\n\n    /**\n     * Add renderables to this Context's render tree.\n     *\n     * @method add\n     *\n     * @param {Object} obj renderable object\n     * @return {RenderNode} RenderNode wrapping this object, if not already a RenderNode\n     */\n    Context.prototype.add = function add(obj) {\n        return this._node.add(obj);\n    };\n\n    /**\n     * Move this Context to another containing document element.\n     *\n     * @method migrate\n     *\n     * @param {Node} container Element to which content will be migrated\n     */\n    Context.prototype.migrate = function migrate(container) {\n        if (container === this.container) return;\n        this.container = container;\n        this._allocator.migrate(container);\n    };\n\n    /**\n     * Gets viewport size for Context.\n     *\n     * @method getSize\n     *\n     * @return {Array.Number} viewport size as [width, height]\n     */\n    Context.prototype.getSize = function getSize() {\n        return this._size;\n    };\n\n    /**\n     * Sets viewport size for Context.\n     *\n     * @method setSize\n     *\n     * @param {Array.Number} size [width, height].  If unspecified, use size of root document element.\n     */\n    Context.prototype.setSize = function setSize(size) {\n        if (!size) size = _getElementSize.call(this);\n        this._size[0] = size[0];\n        this._size[1] = size[1];\n    };\n\n    /**\n     * Commit this Context's content changes to the document.\n     *\n     * @private\n     * @method update\n     * @param {Object} contextParameters engine commit specification\n     */\n    Context.prototype.update = function update(contextParameters) {\n        if (contextParameters) {\n            if (contextParameters.transform) this._nodeContext.transform = contextParameters.transform;\n            if (contextParameters.opacity) this._nodeContext.opacity = contextParameters.opacity;\n            if (contextParameters.origin) this._nodeContext.origin = contextParameters.origin;\n            if (contextParameters.align) this._nodeContext.align = contextParameters.align;\n            if (contextParameters.size) this._nodeContext.size = contextParameters.size;\n        }\n        var perspective = this._perspectiveState.get();\n        if (perspective !== this._perspective) {\n            _setPerspective(this.container, perspective);\n            this._perspective = perspective;\n        }\n\n        this._node.commit(this._nodeContext);\n    };\n\n    /**\n     * Get current perspective of this context in pixels.\n     *\n     * @method getPerspective\n     * @return {Number} depth perspective in pixels\n     */\n    Context.prototype.getPerspective = function getPerspective() {\n        return this._perspectiveState.get();\n    };\n\n    /**\n     * Set current perspective of this context in pixels.\n     *\n     * @method setPerspective\n     * @param {Number} perspective in pixels\n     * @param {Object} [transition] Transitionable object for applying the change\n     * @param {function(Object)} callback function called on completion of transition\n     */\n    Context.prototype.setPerspective = function setPerspective(perspective, transition, callback) {\n        return this._perspectiveState.set(perspective, transition, callback);\n    };\n\n    /**\n     * Trigger an event, sending to all downstream handlers\n     *   listening for provided 'type' key.\n     *\n     * @method emit\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {Object} event event data\n     * @return {EventHandler} this\n     */\n    Context.prototype.emit = function emit(type, event) {\n        return this._eventOutput.emit(type, event);\n    };\n\n    /**\n     * Bind a callback function to an event type handled by this object.\n     *\n     * @method \"on\"\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {function(string, Object)} handler callback\n     * @return {EventHandler} this\n     */\n    Context.prototype.on = function on(type, handler) {\n        return this._eventOutput.on(type, handler);\n    };\n\n    /**\n     * Unbind an event by type and handler.\n     *   This undoes the work of \"on\".\n     *\n     * @method removeListener\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {function} handler function object to remove\n     * @return {EventHandler} internal event handler object (for chaining)\n     */\n    Context.prototype.removeListener = function removeListener(type, handler) {\n        return this._eventOutput.removeListener(type, handler);\n    };\n\n    /**\n     * Add event handler object to set of downstream handlers.\n     *\n     * @method pipe\n     *\n     * @param {EventHandler} target event handler target object\n     * @return {EventHandler} passed event handler\n     */\n    Context.prototype.pipe = function pipe(target) {\n        return this._eventOutput.pipe(target);\n    };\n\n    /**\n     * Remove handler object from set of downstream handlers.\n     *   Undoes work of \"pipe\".\n     *\n     * @method unpipe\n     *\n     * @param {EventHandler} target target handler object\n     * @return {EventHandler} provided target\n     */\n    Context.prototype.unpipe = function unpipe(target) {\n        return this._eventOutput.unpipe(target);\n    };\n\n    module.exports = Context;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/core/Context.js\n// module id = 65\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n\n    /**\n     * Internal helper object to Context that handles the process of\n     *   creating and allocating DOM elements within a managed div.\n     *   Private.\n     *\n     * @class ElementAllocator\n     * @constructor\n     * @private\n     * @param {Node} container document element in which Famo.us content will be inserted\n     */\n    function ElementAllocator(container) {\n        if (!container) container = document.createDocumentFragment();\n        this.container = container;\n        this.detachedNodes = {};\n        this.nodeCount = 0;\n    }\n\n    /**\n     * Move the document elements from their original container to a new one.\n     *\n     * @private\n     * @method migrate\n     *\n     * @param {Node} container document element to which Famo.us content will be migrated\n     */\n    ElementAllocator.prototype.migrate = function migrate(container) {\n        var oldContainer = this.container;\n        if (container === oldContainer) return;\n\n        if (oldContainer instanceof DocumentFragment) {\n            container.appendChild(oldContainer);\n        }\n        else {\n            while (oldContainer.hasChildNodes()) {\n                container.appendChild(oldContainer.firstChild);\n            }\n        }\n\n        this.container = container;\n    };\n\n    /**\n     * Allocate an element of specified type from the pool.\n     *\n     * @private\n     * @method allocate\n     *\n     * @param {string} type type of element, e.g. 'div'\n     * @return {Node} allocated document element\n     */\n    ElementAllocator.prototype.allocate = function allocate(type) {\n        type = type.toLowerCase();\n        if (!(type in this.detachedNodes)) this.detachedNodes[type] = [];\n        var nodeStore = this.detachedNodes[type];\n        var result;\n        if (nodeStore.length > 0) {\n            result = nodeStore.pop();\n        }\n        else {\n            result = document.createElement(type);\n            this.container.appendChild(result);\n        }\n        this.nodeCount++;\n        return result;\n    };\n\n    /**\n     * De-allocate an element of specified type to the pool.\n     *\n     * @private\n     * @method deallocate\n     *\n     * @param {Node} element document element to deallocate\n     */\n    ElementAllocator.prototype.deallocate = function deallocate(element) {\n        var nodeType = element.nodeName.toLowerCase();\n        var nodeStore = this.detachedNodes[nodeType];\n        nodeStore.push(element);\n        this.nodeCount--;\n    };\n\n    /**\n     * Get count of total allocated nodes in the document.\n     *\n     * @private\n     * @method getNodeCount\n     *\n     * @return {Number} total node count\n     */\n    ElementAllocator.prototype.getNodeCount = function getNodeCount() {\n        return this.nodeCount;\n    };\n\n    module.exports = ElementAllocator;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/core/ElementAllocator.js\n// module id = 66\n// module chunks = 0","\"use strict\";\n\n// Polyfill for Function.name on browsers that do not support it (IE):\n// See: http://stackoverflow.com/questions/6903762/function-name-not-supported-in-ie\nif (!(function f() {}).name) {\n    Object.defineProperty(Function.prototype, \"name\", {\n        get: function () {\n            var name = this.toString().match(/^\\s*function\\s*(\\S*)\\s*\\(/)[1];\n\n            // For better performance only parse once, and then cache the\n            // result through a new accessor for repeated access.\n            Object.defineProperty(this, \"name\", { value: name });\n\n            return name;\n        }\n    });\n}\n//# sourceMappingURL=polyfill.Function.name.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/army-knife/polyfill.Function.name.js\n// module id = 67\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n    var Entity = require('./Entity');\n    var EventHandler = require('./EventHandler');\n    var Transform = require('./Transform');\n\n    var usePrefix = !('transform' in document.documentElement.style);\n    var devicePixelRatio = window.devicePixelRatio || 1;\n\n    /**\n     * A base class for viewable content and event\n     *   targets inside a Famo.us application, containing a renderable document\n     *   fragment. Like an HTML div, it can accept internal markup,\n     *   properties, classes, and handle events.\n     *\n     * @class ElementOutput\n     * @constructor\n     *\n     * @param {Node} element document parent of this container\n     */\n    function ElementOutput(element) {\n        this._matrix = null;\n        this._opacity = 1;\n        this._origin = null;\n        this._size = null;\n\n        this._eventOutput = new EventHandler();\n        this._eventOutput.bindThis(this);\n\n        /** @ignore */\n        this.eventForwarder = function eventForwarder(event) {\n            this._eventOutput.emit(event.type, event);\n        }.bind(this);\n\n        this.id = Entity.register(this);\n        this._element = null;\n        this._sizeDirty = false;\n        this._originDirty = false;\n        this._transformDirty = false;\n\n        this._invisible = false;\n        if (element) this.attach(element);\n    }\n\n    /**\n     * Bind a callback function to an event type handled by this object.\n     *\n     * @method \"on\"\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {function(string, Object)} fn handler callback\n     * @return {EventHandler} this\n     */\n    ElementOutput.prototype.on = function on(type, fn) {\n        if (this._element) this._element.addEventListener(type, this.eventForwarder);\n        this._eventOutput.on(type, fn);\n    };\n\n    /**\n     * Unbind an event by type and handler.\n     *   This undoes the work of \"on\"\n     *\n     * @method removeListener\n     * @param {string} type event type key (for example, 'click')\n     * @param {function(string, Object)} fn handler\n     */\n    ElementOutput.prototype.removeListener = function removeListener(type, fn) {\n        this._eventOutput.removeListener(type, fn);\n    };\n\n    /**\n     * Trigger an event, sending to all downstream handlers\n     *   listening for provided 'type' key.\n     *\n     * @method emit\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {Object} [event] event data\n     * @return {EventHandler} this\n     */\n    ElementOutput.prototype.emit = function emit(type, event) {\n        if (event && !event.origin) event.origin = this;\n        var handled = this._eventOutput.emit(type, event);\n        if (handled && event && event.stopPropagation) event.stopPropagation();\n        return handled;\n    };\n\n    /**\n     * Add event handler object to set of downstream handlers.\n     *\n     * @method pipe\n     *\n     * @param {EventHandler} target event handler target object\n     * @return {EventHandler} passed event handler\n     */\n    ElementOutput.prototype.pipe = function pipe(target) {\n        return this._eventOutput.pipe(target);\n    };\n\n    /**\n     * Remove handler object from set of downstream handlers.\n     *   Undoes work of \"pipe\"\n     *\n     * @method unpipe\n     *\n     * @param {EventHandler} target target handler object\n     * @return {EventHandler} provided target\n     */\n    ElementOutput.prototype.unpipe = function unpipe(target) {\n        return this._eventOutput.unpipe(target);\n    };\n\n    /**\n     * Return spec for this surface. Note that for a base surface, this is\n     *    simply an id.\n     *\n     * @method render\n     * @private\n     * @return {Object} render spec for this surface (spec id)\n     */\n    ElementOutput.prototype.render = function render() {\n        return this.id;\n    };\n\n    //  Attach Famous event handling to document events emanating from target\n    //    document element.  This occurs just after attachment to the document.\n    //    Calling this enables methods like #on and #pipe.\n    function _addEventListeners(target) {\n        for (var i in this._eventOutput.listeners) {\n            target.addEventListener(i, this.eventForwarder);\n        }\n    }\n\n    //  Detach Famous event handling from document events emanating from target\n    //  document element.  This occurs just before detach from the document.\n    function _removeEventListeners(target) {\n        for (var i in this._eventOutput.listeners) {\n            target.removeEventListener(i, this.eventForwarder);\n        }\n    }\n\n    /**\n     * Return a Matrix's webkit css representation to be used with the\n     *    CSS3 -webkit-transform style.\n     *    Example: -webkit-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,716,243,0,1)\n     *\n     * @method _formatCSSTransform\n     * @private\n     * @param {FamousMatrix} m matrix\n     * @return {string} matrix3d CSS style representation of the transform\n     */\n    function _formatCSSTransform(m) {\n        m[12] = Math.round(m[12] * devicePixelRatio) / devicePixelRatio;\n        m[13] = Math.round(m[13] * devicePixelRatio) / devicePixelRatio;\n\n        var result = 'matrix3d(';\n        for (var i = 0; i < 15; i++) {\n            result += (m[i] < 0.000001 && m[i] > -0.000001) ? '0,' : m[i] + ',';\n        }\n        result += m[15] + ')';\n        return result;\n    }\n\n    /**\n     * Directly apply given FamousMatrix to the document element as the\n     *   appropriate webkit CSS style.\n     *\n     * @method setMatrix\n     *\n     * @static\n     * @private\n     * @param {Element} element document element\n     * @param {FamousMatrix} matrix\n     */\n\n    var _setMatrix;\n    if (usePrefix) {\n        _setMatrix = function(element, matrix) {\n            element.style.webkitTransform = _formatCSSTransform(matrix);\n        };\n    }\n    else {\n        _setMatrix = function(element, matrix) {\n            element.style.transform = _formatCSSTransform(matrix);\n        };\n    }\n\n    // format origin as CSS percentage string\n    function _formatCSSOrigin(origin) {\n        return (100 * origin[0]) + '% ' + (100 * origin[1]) + '%';\n    }\n\n    // Directly apply given origin coordinates to the document element as the\n    // appropriate webkit CSS style.\n    var _setOrigin = usePrefix ? function(element, origin) {\n        element.style.webkitTransformOrigin = _formatCSSOrigin(origin);\n    } : function(element, origin) {\n        element.style.transformOrigin = _formatCSSOrigin(origin);\n    };\n\n    // Shrink given document element until it is effectively invisible.\n    var _setInvisible = usePrefix ? function(element) {\n        element.style.webkitTransform = 'scale3d(0.0001,0.0001,0.0001)';\n        element.style.opacity = 0;\n    } : function(element) {\n        element.style.transform = 'scale3d(0.0001,0.0001,0.0001)';\n        element.style.opacity = 0;\n    };\n\n    function _xyNotEquals(a, b) {\n        return (a && b) ? (a[0] !== b[0] || a[1] !== b[1]) : a !== b;\n    }\n\n    /**\n     * Apply changes from this component to the corresponding document element.\n     * This includes changes to classes, styles, size, content, opacity, origin,\n     * and matrix transforms.\n     *\n     * @private\n     * @method commit\n     * @param {Context} context commit context\n     */\n    ElementOutput.prototype.commit = function commit(context) {\n        var target = this._element;\n        if (!target) return;\n\n        var matrix = context.transform;\n        var opacity = context.opacity;\n        var origin = context.origin;\n        var size = context.size;\n\n        if (!matrix && this._matrix) {\n            this._matrix = null;\n            this._opacity = 0;\n            _setInvisible(target);\n            return;\n        }\n\n        if (_xyNotEquals(this._origin, origin)) this._originDirty = true;\n        if (Transform.notEquals(this._matrix, matrix)) this._transformDirty = true;\n\n        if (this._invisible) {\n            this._invisible = false;\n            this._element.style.display = '';\n        }\n\n        if (this._opacity !== opacity) {\n            this._opacity = opacity;\n            target.style.opacity = (opacity >= 1) ? '0.999999' : opacity;\n        }\n\n        if (this._transformDirty || this._originDirty || this._sizeDirty) {\n            if (this._sizeDirty) this._sizeDirty = false;\n\n            if (this._originDirty) {\n                if (origin) {\n                    if (!this._origin) this._origin = [0, 0];\n                    this._origin[0] = origin[0];\n                    this._origin[1] = origin[1];\n                }\n                else this._origin = null;\n                _setOrigin(target, this._origin);\n                this._originDirty = false;\n            }\n\n            if (!matrix) matrix = Transform.identity;\n            this._matrix = matrix;\n            var aaMatrix = this._size ? Transform.thenMove(matrix, [-this._size[0]*origin[0], -this._size[1]*origin[1], 0]) : matrix;\n            _setMatrix(target, aaMatrix);\n            this._transformDirty = false;\n        }\n    };\n\n    ElementOutput.prototype.cleanup = function cleanup() {\n        if (this._element) {\n            this._invisible = true;\n            this._element.style.display = 'none';\n        }\n    };\n\n    /**\n     * Place the document element that this component manages into the document.\n     *\n     * @private\n     * @method attach\n     * @param {Node} target document parent of this container\n     */\n    ElementOutput.prototype.attach = function attach(target) {\n        this._element = target;\n        _addEventListeners.call(this, target);\n    };\n\n    /**\n     * Remove any contained document content associated with this surface\n     *   from the actual document.\n     *\n     * @private\n     * @method detach\n     */\n    ElementOutput.prototype.detach = function detach() {\n        var target = this._element;\n        if (target) {\n            _removeEventListeners.call(this, target);\n            if (this._invisible) {\n                this._invisible = false;\n                this._element.style.display = '';\n            }\n        }\n        this._element = null;\n        return target;\n    };\n\n    module.exports = ElementOutput;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/core/ElementOutput.js\n// module id = 68\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Rule = exports.StyleSheet = exports.Jss = undefined;\n\nvar _Jss = require('./Jss');\n\nvar _Jss2 = _interopRequireDefault(_Jss);\n\nvar _StyleSheet = require('./StyleSheet');\n\nvar _StyleSheet2 = _interopRequireDefault(_StyleSheet);\n\nvar _Rule = require('./rules/Rule');\n\nvar _Rule2 = _interopRequireDefault(_Rule);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar jss = new _Jss2.default();\n\n// Hotfix for babel 5 migration, will be removed in version 4.0.0\n/**\n * StyleSheets written in javascript.\n *\n * @copyright Oleg Slobodskoi 2014-2016\n * @website https://github.com/jsstyles/jss\n * @license MIT\n */\nmodule.exports = exports = jss;\n\n// For testing only.\nexports.Jss = _Jss2.default;\nexports.StyleSheet = _StyleSheet2.default;\nexports.Rule = _Rule2.default;\nexports.default = jss;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss/lib/index.js\n// module id = 69\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _StyleSheet = require('./StyleSheet');\n\nvar _StyleSheet2 = _interopRequireDefault(_StyleSheet);\n\nvar _PluginsRegistry = require('./PluginsRegistry');\n\nvar _PluginsRegistry2 = _interopRequireDefault(_PluginsRegistry);\n\nvar _SheetsRegistry = require('./SheetsRegistry');\n\nvar _SheetsRegistry2 = _interopRequireDefault(_SheetsRegistry);\n\nvar _utils = require('./utils');\n\nvar _createRule2 = require('./createRule');\n\nvar _createRule3 = _interopRequireDefault(_createRule2);\n\nvar _findRenderer = require('./findRenderer');\n\nvar _findRenderer2 = _interopRequireDefault(_findRenderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Main Jss class.\n *\n * @api public\n */\n\nvar Jss = function () {\n  function Jss() {\n    _classCallCheck(this, Jss);\n\n    this.sheets = new _SheetsRegistry2.default();\n    this.plugins = new _PluginsRegistry2.default();\n    this.uid = _utils.uid;\n    this.version = '3.11.1';\n  }\n\n  /**\n   * Creates a new instance of Jss.\n   *\n   * @see Jss\n   * @api public\n   */\n\n\n  _createClass(Jss, [{\n    key: 'create',\n    value: function create() {\n      return new Jss();\n    }\n\n    /**\n     * Create a stylesheet.\n     *\n     * @see StyleSheet\n     * @api public\n     */\n\n  }, {\n    key: 'createStyleSheet',\n    value: function createStyleSheet(rules, options) {\n      var sheet = new _StyleSheet2.default(rules, _extends({}, options, { jss: this }));\n      this.sheets.add(sheet);\n      return sheet;\n    }\n\n    /**\n     * Create a rule.\n     *\n     * @see createRule\n     * @api public\n     */\n\n  }, {\n    key: 'createRule',\n    value: function createRule(selector, style, options) {\n      // Enable rule without selector.\n      if ((typeof selector === 'undefined' ? 'undefined' : _typeof(selector)) == 'object') {\n        options = style;\n        style = selector;\n        selector = null;\n      }\n      var rule = (0, _createRule3.default)(selector, style, _extends({}, options, {\n        jss: this,\n        Renderer: (0, _findRenderer2.default)(options)\n      }));\n      this.plugins.run(rule);\n      return rule;\n    }\n\n    /**\n     * Register plugin. Passed function will be invoked with a rule instance.\n     *\n     * @param {Function} plugins\n     * @api public\n     */\n\n  }, {\n    key: 'use',\n    value: function use() {\n      var _this = this;\n\n      for (var _len = arguments.length, plugins = Array(_len), _key = 0; _key < _len; _key++) {\n        plugins[_key] = arguments[_key];\n      }\n\n      plugins.forEach(function (plugin) {\n        return _this.plugins.use(plugin);\n      });\n      return this;\n    }\n  }]);\n\n  return Jss;\n}();\n\nexports.default = Jss;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss/lib/Jss.js\n// module id = 70\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('../utils');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Rule like @charset, @import, @namespace.\n *\n * @api public\n */\n\nvar SimpleRule = function () {\n  function SimpleRule(name, value, options) {\n    _classCallCheck(this, SimpleRule);\n\n    this.id = _utils.uid.get();\n    this.type = 'simple';\n    this.name = name;\n    this.value = value;\n    this.options = options;\n  }\n\n  /**\n   * Generates a CSS string.\n   *\n   * @return {String}\n   * @api public\n   */\n\n\n  _createClass(SimpleRule, [{\n    key: 'toString',\n    value: function toString() {\n      if (Array.isArray(this.value)) {\n        var str = '';\n        for (var index = 0; index < this.value.length; index++) {\n          str += this.name + ' ' + this.value[index] + ';';\n          if (this.value[index + 1]) str += '\\n';\n        }\n        return str;\n      }\n\n      return this.name + ' ' + this.value + ';';\n    }\n  }]);\n\n  return SimpleRule;\n}();\n\nexports.default = SimpleRule;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss/lib/rules/SimpleRule.js\n// module id = 71\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('../utils');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Keyframe rule.\n *\n * @api private\n */\n\nvar KeyframeRule = function () {\n  function KeyframeRule(selector, frames, options) {\n    _classCallCheck(this, KeyframeRule);\n\n    this.id = _utils.uid.get();\n    this.type = 'keyframe';\n    this.selector = selector;\n    this.options = options;\n    this.frames = this.formatFrames(frames);\n  }\n\n  /**\n   * Creates formatted frames where every frame value is a rule instance.\n   *\n   * @api private\n   */\n\n\n  _createClass(KeyframeRule, [{\n    key: 'formatFrames',\n    value: function formatFrames(frames) {\n      var newFrames = Object.create(null);\n      for (var name in frames) {\n        var options = _extends({}, this.options, { named: false, parent: this });\n        newFrames[name] = this.options.jss.createRule(name, frames[name], options);\n      }\n      return newFrames;\n    }\n\n    /**\n     * Generates a CSS string.\n     *\n     * @return {String}\n     * @api private\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      var str = this.selector + ' {\\n';\n      var options = { indentationLevel: 1 };\n      for (var name in this.frames) {\n        str += this.frames[name].toString(options) + '\\n';\n      }\n      str += '}';\n      return str;\n    }\n  }]);\n\n  return KeyframeRule;\n}();\n\nexports.default = KeyframeRule;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss/lib/rules/KeyframeRule.js\n// module id = 72\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('../utils');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Conditional rule for @media, @supports\n *\n * @api public\n */\n\nvar ConditionalRule = function () {\n  function ConditionalRule(selector, styles, options) {\n    _classCallCheck(this, ConditionalRule);\n\n    this.id = _utils.uid.get();\n    this.type = 'conditional';\n    this.selector = selector;\n    this.options = options;\n    this.rules = Object.create(null);\n    for (var name in styles) {\n      this.createRule(name, styles[name]);\n    }\n  }\n\n  /**\n   * A conditional rule always contains child rules.\n   *\n   * @param {Object} styles\n   * @return {Array} rules\n   * @api public\n   */\n\n\n  _createClass(ConditionalRule, [{\n    key: 'createRule',\n    value: function createRule(name, style, options) {\n      var newOptions = _extends({}, this.options, { parent: this });\n      var _newOptions = newOptions;\n      var sheet = _newOptions.sheet;\n      var jss = _newOptions.jss;\n      // We have already a rule in the current style sheet with this name,\n      // This new rule is supposed to overwrite the first one, for this we need\n      // to ensure it will have the same className/selector.\n\n      var existingRule = sheet && sheet.getRule(name);\n      var className = existingRule ? existingRule.className : null;\n      if (className || options) {\n        newOptions = _extends({}, newOptions, { className: className }, options);\n      }\n      var rule = (sheet || jss).createRule(name, style, newOptions);\n      this.rules[name] = rule;\n      return rule;\n    }\n\n    /**\n     * Generates a CSS string.\n     *\n     * @return {String}\n     * @api public\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      var str = this.selector + ' {\\n';\n      for (var name in this.rules) {\n        var rule = this.rules[name];\n        if (rule.style && (0, _utils.isEmptyObject)(rule.style)) {\n          continue;\n        }\n        var ruleStr = rule.toString({ indentationLevel: 1 });\n        str += ruleStr + '\\n';\n      }\n      str += '}';\n      return str;\n    }\n  }]);\n\n  return ConditionalRule;\n}();\n\nexports.default = ConditionalRule;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss/lib/rules/ConditionalRule.js\n// module id = 73\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('../utils');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Font-face rules.\n *\n * @api public\n */\n\nvar Rule = function () {\n  function Rule(selector, style, options) {\n    _classCallCheck(this, Rule);\n\n    this.id = _utils.uid.get();\n    this.type = 'font-face';\n    this.options = options;\n    this.selector = selector;\n    this.style = style;\n  }\n\n  /**\n   * Generates a CSS string.\n   *\n   * @see toCSS\n   * @api public\n   */\n\n\n  _createClass(Rule, [{\n    key: 'toString',\n    value: function toString(options) {\n      if (Array.isArray(this.style)) {\n        var str = '';\n        for (var index = 0; index < this.style.length; index++) {\n          str += (0, _utils.toCSS)(this.selector, this.style[index], options);\n          if (this.style[index + 1]) str += '\\n';\n        }\n        return str;\n      }\n\n      return (0, _utils.toCSS)(this.selector, this.style, options);\n    }\n  }]);\n\n  return Rule;\n}();\n\nexports.default = Rule;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss/lib/rules/FontFaceRule.js\n// module id = 74\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * DOM rendering backend for StyleSheet.\n *\n * @api private\n */\n\nvar DomRenderer = function () {\n  _createClass(DomRenderer, null, [{\n    key: 'style',\n    value: function style(element, name, value) {\n      try {\n        if (value == null) return element.style[name];\n        element.style[name] = value;\n      } catch (err) {\n        // IE8 may throw if property is unknown.\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: 'setSelector',\n    value: function setSelector(cssRule, selector) {\n      cssRule.selectorText = selector;\n\n      // Return false if setter was not successful.\n      // Currently works in chrome only.\n      return cssRule.selectorText === selector;\n    }\n  }, {\n    key: 'getSelector',\n    value: function getSelector(cssRule) {\n      return cssRule.selectorText;\n    }\n  }]);\n\n  function DomRenderer(options) {\n    _classCallCheck(this, DomRenderer);\n\n    this.head = document.head || document.getElementsByTagName('head')[0];\n    this.element = options.element || document.createElement('style');\n    // IE8 will not have `styleSheet` prop without `type and `styleSheet.cssText`\n    // is the only way to render on IE8.\n    this.element.type = 'text/css';\n    if (options.media) this.element.setAttribute('media', options.media);\n    if (options.meta) this.element.setAttribute('data-meta', options.meta);\n  }\n\n  /**\n   * Insert style element into render tree.\n   *\n   * @api private\n   */\n\n\n  _createClass(DomRenderer, [{\n    key: 'attach',\n    value: function attach() {\n      if (this.element.parendNode) return;\n      this.head.appendChild(this.element);\n    }\n\n    /**\n     * Remove style element from render tree.\n     *\n     * @api private\n     */\n\n  }, {\n    key: 'detach',\n    value: function detach() {\n      this.element.parentNode.removeChild(this.element);\n    }\n\n    /**\n     * Inject CSS string into element.\n     *\n     * @param {String} cssStr\n     * @api private\n     */\n\n  }, {\n    key: 'deploy',\n    value: function deploy(sheet) {\n      var css = '\\n' + sheet.toString() + '\\n';\n      if ('sheet' in this.element) this.element.innerHTML = css;\n      // On IE8 the only way to render is `styleSheet.cssText`.\n      else if ('styleSheet' in this.element) this.element.styleSheet.cssText = css;\n    }\n\n    /**\n     * Insert a rule into element.\n     *\n     * @param {Rule} rule\n     * @return {CSSStyleRule}\n     * @api private\n     */\n\n  }, {\n    key: 'insertRule',\n    value: function insertRule(rule) {\n      // IE8 has only `styleSheet` and `styleSheet.rules`\n      var sheet = this.element.sheet || this.element.styleSheet;\n      var cssRules = sheet.cssRules || sheet.rules;\n      var nextIndex = cssRules.length;\n      if (sheet.insertRule) sheet.insertRule(rule.toString(), nextIndex);else sheet.addRule(rule.selector, rule.toString({ selector: false }), nextIndex);\n      return cssRules[nextIndex];\n    }\n\n    /**\n     * Get all rules elements.\n     *\n     * @return {Object} rules map, where key is selector, CSSStyleRule is value.\n     * @api private\n     */\n\n  }, {\n    key: 'getRules',\n    value: function getRules() {\n      // IE8 has only `styleSheet` and `styleSheet.rules`\n      var sheet = this.element.sheet || this.element.styleSheet;\n      var cssRules = sheet.rules || sheet.cssRules;\n      var rules = Object.create(null);\n      for (var index = 0; index < cssRules.length; index++) {\n        var cssRule = cssRules[index];\n        rules[cssRule.selectorText] = cssRule;\n      }\n      return rules;\n    }\n  }]);\n\n  return DomRenderer;\n}();\n\nexports.default = DomRenderer;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss/lib/backends/DomRenderer.js\n// module id = 75\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Rendering backend to do nothing in nodejs.\n */\n\nvar VirtualRenderer = function () {\n  function VirtualRenderer() {\n    _classCallCheck(this, VirtualRenderer);\n  }\n\n  _createClass(VirtualRenderer, [{\n    key: \"attach\",\n    value: function attach() {}\n  }, {\n    key: \"detach\",\n    value: function detach() {}\n  }, {\n    key: \"deploy\",\n    value: function deploy() {}\n  }, {\n    key: \"insertRule\",\n    value: function insertRule() {}\n  }, {\n    key: \"getRules\",\n    value: function getRules() {\n      return {};\n    }\n  }], [{\n    key: \"style\",\n    value: function style() {}\n  }, {\n    key: \"setSelector\",\n    value: function setSelector() {}\n  }, {\n    key: \"getSelector\",\n    value: function getSelector() {}\n  }]);\n\n  return VirtualRenderer;\n}();\n\nexports.default = VirtualRenderer;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss/lib/backends/VirtualRenderer.js\n// module id = 76\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Register a plugin, run a plugin.\n *\n * @api public\n */\n\nvar PluginsRegistry = function () {\n  function PluginsRegistry() {\n    _classCallCheck(this, PluginsRegistry);\n\n    this.registry = [];\n  }\n\n  /**\n   * Register plugin. Passed function will be invoked with a rule instance.\n   *\n   * @param {Function} fn\n   * @api public\n   */\n\n\n  _createClass(PluginsRegistry, [{\n    key: \"use\",\n    value: function use(fn) {\n      this.registry.push(fn);\n    }\n\n    /**\n     * Execute all registered plugins.\n     *\n     * @param {Rule} rule\n     * @api private\n     */\n\n  }, {\n    key: \"run\",\n    value: function run(rule) {\n      for (var index = 0; index < this.registry.length; index++) {\n        this.registry[index](rule);\n      }\n    }\n  }]);\n\n  return PluginsRegistry;\n}();\n\nexports.default = PluginsRegistry;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss/lib/PluginsRegistry.js\n// module id = 77\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Sheets registry to access them all at one place.\n *\n * @api public\n */\n\nvar SheetsRegistry = function () {\n  function SheetsRegistry() {\n    _classCallCheck(this, SheetsRegistry);\n\n    this.registry = [];\n  }\n\n  /**\n   * Register a style sheet.\n   *\n   * @param {StyleSheet} sheet\n   * @api public\n   */\n\n\n  _createClass(SheetsRegistry, [{\n    key: 'add',\n    value: function add(sheet) {\n      this.registry.push(sheet);\n    }\n\n    /**\n     * Returns CSS string with all Style Sheets.\n     *\n     * @param {StyleSheet} sheet\n     * @api public\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString(options) {\n      return this.registry.map(function (sheet) {\n        return sheet.toString(options);\n      }).join('\\n');\n    }\n  }]);\n\n  return SheetsRegistry;\n}();\n\nexports.default = SheetsRegistry;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss/lib/SheetsRegistry.js\n// module id = 78\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = jssNested;\nvar regExp = /&/g;\n\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\nfunction jssNested() {\n  return function (rule) {\n    if (rule.type !== 'regular') return;\n    var _rule$options = rule.options;\n    var sheet = _rule$options.sheet;\n    var jss = _rule$options.jss;\n    var parent = _rule$options.parent;\n\n    var container = sheet || jss;\n    var options = void 0;\n\n    if (parent && parent.type === 'conditional') {\n      container = parent;\n    }\n\n    for (var prop in rule.style) {\n      if (prop[0] === '&') {\n        if (!options) options = _extends({}, rule.options, { named: false });\n        var name = prop.replace(regExp, rule.selector);\n        container.createRule(name, rule.style[prop], options);\n        delete rule.style[prop];\n      }\n    }\n  };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss-nested/lib/index.js\n// module id = 79\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = jssExtend;\n/**\n * Handle `extend` property.\n *\n * @param {Rule} rule\n * @api public\n */\nfunction jssExtend() {\n  function extend(rule, newStyle, style) {\n    if (typeof style.extend == 'string') {\n      if (rule.options && rule.options.sheet) {\n        var refRule = rule.options.sheet.getRule(style.extend);\n        if (refRule) extend(rule, newStyle, refRule.originalStyle);\n      }\n    } else if (Array.isArray(style.extend)) {\n      for (var index = 0; index < style.extend.length; index++) {\n        extend(rule, newStyle, style.extend[index]);\n      }\n    } else {\n      for (var prop in style.extend) {\n        if (prop === 'extend') extend(rule, newStyle, style.extend.extend);else newStyle[prop] = style.extend[prop];\n      }\n    }\n\n    // Copy base style.\n    for (var _prop in style) {\n      if (_prop !== 'extend') newStyle[_prop] = style[_prop];\n    }\n\n    return newStyle;\n  }\n\n  return function (rule) {\n    if (!rule.style || !rule.style.extend) return;\n    rule.style = extend(rule, {}, rule.style);\n  };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss-extend/lib/index.js\n// module id = 80\n// module chunks = 0","// Don't automatically add 'px' to these possibly-unitless properties.\n// Borrowed from jquery.\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = jssPx;\nvar cssNumber = {\n  'animation-iteration-count': true,\n  'box-ordinal-group': true,\n  'column-count': true,\n  'fill-opacity': true,\n  'flex': true,\n  'flex-grow': true,\n  'flex-order': true,\n  'flex-shrink': true,\n  'font-weight': true,\n  'line-height': true,\n  'opacity': true,\n  'order': true,\n  'orphans': true,\n  'stop-opacity': true,\n  'tab-size': 1,\n  'widows': true,\n  'z-index': true,\n  'zoom': true\n};\n\n/**\n * Add px to numeric values.\n *\n * @param {Rule} rule\n * @api public\n */\n\nfunction jssPx() {\n  return function (rule) {\n    var style = rule.style;\n\n    if (!style) return;\n    for (var prop in style) {\n      if (!cssNumber[prop] && typeof style[prop] == 'number') {\n        style[prop] += 'px';\n      }\n    }\n  };\n}\n\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss-px/lib/index.js\n// module id = 81\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nexports['default'] = jssVendorPrefixer;\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _cssVendor = require('css-vendor');\n\nvar vendor = _interopRequireWildcard(_cssVendor);\n\n/**\n * Add vendor prefix to a property name when needed.\n *\n * @param {Rule} rule\n * @api public\n */\n\nfunction jssVendorPrefixer() {\n  return function (rule) {\n    if (rule.type === 'keyframe') {\n      rule.selector = '@' + vendor.prefix.css + 'keyframes' + rule.selector.substr(10);\n      return;\n    }\n\n    if (rule.type !== 'regular') return;\n\n    for (var prop in rule.style) {\n      var value = rule.style[prop];\n\n      var changeProp = false;\n      var supportedProp = vendor.supportedProperty(prop);\n      if (supportedProp && supportedProp !== prop) changeProp = true;\n\n      var changeValue = false;\n      var supportedValue = vendor.supportedValue(supportedProp, value);\n      if (supportedValue && supportedValue !== value) changeValue = true;\n\n      if (changeProp || changeValue) {\n        if (changeProp) delete rule.style[prop];\n        rule.style[supportedProp || prop] = supportedValue || value;\n      }\n    }\n  };\n}\n\nmodule.exports = exports['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss-vendor-prefixer/lib/index.js\n// module id = 82\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.supportedValue = exports.supportedProperty = exports.prefix = undefined;\n\nvar _prefix = require('./prefix');\n\nvar _prefix2 = _interopRequireDefault(_prefix);\n\nvar _supportedProperty = require('./supported-property');\n\nvar _supportedProperty2 = _interopRequireDefault(_supportedProperty);\n\nvar _supportedValue = require('./supported-value');\n\nvar _supportedValue2 = _interopRequireDefault(_supportedValue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nexports['default'] = {\n  prefix: _prefix2['default'],\n  supportedProperty: _supportedProperty2['default'],\n  supportedValue: _supportedValue2['default']\n}; /**\n    * CSS Vendor prefix detection and property feature testing.\n    *\n    * @copyright Oleg Slobodskoi 2015\n    * @website https://github.com/jsstyles/css-vendor\n    * @license MIT\n    */\n\nexports.prefix = _prefix2['default'];\nexports.supportedProperty = _supportedProperty2['default'];\nexports.supportedValue = _supportedValue2['default'];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-vendor/lib/index.js\n// module id = 83\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = supportedProperty;\n\nvar _isInBrowser = require('is-in-browser');\n\nvar _isInBrowser2 = _interopRequireDefault(_isInBrowser);\n\nvar _prefix = require('./prefix');\n\nvar _prefix2 = _interopRequireDefault(_prefix);\n\nvar _camelize = require('./camelize');\n\nvar _camelize2 = _interopRequireDefault(_camelize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar el = void 0;\nvar cache = {};\n\nif (_isInBrowser2['default']) {\n  el = document.createElement('p');\n\n  /**\n   * We test every property on vendor prefix requirement.\n   * Once tested, result is cached. It gives us up to 70% perf boost.\n   * http://jsperf.com/element-style-object-access-vs-plain-object\n   *\n   * Prefill cache with known css properties to reduce amount of\n   * properties we need to feature test at runtime.\n   * http://davidwalsh.name/vendor-prefix\n   */\n  var computed = window.getComputedStyle(document.documentElement, '');\n  for (var key in computed) {\n    if (!isNaN(key)) cache[computed[key]] = computed[key];\n  }\n}\n\n/**\n * Test if a property is supported, returns supported property with vendor\n * prefix if required. Returns `false` if not supported.\n *\n * @param {String} prop dash separated\n * @return {String|Boolean}\n * @api public\n */\nfunction supportedProperty(prop) {\n  // For server-side rendering.\n  if (!el) return prop;\n\n  // We have not tested this prop yet, lets do the test.\n  if (cache[prop] != null) return cache[prop];\n\n  // Camelization is required because we can't test using\n  // css syntax for e.g. in FF.\n  // Test if property is supported as it is.\n  if ((0, _camelize2['default'])(prop) in el.style) {\n    cache[prop] = prop;\n  }\n  // Test if property is supported with vendor prefix.\n  else if (_prefix2['default'].js + (0, _camelize2['default'])('-' + prop) in el.style) {\n      cache[prop] = _prefix2['default'].css + prop;\n    } else {\n      cache[prop] = false;\n    }\n\n  return cache[prop];\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-vendor/lib/supported-property.js\n// module id = 84\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = camelize;\nvar regExp = /[-\\s]+(.)?/g;\n\n/**\n * Convert dash separated strings to camel cased.\n *\n * @param {String} str\n * @return {String}\n */\nfunction camelize(str) {\n  return str.replace(regExp, toUpper);\n}\n\nfunction toUpper(match, c) {\n  return c ? c.toUpperCase() : '';\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-vendor/lib/camelize.js\n// module id = 85\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = supportedValue;\n\nvar _isInBrowser = require('is-in-browser');\n\nvar _isInBrowser2 = _interopRequireDefault(_isInBrowser);\n\nvar _prefix = require('./prefix');\n\nvar _prefix2 = _interopRequireDefault(_prefix);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar cache = {};\nvar el = void 0;\n\nif (_isInBrowser2['default']) el = document.createElement('p');\n\n/**\n * Returns prefixed value if needed. Returns `false` if value is not supported.\n *\n * @param {String} property\n * @param {String} value\n * @return {String|Boolean}\n * @api public\n */\nfunction supportedValue(property, value) {\n  // For server-side rendering.\n  if (!el) return value;\n\n  // It is a string or a number as a string like '1'.\n  // We want only prefixable values here.\n  if (typeof value !== 'string' || !isNaN(parseInt(value, 10))) return value;\n\n  var cacheKey = property + value;\n\n  if (cache[cacheKey] != null) return cache[cacheKey];\n\n  // IE can even throw an error in some cases, for e.g. style.content = 'bar'\n  try {\n    // Test value as it is.\n    el.style[property] = value;\n  } catch (err) {\n    cache[cacheKey] = false;\n    return false;\n  }\n\n  // Value is supported as it is.\n  if (el.style[property] !== '') {\n    cache[cacheKey] = value;\n  } else {\n    // Test value with vendor prefix.\n    value = _prefix2['default'].css + value;\n\n    // Hardcode test to convert \"flex\" to \"-ms-flexbox\" for IE10.\n    if (value === '-ms-flex') value = '-ms-flexbox';\n\n    el.style[property] = value;\n\n    // Value is supported with vendor prefix.\n    if (el.style[property] !== '') cache[cacheKey] = value;\n  }\n\n  if (!cache[cacheKey]) cache[cacheKey] = false;\n\n  // Reset style value.\n  el.style[property] = '';\n\n  return cache[cacheKey];\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-vendor/lib/supported-value.js\n// module id = 86\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar regExp = /([A-Z])/g;\n\n/**\n * Replace a string passed from String#replace.\n * @param {String} str\n * @return {String}\n */\nfunction replace(str) {\n  return '-' + str.toLowerCase();\n}\n\n/**\n * Convert camel cased properties of a single style to dasherized.\n *\n * @param {Object} style\n * @return {Object} convertedStyle\n */\nfunction convertCase(style) {\n  var convertedStyle = {};\n  for (var prop in style) {\n    var value = style[prop];\n    prop = prop.replace(regExp, replace);\n    convertedStyle[prop] = value;\n  }\n  return convertedStyle;\n}\n\n/**\n * Allow camel cased property names by converting them back to dasherized.\n *\n * @param {Rule} rule\n */\n\nexports.default = function () {\n  return function jssCamelCase(rule) {\n    var style = rule.style;\n\n    if (!style) return;\n    if (Array.isArray(style)) {\n      // Handle rules like @font-face, which can have multiple styles in an array\n      for (var index = 0; index < style.length; index++) {\n        style[index] = convertCase(style[index]);\n      }\n    } else {\n      rule.style = convertCase(style);\n    }\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss-camel-case/lib/index.js\n// module id = 87\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = jssPropsSort;\n/**\n * Sort props by length.\n *\n * @param {Rule} rule\n * @api public\n */\nfunction jssPropsSort() {\n  function sort(prop0, prop1) {\n    return prop0.length > prop1.length;\n  }\n\n  return function (rule) {\n    var style = rule.style;\n    var type = rule.type;\n\n    if (!style || type !== 'regular') return;\n    var newStyle = {};\n    var props = Object.keys(style).sort(sort);\n    for (var prop in props) {\n      newStyle[props[prop]] = style[props[prop]];\n    }\n    rule.style = newStyle;\n  };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jss-props-sort/lib/index.js\n// module id = 88\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n    var TouchTracker = require('./TouchTracker');\n    var EventHandler = require('../core/EventHandler');\n    var OptionsManager = require('../core/OptionsManager');\n\n    /**\n     * Handles piped in touch events. Emits 'start', 'update', and 'events'\n     *   events with delta, position, velocity, acceleration, clientX, clientY, count, and touch id.\n     *   Useful for dealing with inputs on touch devices. Designed to be used either as standalone, or\n     *   included in a GenericSync.\n     *\n     * @class TouchSync\n     * @constructor\n     *\n     * @example\n     *   var Surface = require('../core/Surface');\n     *   var TouchSync = require('../inputs/TouchSync');\n     *\n     *   var surface = new Surface({ size: [100, 100] });\n     *   var touchSync = new TouchSync();\n     *   surface.pipe(touchSync);\n     *\n     *   touchSync.on('start', function (e) { // react to start });\n     *   touchSync.on('update', function (e) { // react to update });\n     *   touchSync.on('end', function (e) { // react to end });*\n     *\n     * @param [options] {Object}             default options overrides\n     * @param [options.direction] {Number}   read from a particular axis\n     * @param [options.rails] {Boolean}      read from axis with greatest differential\n     * @param [options.velocitySampleLength] {Number}  Number of previous frames to check velocity against.\n     * @param [options.scale] {Number}       constant factor to scale velocity output\n     * @param [options.touchLimit] {Number}  touchLimit upper bound for emitting events based on number of touches\n     */\n    function TouchSync(options) {\n        this.options =  Object.create(TouchSync.DEFAULT_OPTIONS);\n        this._optionsManager = new OptionsManager(this.options);\n        if (options) this.setOptions(options);\n\n        this._eventOutput = new EventHandler();\n        this._touchTracker = new TouchTracker({\n            touchLimit: this.options.touchLimit\n        });\n\n        EventHandler.setOutputHandler(this, this._eventOutput);\n        EventHandler.setInputHandler(this, this._touchTracker);\n\n        this._touchTracker.on('trackstart', _handleStart.bind(this));\n        this._touchTracker.on('trackmove', _handleMove.bind(this));\n        this._touchTracker.on('trackend', _handleEnd.bind(this));\n\n        this._payload = {\n            delta    : null,\n            position : null,\n            velocity : null,\n            clientX  : undefined,\n            clientY  : undefined,\n            count    : 0,\n            touch    : undefined\n        };\n\n        this._position = null; // to be deprecated\n    }\n\n    TouchSync.DEFAULT_OPTIONS = {\n        direction: undefined,\n        rails: false,\n        touchLimit: 1,\n        velocitySampleLength: 10,\n        scale: 1\n    };\n\n    TouchSync.DIRECTION_X = 0;\n    TouchSync.DIRECTION_Y = 1;\n\n    var MINIMUM_TICK_TIME = 8;\n\n    /**\n     *  Triggered by trackstart.\n     *  @method _handleStart\n     *  @private\n     */\n    function _handleStart(data) {\n        var velocity;\n        var delta;\n        if (this.options.direction !== undefined){\n            this._position = 0;\n            velocity = 0;\n            delta = 0;\n        }\n        else {\n            this._position = [0, 0];\n            velocity = [0, 0];\n            delta = [0, 0];\n        }\n\n        var payload = this._payload;\n        payload.delta = delta;\n        payload.position = this._position;\n        payload.velocity = velocity;\n        payload.clientX = data.x;\n        payload.clientY = data.y;\n        payload.count = data.count;\n        payload.touch = data.identifier;\n\n        this._eventOutput.emit('start', payload);\n    }\n\n    /**\n     *  Triggered by trackmove.\n     *  @method _handleMove\n     *  @private\n     */\n    function _handleMove(data) {\n        var history = data.history;\n\n        var currHistory = history[history.length - 1];\n        var prevHistory = history[history.length - 2];\n\n        var distantHistory = history[history.length - this.options.velocitySampleLength] ?\n          history[history.length - this.options.velocitySampleLength] :\n          history[history.length - 2];\n\n        var distantTime = distantHistory.timestamp;\n        var currTime = currHistory.timestamp;\n\n        var diffX = currHistory.x - prevHistory.x;\n        var diffY = currHistory.y - prevHistory.y;\n\n        var velDiffX = currHistory.x - distantHistory.x;\n        var velDiffY = currHistory.y - distantHistory.y;\n\n        if (this.options.rails) {\n            if (Math.abs(diffX) > Math.abs(diffY)) diffY = 0;\n            else diffX = 0;\n\n            if (Math.abs(velDiffX) > Math.abs(velDiffY)) velDiffY = 0;\n            else velDiffX = 0;\n        }\n\n        var diffTime = Math.max(currTime - distantTime, MINIMUM_TICK_TIME);\n\n        var velX = velDiffX / diffTime;\n        var velY = velDiffY / diffTime;\n\n        var scale = this.options.scale;\n        var nextVel;\n        var nextDelta;\n\n        if (this.options.direction === TouchSync.DIRECTION_X) {\n            nextDelta = scale * diffX;\n            nextVel = scale * velX;\n            this._position += nextDelta;\n        }\n        else if (this.options.direction === TouchSync.DIRECTION_Y) {\n            nextDelta = scale * diffY;\n            nextVel = scale * velY;\n            this._position += nextDelta;\n        }\n        else {\n            nextDelta = [scale * diffX, scale * diffY];\n            nextVel = [scale * velX, scale * velY];\n            this._position[0] += nextDelta[0];\n            this._position[1] += nextDelta[1];\n        }\n\n        var payload = this._payload;\n        payload.delta    = nextDelta;\n        payload.velocity = nextVel;\n        payload.position = this._position;\n        payload.clientX  = data.x;\n        payload.clientY  = data.y;\n        payload.count    = data.count;\n        payload.touch    = data.identifier;\n\n        this._eventOutput.emit('update', payload);\n    }\n\n    /**\n     *  Triggered by trackend.\n     *  @method _handleEnd\n     *  @private\n     */\n    function _handleEnd(data) {\n        this._payload.count = data.count;\n        this._eventOutput.emit('end', this._payload);\n    }\n\n    /**\n     * Set internal options, overriding any default options\n     *\n     * @method setOptions\n     *\n     * @param [options] {Object}             default options overrides\n     * @param [options.direction] {Number}   read from a particular axis\n     * @param [options.rails] {Boolean}      read from axis with greatest differential\n     * @param [options.scale] {Number}       constant factor to scale velocity output\n     */\n    TouchSync.prototype.setOptions = function setOptions(options) {\n        return this._optionsManager.setOptions(options);\n    };\n\n    /**\n     * Return entire options dictionary, including defaults.\n     *\n     * @method getOptions\n     * @return {Object} configuration options\n     */\n    TouchSync.prototype.getOptions = function getOptions() {\n        return this.options;\n    };\n\n    module.exports = TouchSync;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/inputs/TouchSync.js\n// module id = 89\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n    var EventHandler = require('../core/EventHandler');\n\n    var _now = Date.now;\n\n    function _timestampTouch(touch, event, history) {\n        return {\n            x: touch.clientX,\n            y: touch.clientY,\n            identifier : touch.identifier,\n            origin: event.origin,\n            timestamp: _now(),\n            count: event.touches.length,\n            history: history\n        };\n    }\n\n    function _handleStart(event) {\n        if (event.touches.length > this.touchLimit) return;\n        this.isTouched = true;\n\n        for (var i = 0; i < event.changedTouches.length; i++) {\n            var touch = event.changedTouches[i];\n            var data = _timestampTouch(touch, event, null);\n            this.eventOutput.emit('trackstart', data);\n            if (!this.selective && !this.touchHistory[touch.identifier]) this.track(data);\n        }\n    }\n\n    function _handleMove(event) {\n        if (event.touches.length > this.touchLimit) return;\n\n        for (var i = 0; i < event.changedTouches.length; i++) {\n            var touch = event.changedTouches[i];\n            var history = this.touchHistory[touch.identifier];\n            if (history) {\n                var data = _timestampTouch(touch, event, history);\n                this.touchHistory[touch.identifier].push(data);\n                this.eventOutput.emit('trackmove', data);\n            }\n        }\n    }\n\n    function _handleEnd(event) {\n        if (!this.isTouched) return;\n\n        for (var i = 0; i < event.changedTouches.length; i++) {\n            var touch = event.changedTouches[i];\n            var history = this.touchHistory[touch.identifier];\n            if (history) {\n                var data = _timestampTouch(touch, event, history);\n                this.eventOutput.emit('trackend', data);\n                delete this.touchHistory[touch.identifier];\n            }\n        }\n\n        this.isTouched = false;\n    }\n\n    function _handleUnpipe() {\n        for (var i in this.touchHistory) {\n            var history = this.touchHistory[i];\n            this.eventOutput.emit('trackend', {\n                touch: history[history.length - 1].touch,\n                timestamp: Date.now(),\n                count: 0,\n                history: history\n            });\n            delete this.touchHistory[i];\n        }\n    }\n\n    /**\n     * Helper to TouchSync  tracks piped in touch events, organizes touch\n     *   events by ID, and emits track events back to TouchSync.\n     *   Emits 'trackstart', 'trackmove', and 'trackend' events upstream.\n     *\n     * @class TouchTracker\n     * @constructor\n     * @param {Object} options default options overrides\n     * @param [options.selective] {Boolean} selective if false, saves state for each touch\n     * @param [options.touchLimit] {Number} touchLimit upper bound for emitting events based on number of touches\n     */\n    function TouchTracker(options) {\n        this.selective = options.selective;\n        this.touchLimit = options.touchLimit || 1;\n\n        this.touchHistory = {};\n\n        this.eventInput = new EventHandler();\n        this.eventOutput = new EventHandler();\n\n        EventHandler.setInputHandler(this, this.eventInput);\n        EventHandler.setOutputHandler(this, this.eventOutput);\n\n        this.eventInput.on('touchstart', _handleStart.bind(this));\n        this.eventInput.on('touchmove', _handleMove.bind(this));\n        this.eventInput.on('touchend', _handleEnd.bind(this));\n        this.eventInput.on('touchcancel', _handleEnd.bind(this));\n        this.eventInput.on('unpipe', _handleUnpipe.bind(this));\n\n        this.isTouched = false;\n    }\n\n    /**\n     * Record touch data, if selective is false.\n     * @private\n     * @method track\n     * @param {Object} data touch data\n     */\n    TouchTracker.prototype.track = function track(data) {\n        this.touchHistory[data.identifier] = [data];\n    };\n\n    module.exports = TouchTracker;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/inputs/TouchTracker.js\n// module id = 90\n// module chunks = 0","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n    var EventHandler = require('../core/EventHandler');\n\n    /**\n     * Combines multiple types of sync classes (e.g. mouse, touch,\n     *  scrolling) into one standardized interface for inclusion in widgets.\n     *\n     *  Sync classes are first registered with a key, and then can be accessed\n     *  globally by key.\n     *\n     *  Emits 'start', 'update' and 'end' events as a union of the sync class\n     *  providers.\n     *\n     * @class GenericSync\n     * @constructor\n     * @param syncs {Object|Array} object with fields {sync key : sync options}\n     *    or an array of registered sync keys\n     * @param [options] {Object|Array} options object to set on all syncs\n     */\n    function GenericSync(syncs, options) {\n        this._eventInput = new EventHandler();\n        this._eventOutput = new EventHandler();\n\n        EventHandler.setInputHandler(this, this._eventInput);\n        EventHandler.setOutputHandler(this, this._eventOutput);\n\n        this._syncs = {};\n        if (syncs) this.addSync(syncs);\n        if (options) this.setOptions(options);\n    }\n\n    GenericSync.DIRECTION_X = 0;\n    GenericSync.DIRECTION_Y = 1;\n    GenericSync.DIRECTION_Z = 2;\n\n    // Global registry of sync classes. Append only.\n    var registry = {};\n\n    /**\n     * Register a global sync class with an identifying key\n     *\n     * @static\n     * @method register\n     *\n     * @param syncObject {Object} an object of {sync key : sync options} fields\n     */\n    GenericSync.register = function register(syncObject) {\n        for (var key in syncObject){\n            if (registry[key]){ // skip redundant registration\n                if (registry[key] !== syncObject[key]) // only if same registered class\n                    throw new Error('Conflicting sync classes for key: ' + key);\n            }\n            else registry[key] = syncObject[key];\n        }\n    };\n\n    /**\n     * Helper to set options on all sync instances\n     *\n     * @method setOptions\n     * @param options {Object} options object\n     */\n    GenericSync.prototype.setOptions = function(options) {\n        for (var key in this._syncs){\n            this._syncs[key].setOptions(options);\n        }\n    };\n\n    /**\n     * Pipe events to a sync class\n     *\n     * @method pipeSync\n     * @param key {String} identifier for sync class\n     */\n    GenericSync.prototype.pipeSync = function pipeToSync(key) {\n        var sync = this._syncs[key];\n        this._eventInput.pipe(sync);\n        sync.pipe(this._eventOutput);\n    };\n\n    /**\n     * Unpipe events from a sync class\n     *\n     * @method unpipeSync\n     * @param key {String} identifier for sync class\n     */\n    GenericSync.prototype.unpipeSync = function unpipeFromSync(key) {\n        var sync = this._syncs[key];\n        this._eventInput.unpipe(sync);\n        sync.unpipe(this._eventOutput);\n    };\n\n    function _addSingleSync(key, options) {\n        if (!registry[key]) return;\n        this._syncs[key] = new (registry[key])(options);\n        this.pipeSync(key);\n    }\n\n    /**\n     * Add a sync class to from the registered classes\n     *\n     * @method addSync\n     * @param syncs {Object|Array.String} an array of registered sync keys\n     *    or an object with fields {sync key : sync options}\n     */\n    GenericSync.prototype.addSync = function addSync(syncs) {\n        if (syncs instanceof Array)\n            for (var i = 0; i < syncs.length; i++)\n                _addSingleSync.call(this, syncs[i]);\n        else if (syncs instanceof Object)\n            for (var key in syncs)\n                _addSingleSync.call(this, key, syncs[key]);\n    };\n\n    module.exports = GenericSync;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/famous/src/inputs/GenericSync.js\n// module id = 91\n// module chunks = 0","\"use strict\";\n\nexports.callAfter = callAfter;\nfunction callAfter(times, callback) {\n    var count = 0;\n    return function () {\n        if (++count == times) {\n            if (typeof callback == \"function\") {\n                callback.apply(this, arguments);\n            }\n        }\n    };\n}\nexports[\"default\"] = callAfter;\nexports.__esModule = true;\n//# sourceMappingURL=callAfter.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/army-knife/callAfter.js\n// module id = 92\n// module chunks = 0","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"GeometryInterfaces\"] = factory();\n\telse\n\t\troot[\"GeometryInterfaces\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tvar _DOMMatrix = __webpack_require__(1);\n\n\tvar _DOMMatrix2 = _interopRequireDefault(_DOMMatrix);\n\n\tvar _DOMMatrixReadOnly = __webpack_require__(2);\n\n\tvar _DOMMatrixReadOnly2 = _interopRequireDefault(_DOMMatrixReadOnly);\n\n\tvar _DOMPoint = __webpack_require__(4);\n\n\tvar _global = null;\n\n\t// browser\n\tif (typeof window != 'undefined') {\n\t    _global = window;\n\t} else if (typeof global != 'undefined') {\n\t    _global = global;\n\t}\n\n\tif (_global) {\n\t    _global.DOMMatrix = _DOMMatrix2['default'];\n\t    _global.DOMMatrixReadOnly = _DOMMatrixReadOnly2['default'];\n\t    _global.DOMPoint = _DOMPoint.DOMPoint;\n\t    _global.DOMPointReadOnly = _DOMPoint.DOMPointReadOnly;\n\t}\n\n\texports.DOMMatrix = _DOMMatrix2['default'];\n\texports.DOMMatrixReadOnly = _DOMMatrixReadOnly2['default'];\n\texports.DOMPoint = _DOMPoint.DOMPoint;\n\texports.DOMPointReadOnly = _DOMPoint.DOMPointReadOnly;\n\t//# sourceMappingURL=index.js.map\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tvar _get = function get(_x14, _x15, _x16) { var _again = true; _function: while (_again) { var object = _x14, property = _x15, receiver = _x16; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x14 = parent; _x15 = property; _x16 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\tvar _DOMMatrixReadOnly2 = __webpack_require__(2);\n\n\tvar _DOMMatrixReadOnly3 = _interopRequireDefault(_DOMMatrixReadOnly2);\n\n\tvar _utilities = __webpack_require__(3);\n\n\tvar DOMMatrix = (function (_DOMMatrixReadOnly) {\n\t    _inherits(DOMMatrix, _DOMMatrixReadOnly);\n\n\t    function DOMMatrix(arg) {\n\t        _classCallCheck(this, DOMMatrix);\n\n\t        var numArgs = arguments.length;\n\t        if (numArgs === 0) {\n\t            _get(Object.getPrototypeOf(DOMMatrix.prototype), 'constructor', this).call(this, [1, 0, 0, 1, 0, 0]);\n\t        } else if (numArgs === 1) {\n\t            if (typeof arg == 'string') {\n\t                throw new Error('CSS transformList arg not yet implemented.');\n\t                // TODO validate that syntax of transformList matches transform-list (http://www.w3.org/TR/css-transforms-1/#typedef-transform-list).\n\t            } else if (arg instanceof DOMMatrix) {\n\t                    _get(Object.getPrototypeOf(DOMMatrix.prototype), 'constructor', this).call(this, arg._matrix);\n\t                } else if (arg instanceof Float32Array || arg instanceof Float64Array || arg instanceof Array) {\n\t                    _get(Object.getPrototypeOf(DOMMatrix.prototype), 'constructor', this).call(this, arg);\n\t                }\n\t        } else {\n\t            throw new Error('Wrong number of arguments to DOMMatrix constructor.');\n\t        }\n\t    }\n\n\t    // Mutable transform methods\n\n\t    _createClass(DOMMatrix, [{\n\t        key: 'multiplySelf',\n\t        value: function multiplySelf(other) {\n\t            if (!(other instanceof DOMMatrix)) throw new Error('The argument to multiplySelf must be an instance of DOMMatrix');\n\n\t            // TODO: avoid creating a new array, just apply values directly.\n\t            (0, _utilities.multiplyAndApply)(this, other, this);\n\n\t            if (!other.is2D) this._is2D = false;\n\n\t            return this;\n\t        }\n\t    }, {\n\t        key: 'preMultiplySelf',\n\t        value: function preMultiplySelf(other) {\n\t            if (!(other instanceof DOMMatrix)) throw new Error('The argument to multiplySelf must be an instance of DOMMatrix');\n\n\t            // TODO: avoid creating a new array, just apply values directly.\n\t            (0, _utilities.multiplyAndApply)(other, this, this);\n\n\t            if (!other.is2D) this._is2D = false;\n\n\t            return this;\n\t        }\n\t    }, {\n\t        key: 'translateSelf',\n\t        value: function translateSelf(tx, ty) {\n\t            var tz = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n\t            // TODO: check args are numbers\n\n\t            if (arguments.length === 1) throw new Error('The first two arguments (X and Y translation values) are required (the third, Z translation, is optional).');\n\n\t            // http://www.w3.org/TR/2012/WD-css3-transforms-20120911/#Translate3dDefined\n\t            var translationMatrix = new DOMMatrix([\n\t            // column-major:\n\t            1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1]);\n\n\t            this.multiplySelf(translationMatrix);\n\n\t            if (tz != 0) {\n\t                this._is2D = false;\n\t            }\n\n\t            return this;\n\t        }\n\t    }, {\n\t        key: 'scaleSelf',\n\t        value: function scaleSelf(scale) {\n\t            var originX = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t            var originY = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n\t            this.translateSelf(originX, originY);\n\n\t            this.multiplySelf(new DOMMatrix([\n\t            // 2D:\n\t            /*a*/scale, /*b*/0,\n\t            /*c*/0, /*d*/scale,\n\t            /*e*/0, /*f*/0]));\n\n\t            this.translateSelf(-originX, -originY);\n\t            return this;\n\t        }\n\t    }, {\n\t        key: 'scale3dSelf',\n\t        value: function scale3dSelf(scale) {\n\t            var originX = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t            var originY = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\t            var originZ = arguments.length <= 3 || arguments[3] === undefined ? 0 : arguments[3];\n\n\t            this.translateSelf(originX, originY, originZ);\n\n\t            this.multiplySelf(new DOMMatrix([\n\t            // 3D\n\t            scale, 0, 0, 0, 0, scale, 0, 0, 0, 0, scale, 0, 0, 0, 0, 1]));\n\n\t            this.translateSelf(-originX, -originY, -originZ);\n\t            return this;\n\t        }\n\t    }, {\n\t        key: 'scaleNonUniformSelf',\n\t        value: function scaleNonUniformSelf(scaleX) {\n\t            var scaleY = arguments.length <= 1 || arguments[1] === undefined ? 1 : arguments[1];\n\t            var scaleZ = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];\n\t            var originX = arguments.length <= 3 || arguments[3] === undefined ? 0 : arguments[3];\n\t            var originY = arguments.length <= 4 || arguments[4] === undefined ? 0 : arguments[4];\n\t            var originZ = arguments.length <= 5 || arguments[5] === undefined ? 0 : arguments[5];\n\n\t            this.translateSelf(originX, originY, originZ);\n\n\t            this.multiplySelf(new DOMMatrix([\n\t            // 3D\n\t            scaleX, 0, 0, 0, 0, scaleY, 0, 0, 0, 0, scaleZ, 0, 0, 0, 0, 1]));\n\n\t            this.translateSelf(-originX, -originY, -originZ);\n\n\t            if (scaleZ !== 1 || originZ !== 0) this._is2D = false;\n\n\t            return this;\n\t        }\n\t    }, {\n\t        key: 'rotateSelf',\n\t        value: function rotateSelf(angle) {\n\t            var originX = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t            var originY = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n\t            this.translateSelf(originX, originY);\n\n\t            // axis of rotation\n\t            var x = 0;\n\t            var y = 0;\n\t            var z = 1;\n\t            // We're rotating around the Z axis.\n\n\t            this.rotateAxisAngleSelf(x, y, z, angle);\n\n\t            this.translateSelf(-originX, -originY);\n\t            return this;\n\t        }\n\n\t        // TODO\n\t    }, {\n\t        key: 'rotateFromVectorSelf',\n\t        value: function rotateFromVectorSelf(x, y) {\n\t            throw new Error('rotateFromVectorSelf is not implemented yet.');\n\t        }\n\t    }, {\n\t        key: 'rotateAxisAngleSelf',\n\t        value: function rotateAxisAngleSelf(x, y, z, angle) {\n\t            var rotationMatrix = new DOMMatrix((0, _utilities.rotateAxisAngleArray)(x, y, z, angle));\n\t            this.multiplySelf(rotationMatrix);\n\t            return this;\n\t        }\n\t    }, {\n\t        key: 'skewXSelf',\n\t        value: function skewXSelf(sx) {\n\t            throw new Error('skewXSelf is not implemented yet.');\n\t        }\n\t    }, {\n\t        key: 'skewYSelf',\n\t        value: function skewYSelf(sy) {\n\t            throw new Error('skewYSelf is not implemented yet.');\n\t        }\n\t    }, {\n\t        key: 'invertSelf',\n\t        value: function invertSelf() {\n\t            throw new Error('invertSelf is not implemented yet.');\n\t        }\n\t    }, {\n\t        key: 'setMatrixValue',\n\t        value: function setMatrixValue( /*DOMString*/transformList) {\n\t            throw new Error('setMatrixValue is not implemented yet.');\n\t        }\n\t    }, {\n\t        key: 'a',\n\t        get: function get() {\n\t            return this.m11;\n\t        },\n\t        set: function set(value) {\n\t            this.m11 = value;\n\t        }\n\t    }, {\n\t        key: 'b',\n\t        get: function get() {\n\t            return this.m12;\n\t        },\n\t        set: function set(value) {\n\t            this.m12 = value;\n\t        }\n\t    }, {\n\t        key: 'c',\n\t        get: function get() {\n\t            return this.m21;\n\t        },\n\t        set: function set(value) {\n\t            this.m21 = value;\n\t        }\n\t    }, {\n\t        key: 'd',\n\t        get: function get() {\n\t            return this.m22;\n\t        },\n\t        set: function set(value) {\n\t            this.m22 = value;\n\t        }\n\t    }, {\n\t        key: 'e',\n\t        get: function get() {\n\t            return this.m41;\n\t        },\n\t        set: function set(value) {\n\t            this.m41 = value;\n\t        }\n\t    }, {\n\t        key: 'f',\n\t        get: function get() {\n\t            return this.m42;\n\t        },\n\t        set: function set(value) {\n\t            this.m42 = value;\n\t        }\n\t    }, {\n\t        key: 'm11',\n\t        get: function get() {\n\t            return this._matrix[0];\n\t        },\n\t        set: function set(value) {\n\t            this._matrix[0] = value;\n\t        }\n\t    }, {\n\t        key: 'm12',\n\t        get: function get() {\n\t            return this._matrix[4];\n\t        },\n\t        set: function set(value) {\n\t            this._matrix[4] = value;\n\t        }\n\t    }, {\n\t        key: 'm13',\n\t        get: function get() {\n\t            return this._matrix[8];\n\t        },\n\t        set: function set(value) {\n\t            this._matrix[8] = value;\n\t        }\n\t    }, {\n\t        key: 'm14',\n\t        get: function get() {\n\t            return this._matrix[12];\n\t        },\n\t        set: function set(value) {\n\t            this._matrix[12] = value;\n\t        }\n\t    }, {\n\t        key: 'm21',\n\t        get: function get() {\n\t            return this._matrix[1];\n\t        },\n\t        set: function set(value) {\n\t            this._matrix[1] = value;\n\t        }\n\t    }, {\n\t        key: 'm22',\n\t        get: function get() {\n\t            return this._matrix[5];\n\t        },\n\t        set: function set(value) {\n\t            this._matrix[5] = value;\n\t        }\n\t    }, {\n\t        key: 'm23',\n\t        get: function get() {\n\t            return this._matrix[9];\n\t        },\n\t        set: function set(value) {\n\t            this._matrix[9] = value;\n\t        }\n\t    }, {\n\t        key: 'm24',\n\t        get: function get() {\n\t            return this._matrix[13];\n\t        },\n\t        set: function set(value) {\n\t            this._matrix[13] = value;\n\t        }\n\t    }, {\n\t        key: 'm31',\n\t        get: function get() {\n\t            return this._matrix[2];\n\t        },\n\t        set: function set(value) {\n\t            this._matrix[2] = value;\n\t        }\n\t    }, {\n\t        key: 'm32',\n\t        get: function get() {\n\t            return this._matrix[6];\n\t        },\n\t        set: function set(value) {\n\t            this._matrix[6] = value;\n\t        }\n\t    }, {\n\t        key: 'm33',\n\t        get: function get() {\n\t            return this._matrix[10];\n\t        },\n\t        set: function set(value) {\n\t            this._matrix[10] = value;\n\t        }\n\t    }, {\n\t        key: 'm34',\n\t        get: function get() {\n\t            return this._matrix[14];\n\t        },\n\t        set: function set(value) {\n\t            this._matrix[14] = value;\n\t        }\n\t    }, {\n\t        key: 'm41',\n\t        get: function get() {\n\t            return this._matrix[3];\n\t        },\n\t        set: function set(value) {\n\t            this._matrix[3] = value;\n\t        }\n\t    }, {\n\t        key: 'm42',\n\t        get: function get() {\n\t            return this._matrix[7];\n\t        },\n\t        set: function set(value) {\n\t            this._matrix[7] = value;\n\t        }\n\t    }, {\n\t        key: 'm43',\n\t        get: function get() {\n\t            return this._matrix[11];\n\t        },\n\t        set: function set(value) {\n\t            this._matrix[11] = value;\n\t        }\n\t    }, {\n\t        key: 'm44',\n\t        get: function get() {\n\t            return this._matrix[15];\n\t        },\n\t        set: function set(value) {\n\t            this._matrix[15] = value;\n\t        }\n\t    }]);\n\n\t    return DOMMatrix;\n\t})(_DOMMatrixReadOnly3['default']);\n\n\texports['default'] = DOMMatrix;\n\tmodule.exports = exports['default'];\n\t//# sourceMappingURL=DOMMatrix.js.map\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar _DOMMatrix = __webpack_require__(1);\n\n\tvar _DOMMatrix2 = _interopRequireDefault(_DOMMatrix);\n\n\tvar _utilities = __webpack_require__(3);\n\n\t// This matrix is represented internally in row-major format so that it is easy\n\t// to look at visually. In a pair of coordinates (as in \"m23\") the first number\n\t// is the column and the second is the row (so \"m23\" means column 2 row 3).\n\tvar identity = [\n\t/*m11*/1, /*m21*/0, /*m31*/0, /*m41*/0,\n\t/*m12*/0, /*m22*/1, /*m32*/0, /*m42*/0,\n\t/*m13*/0, /*m23*/0, /*m33*/1, /*m43*/0,\n\t/*m14*/0, /*m24*/0, /*m34*/0, /*m44*/1];\n\n\tvar DOMMatrixReadOnly = (function () {\n\n\t    /**\n\t     * @param {Array.number} numberSequence An array of numbers. If the array\n\t     * has 6 items, then those items set the values of m11, m12, m21, m22, m41,\n\t     * m42 in that order (or the values a, b, c, d, e, f if you're using those\n\t     * aliases) and this.is2D is true. If the array has 16 items (in\n\t     * column-major order), then they set all the values of the underlying\n\t     * matrix (m11 to m44) and this.is2D is set false. Arrays of other lengths\n\t     * throw an error.\n\t     */\n\n\t    function DOMMatrixReadOnly() {\n\t        var numberSequence = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n\t        _classCallCheck(this, DOMMatrixReadOnly);\n\n\t        if (!(this instanceof _DOMMatrix2['default'])) throw new TypeError('DOMMatrixReadOnly can\\'t be instantiated directly. Use DOMMatrix instead.');\n\n\t        var length = numberSequence.length;\n\n\t        if (length === undefined || !(length === 6 || length === 16)) throw new TypeError('DOMMatrix constructor argument \"numberSequence\" must be an array-like with 6 or 16 numbers.');\n\n\t        this._matrix = new Float64Array(identity);\n\t        this._isIdentity = true;\n\t        this._is2D = length === 6 ? true : false;\n\n\t        (0, _utilities.applyArrayValuesToDOMMatrix)(numberSequence, this);\n\t    }\n\n\t    // Immutable transform methods -------------------------------------------\n\n\t    _createClass(DOMMatrixReadOnly, [{\n\t        key: 'translate',\n\t        value: function translate(tx, ty) {\n\t            var tz = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n\t            return new _DOMMatrix2['default'](this).translateSelf(tx, ty, tz);\n\t        }\n\t    }, {\n\t        key: 'scale',\n\t        value: function scale(_scale) {\n\t            var originX = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t            var originY = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n\t            return new _DOMMatrix2['default'](this).scaleSelf(_scale, originX, originY);\n\t        }\n\t    }, {\n\t        key: 'scale3d',\n\t        value: function scale3d(scale) {\n\t            var originX = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t            var originY = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\t            var originZ = arguments.length <= 3 || arguments[3] === undefined ? 0 : arguments[3];\n\n\t            return new _DOMMatrix2['default'](this).scale3dSelf(scale, originX, originY, originZ);\n\t        }\n\t    }, {\n\t        key: 'scaleNonUniform',\n\t        value: function scaleNonUniform(scaleX) {\n\t            var scaleY = arguments.length <= 1 || arguments[1] === undefined ? 1 : arguments[1];\n\t            var scaleZ = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];\n\t            var originX = arguments.length <= 3 || arguments[3] === undefined ? 0 : arguments[3];\n\t            var originY = arguments.length <= 4 || arguments[4] === undefined ? 0 : arguments[4];\n\t            var originZ = arguments.length <= 5 || arguments[5] === undefined ? 0 : arguments[5];\n\n\t            return new _DOMMatrix2['default'](this).scaleNonUniformSelf(scaleX, scaleY, scaleZ, originX, originY, originZ);\n\t        }\n\t    }, {\n\t        key: 'rotate',\n\t        value: function rotate(angle) {\n\t            var originX = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\t            var originY = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n\t            return new _DOMMatrix2['default'](this).rotateSelf(angle, originX, originY);\n\t        }\n\n\t        // TODO\n\t    }, {\n\t        key: 'rotateFromVector',\n\t        value: function rotateFromVector(x, y) {\n\t            throw new Error('rotateFromVector is not implemented yet.');\n\t        }\n\t    }, {\n\t        key: 'rotateAxisAngle',\n\t        value: function rotateAxisAngle(x, y, z, angle) {\n\t            return new _DOMMatrix2['default'](this).rotateAxisAngleSelf(x, y, z, angle);\n\t        }\n\t    }, {\n\t        key: 'skewX',\n\t        value: function skewX(sx) {\n\t            throw new Error('skewX is not implemented yet.');\n\t        }\n\t    }, {\n\t        key: 'skewY',\n\t        value: function skewY(sy) {\n\t            throw new Error('skewY is not implemented yet.');\n\t        }\n\t    }, {\n\t        key: 'multiply',\n\t        value: function multiply(other) {\n\t            return new _DOMMatrix2['default'](this).multiplySelf(other);\n\t        }\n\t    }, {\n\t        key: 'flipX',\n\t        value: function flipX() {\n\t            throw new Error('flipX is not implemented yet.');\n\t        }\n\t    }, {\n\t        key: 'flipY',\n\t        value: function flipY() {\n\t            throw new Error('flipY is not implemented yet.');\n\t        }\n\t    }, {\n\t        key: 'inverse',\n\t        value: function inverse() {\n\t            throw new Error('inverse is not implemented yet.');\n\t        }\n\t    }, {\n\t        key: 'transformPoint',\n\t        value: function transformPoint( /*optional DOMPointInit*/point) {\n\t            throw new Error('transformPoint is not implemented yet.');\n\t        }\n\t    }, {\n\t        key: 'toFloat32Array',\n\t        value: function toFloat32Array() {\n\t            return Float32Array.from(this._matrix);\n\t        }\n\t    }, {\n\t        key: 'toFloat64Array',\n\t        value: function toFloat64Array() {\n\t            return Float64Array.from(this._matrix);\n\t        }\n\n\t        //stringifier() {} // What's this?\n\n\t    }, {\n\t        key: 'is2D',\n\t        get: function get() {\n\t            return this._is2D;\n\t        }\n\n\t        /*\n\t         * TODO: make sure this matches the spec.\n\t         * TODO: Instead of calculating here, perhaps calculate and set\n\t         * this._isIdentity in other operations, and simply return the internal one\n\t         * here.\n\t         */\n\t    }, {\n\t        key: 'isIdentity',\n\t        get: function get() {\n\t            for (var i = 0, len = this._matrix.length; i < len; i += 1) {\n\t                if (this._matrix[i] != identity[i]) return this._isIdentity = false;\n\t            }\n\n\t            return this._isIdentity = true;\n\t        }\n\t    }, {\n\t        key: 'a',\n\t        get: function get() {\n\t            return this.m11;\n\t        }\n\t    }, {\n\t        key: 'b',\n\t        get: function get() {\n\t            return this.m12;\n\t        }\n\t    }, {\n\t        key: 'c',\n\t        get: function get() {\n\t            return this.m21;\n\t        }\n\t    }, {\n\t        key: 'd',\n\t        get: function get() {\n\t            return this.m22;\n\t        }\n\t    }, {\n\t        key: 'e',\n\t        get: function get() {\n\t            return this.m41;\n\t        }\n\t    }, {\n\t        key: 'f',\n\t        get: function get() {\n\t            return this.m42;\n\t        }\n\t    }, {\n\t        key: 'm11',\n\t        get: function get() {\n\t            return this._matrix[0];\n\t        }\n\t    }, {\n\t        key: 'm12',\n\t        get: function get() {\n\t            return this._matrix[4];\n\t        }\n\t    }, {\n\t        key: 'm13',\n\t        get: function get() {\n\t            return this._matrix[8];\n\t        }\n\t    }, {\n\t        key: 'm14',\n\t        get: function get() {\n\t            return this._matrix[12];\n\t        }\n\t    }, {\n\t        key: 'm21',\n\t        get: function get() {\n\t            return this._matrix[1];\n\t        }\n\t    }, {\n\t        key: 'm22',\n\t        get: function get() {\n\t            return this._matrix[5];\n\t        }\n\t    }, {\n\t        key: 'm23',\n\t        get: function get() {\n\t            return this._matrix[9];\n\t        }\n\t    }, {\n\t        key: 'm24',\n\t        get: function get() {\n\t            return this._matrix[13];\n\t        }\n\t    }, {\n\t        key: 'm31',\n\t        get: function get() {\n\t            return this._matrix[2];\n\t        }\n\t    }, {\n\t        key: 'm32',\n\t        get: function get() {\n\t            return this._matrix[6];\n\t        }\n\t    }, {\n\t        key: 'm33',\n\t        get: function get() {\n\t            return this._matrix[10];\n\t        }\n\t    }, {\n\t        key: 'm34',\n\t        get: function get() {\n\t            return this._matrix[14];\n\t        }\n\t    }, {\n\t        key: 'm41',\n\t        get: function get() {\n\t            return this._matrix[3];\n\t        }\n\t    }, {\n\t        key: 'm42',\n\t        get: function get() {\n\t            return this._matrix[7];\n\t        }\n\t    }, {\n\t        key: 'm43',\n\t        get: function get() {\n\t            return this._matrix[11];\n\t        }\n\t    }, {\n\t        key: 'm44',\n\t        get: function get() {\n\t            return this._matrix[15];\n\t        }\n\t    }]);\n\n\t    return DOMMatrixReadOnly;\n\t})();\n\n\texports['default'] = DOMMatrixReadOnly;\n\tmodule.exports = exports['default'];\n\t//# sourceMappingURL=DOMMatrixReadOnly.js.map\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\t\n\t// A reusable array, to avoid allocating new arrays during multiplication.\n\t// in column-major order:\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.multiplyAndApply = multiplyAndApply;\n\texports.applyArrayValuesToDOMMatrix = applyArrayValuesToDOMMatrix;\n\texports.rotateAxisAngleArray = rotateAxisAngleArray;\n\tvar scratch = [\n\t/*m11*/0, /*m12*/0, /*m13*/0, /*m14*/0,\n\t/*m21*/0, /*m22*/0, /*m23*/0, /*m24*/0,\n\t/*m31*/0, /*m32*/0, /*m33*/0, /*m34*/0,\n\t/*m41*/0, /*m42*/0, /*m43*/0, /*m44*/0];\n\n\tfunction multiplyAndApply(A, B, target) {\n\n\t    //XXX: Are the following calculations faster hard coded (current), or as a loop?\n\n\t    scratch[0] = A.m11 * B.m11 + A.m21 * B.m12 + A.m31 * B.m13 + A.m41 * B.m14;\n\t    scratch[4] = A.m11 * B.m21 + A.m21 * B.m22 + A.m31 * B.m23 + A.m41 * B.m24;\n\t    scratch[8] = A.m11 * B.m31 + A.m21 * B.m32 + A.m31 * B.m33 + A.m41 * B.m34;\n\t    scratch[12] = A.m11 * B.m41 + A.m21 * B.m42 + A.m31 * B.m43 + A.m41 * B.m44;\n\n\t    scratch[1] = A.m12 * B.m11 + A.m22 * B.m12 + A.m32 * B.m13 + A.m42 * B.m14;\n\t    scratch[5] = A.m12 * B.m21 + A.m22 * B.m22 + A.m32 * B.m23 + A.m42 * B.m24;\n\t    scratch[9] = A.m12 * B.m31 + A.m22 * B.m32 + A.m32 * B.m33 + A.m42 * B.m34;\n\t    scratch[13] = A.m12 * B.m41 + A.m22 * B.m42 + A.m32 * B.m43 + A.m42 * B.m44;\n\n\t    scratch[2] = A.m13 * B.m11 + A.m23 * B.m12 + A.m33 * B.m13 + A.m43 * B.m14;\n\t    scratch[6] = A.m13 * B.m21 + A.m23 * B.m22 + A.m33 * B.m23 + A.m43 * B.m24;\n\t    scratch[10] = A.m13 * B.m31 + A.m23 * B.m32 + A.m33 * B.m33 + A.m43 * B.m34;\n\t    scratch[14] = A.m13 * B.m41 + A.m23 * B.m42 + A.m33 * B.m43 + A.m43 * B.m44;\n\n\t    scratch[3] = A.m14 * B.m11 + A.m24 * B.m12 + A.m34 * B.m13 + A.m44 * B.m14;\n\t    scratch[7] = A.m14 * B.m21 + A.m24 * B.m22 + A.m34 * B.m23 + A.m44 * B.m24;\n\t    scratch[11] = A.m14 * B.m31 + A.m24 * B.m32 + A.m34 * B.m33 + A.m44 * B.m34;\n\t    scratch[15] = A.m14 * B.m41 + A.m24 * B.m42 + A.m34 * B.m43 + A.m44 * B.m44;\n\n\t    applyArrayValuesToDOMMatrix(scratch, target);\n\t}\n\n\tfunction applyArrayValuesToDOMMatrix(array, matrix) {\n\t    var length = array.length;\n\n\t    if (length === 6) {\n\t        matrix.m11 = array[0];\n\t        matrix.m12 = array[1];\n\t        matrix.m21 = array[2];\n\t        matrix.m22 = array[3];\n\t        matrix.m41 = array[4];\n\t        matrix.m42 = array[5];\n\t    } else if (length === 16) {\n\t        matrix.m11 = array[0];\n\t        matrix.m12 = array[1];\n\t        matrix.m13 = array[2];\n\t        matrix.m14 = array[3];\n\t        matrix.m21 = array[4];\n\t        matrix.m22 = array[5];\n\t        matrix.m23 = array[6];\n\t        matrix.m24 = array[7];\n\t        matrix.m31 = array[8];\n\t        matrix.m32 = array[9];\n\t        matrix.m33 = array[10];\n\t        matrix.m34 = array[11];\n\t        matrix.m41 = array[12];\n\t        matrix.m42 = array[13];\n\t        matrix.m43 = array[14];\n\t        matrix.m44 = array[15];\n\t    }\n\t}\n\n\tfunction rotateAxisAngleArray(x, y, z, angle) {\n\t    var sin = Math.sin;\n\t    var cos = Math.cos;\n\t    var pow = Math.pow;\n\n\t    var halfAngle = degreesToRadians(angle / 2);\n\n\t    // TODO: should we provide a 6-item array here to signify 2D when the\n\t    // rotation is about the Z axis (for example when calling rotateSelf)?\n\t    // TODO: Performance can be improved by first detecting when x, y, or z of\n\t    // the axis are zero or 1, and using a pre-simplified version of the\n\t    // folowing math based on that condition.\n\t    // TODO: Performance can be improved by using different equations (use trig\n\t    // identities to find alternate formulas).\n\t    return [1 - 2 * (y * y + z * z) * pow(sin(halfAngle), 2), 2 * (x * y * pow(sin(halfAngle), 2) + z * sin(halfAngle) * cos(halfAngle)), 2 * (x * z * pow(sin(halfAngle), 2) - y * sin(halfAngle) * cos(halfAngle)), 0, 2 * (x * y * pow(sin(halfAngle), 2) - z * sin(halfAngle) * cos(halfAngle)), 1 - 2 * (x * x + z * z) * pow(sin(halfAngle), 2), 2 * (y * z * pow(sin(halfAngle), 2) + x * sin(halfAngle) * cos(halfAngle)), 0, 2 * (x * z * pow(sin(halfAngle), 2) + y * sin(halfAngle) * cos(halfAngle)), 2 * (y * z * pow(sin(halfAngle), 2) - x * sin(halfAngle) * cos(halfAngle)), 1 - 2 * (x * x + y * y) * pow(sin(halfAngle), 2), 0, 0, 0, 0, 1];\n\t}\n\n\tfunction degreesToRadians(degrees) {\n\t    return Math.PI / 180 * degrees;\n\t}\n\t//# sourceMappingURL=utilities.js.map\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, '__esModule', {\n\t    value: true\n\t});\n\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n\tvar privatesMap = undefined;\n\tvar _ = function _(o) {\n\t    if (!privatesMap) {\n\t        privatesMap = new WeakMap();\n\t        var privates = {};\n\t        privatesMap.set(o, privates);\n\t        return privates;\n\t    } else {\n\t        var privates = privatesMap.get(o);\n\n\t        if (privates === undefined) {\n\t            privates = {};\n\t            privatesMap.set(o, privates);\n\t        }\n\n\t        return privates;\n\t    }\n\t};\n\n\tvar DOMPointReadOnly = (function () {\n\t    function DOMPointReadOnly(x, y, z, w) {\n\t        _classCallCheck(this, DOMPointReadOnly);\n\n\t        if (arguments.length === 1) {\n\t            if (!isDOMPointInit(x)) throw new TypeError('Expected an object with x, y, z, and w properties');\n\n\t            _(this).x = x.x;\n\t            _(this).y = x.y;\n\t            _(this).z = x.z;\n\t            _(this).w = x.w;\n\t        } else if (arguments.length === 4) {\n\t            _(this).x = x || 0;\n\t            _(this).y = y || 0;\n\t            _(this).z = z || 0;\n\t            _(this).w = w || 0;\n\t        } else {\n\t            throw new TypeError('Expected 1 or 4 arguments');\n\t        }\n\t    }\n\n\t    _createClass(DOMPointReadOnly, [{\n\t        key: 'matrixTransform',\n\t        value: function matrixTransform(matrix) {\n\t            var result = new this.constructor(this);\n\t            // TODO\n\t            //const x\n\t            //const y\n\t            //const z\n\t            //const w\n\n\t            return result;\n\t        }\n\t    }, {\n\t        key: 'x',\n\t        get: function get() {\n\t            return _(this).x;\n\t        }\n\t    }, {\n\t        key: 'y',\n\t        get: function get() {\n\t            return _(this).y;\n\t        }\n\t    }, {\n\t        key: 'z',\n\t        get: function get() {\n\t            return _(this).z;\n\t        }\n\t    }, {\n\t        key: 'w',\n\t        get: function get() {\n\t            return _(this).w;\n\t        }\n\t    }], [{\n\t        key: 'fromPoint',\n\t        value: function fromPoint(other) {\n\t            return new this(other);\n\t        }\n\t    }]);\n\n\t    return DOMPointReadOnly;\n\t})();\n\n\texports.DOMPointReadOnly = DOMPointReadOnly;\n\n\tvar DOMPoint = (function (_DOMPointReadOnly) {\n\t    _inherits(DOMPoint, _DOMPointReadOnly);\n\n\t    function DOMPoint() {\n\t        _classCallCheck(this, DOMPoint);\n\n\t        _get(Object.getPrototypeOf(DOMPoint.prototype), 'constructor', this).apply(this, arguments);\n\t    }\n\n\t    _createClass(DOMPoint, [{\n\t        key: 'x',\n\t        set: function set(value) {\n\t            _(this).x = value;\n\t        }\n\t    }, {\n\t        key: 'y',\n\t        set: function set(value) {\n\t            _(this).y = value;\n\t        }\n\t    }, {\n\t        key: 'z',\n\t        set: function set(value) {\n\t            _(this).z = value;\n\t        }\n\t    }, {\n\t        key: 'w',\n\t        set: function set(value) {\n\t            _(this).w = value;\n\t        }\n\t    }]);\n\n\t    return DOMPoint;\n\t})(DOMPointReadOnly);\n\n\texports.DOMPoint = DOMPoint;\n\texports['default'] = DOMPoint;\n\n\tfunction isDOMPointInit(o) {\n\t    if (typeof o != 'object') return false;\n\n\t    if ('x' in o && 'y' in o && 'z' in o && 'w' in o) return true;\n\n\t    return false;\n\t}\n\t//# sourceMappingURL=DOMPoint.js.map\n\n/***/ })\n/******/ ])\n});\n;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/geometry-interfaces/global.js\n// module id = 93\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/regenerator/index.js\n// module id = 94\n// module chunks = 0","// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g =\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this;\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/regenerator-runtime/runtime-module.js\n// module id = 95\n// module chunks = 0","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    if (typeof global.process === \"object\" && global.process.domain) {\n      invoke = global.process.domain.bind(invoke);\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/regenerator-runtime/runtime.js\n// module id = 96\n// module chunks = 0","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/promise.js\n// module id = 97\n// module chunks = 0","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.string.iterator.js\n// module id = 99\n// module chunks = 0","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_string-at.js\n// module id = 100\n// module chunks = 0","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ie8-dom-define.js\n// module id = 101\n// module chunks = 0","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-primitive.js\n// module id = 102\n// module chunks = 0","module.exports = require('./_hide');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_redefine.js\n// module id = 103\n// module chunks = 0","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-create.js\n// module id = 104\n// module chunks = 0","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-create.js\n// module id = 105\n// module chunks = 0","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dps.js\n// module id = 106\n// module chunks = 0","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys.js\n// module id = 107\n// module chunks = 0","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys-internal.js\n// module id = 108\n// module chunks = 0","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iobject.js\n// module id = 109\n// module chunks = 0","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-includes.js\n// module id = 110\n// module chunks = 0","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-absolute-index.js\n// module id = 111\n// module chunks = 0","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gpo.js\n// module id = 112\n// module chunks = 0","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-object.js\n// module id = 113\n// module chunks = 0","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/web.dom.iterable.js\n// module id = 114\n// module chunks = 0","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.iterator.js\n// module id = 115\n// module chunks = 0","module.exports = function () { /* empty */ };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_add-to-unscopables.js\n// module id = 116\n// module chunks = 0","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-step.js\n// module id = 117\n// module chunks = 0","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar sameConstructor = LIBRARY ? function (a, b) {\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n} : function (a, b) {\n  return a === b;\n};\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  if (promise._h == 1) return false;\n  var chain = promise._a || promise._c;\n  var i = 0;\n  var reaction;\n  while (chain.length > i) {\n    reaction = chain[i++];\n    if (reaction.fail || !isUnhandled(reaction.promise)) return false;\n  } return true;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return sameConstructor($Promise, C)\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if (x instanceof $Promise && sameConstructor(x.constructor, this)) return x;\n    return promiseResolve(this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.promise.js\n// module id = 118\n// module chunks = 0","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-instance.js\n// module id = 119\n// module chunks = 0","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_for-of.js\n// module id = 120\n// module chunks = 0","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-call.js\n// module id = 121\n// module chunks = 0","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-array-iter.js\n// module id = 122\n// module chunks = 0","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator-method.js\n// module id = 123\n// module chunks = 0","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_invoke.js\n// module id = 124\n// module chunks = 0","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if (Observer) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_microtask.js\n// module id = 125\n// module chunks = 0","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_redefine-all.js\n// module id = 126\n// module chunks = 0","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-species.js\n// module id = 127\n// module chunks = 0","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-detect.js\n// module id = 128\n// module chunks = 0","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.promise.finally.js\n// module id = 129\n// module chunks = 0","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.promise.try.js\n// module id = 130\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _promise = require(\"../core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (fn) {\n  return function () {\n    var gen = fn.apply(this, arguments);\n    return new _promise2.default(function (resolve, reject) {\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          return _promise2.default.resolve(value).then(function (value) {\n            step(\"next\", value);\n          }, function (err) {\n            step(\"throw\", err);\n          });\n        }\n      }\n\n      return step(\"next\");\n    });\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/asyncToGenerator.js\n// module id = 131\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = require(\"babel-runtime/core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nexports.default = sleep;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Await for a certain amount of time.\n *\n * @example\n * ```js\n * async function main() {\n *     await sleep(10000)\n *     console.log('Logged after 10000 milliseconds!')\n * }\n * main()\n * ```\n */\n\nfunction sleep(duration) {\n  var resolve = null;\n  var promise = new _promise2.default(function (r) {\n    return resolve = r;\n  });\n  setTimeout(resolve, duration);\n  return promise;\n}\n//# sourceMappingURL=sleep.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/awaitbox/timers/sleep.js\n// module id = 132\n// module chunks = 0","/**\n * two.js\n * a two-dimensional drawing api meant for modern browsers. It is renderer\n * agnostic enabling the same api for rendering in multiple contexts: webgl,\n * canvas2d, and svg.\n *\n * Copyright (c) 2012 - 2017 jonobr1 / http://jonobr1.com\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\nthis.Two = (function(previousTwo) {\n\n  var root = typeof window != 'undefined' ? window : typeof global != 'undefined' ? global : null;\n  var _ = {\n    // http://underscorejs.org/  1.8.3\n    _indexAmount: 0,\n    natural: {\n      slice: Array.prototype.slice,\n      indexOf: Array.prototype.indexOf,\n      keys: Object.keys,\n      bind: Function.prototype.bind,\n      create: Object.create\n    },\n    identity: function(value) {\n      return value;\n    },\n    isArguments: function(obj) {\n      return toString.call(obj) === '[object Arguments]';\n    },\n    isFunction: function(obj) {\n      return toString.call(obj) === '[object Function]';\n    },\n    isString: function(obj) {\n      return toString.call(obj) === '[object String]';\n    },\n    isNumber: function(obj) {\n      return toString.call(obj) === '[object Number]';\n    },\n    isDate: function(obj) {\n      return toString.call(obj) === '[object Date]';\n    },\n    isRegExp: function(obj) {\n      return toString.call(obj) === '[object RegExp]';\n    },\n    isError: function(obj) {\n      return toString.call(obj) === '[object Error]';\n    },\n    isFinite: function(obj) {\n      return isFinite(obj) && !isNaN(parseFloat(obj));\n    },\n    isNaN: function(obj) {\n      return _.isNumber(obj) && obj !== +obj;\n    },\n    isBoolean: function(obj) {\n      return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n    },\n    isNull: function(obj) {\n      return obj === null;\n    },\n    isUndefined: function(obj) {\n      return obj === void 0;\n    },\n    isEmpty: function(obj) {\n      if (obj == null) return true;\n      if (isArrayLike && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n      return _.keys(obj).length === 0;\n    },\n    isElement: function(obj) {\n      return !!(obj && obj.nodeType === 1);\n    },\n    isArray: Array.isArray || function(obj) {\n      return toString.call(obj) === '[object Array]';\n    },\n    isObject: function(obj) {\n      var type = typeof obj;\n      return type === 'function' || type === 'object' && !!obj;\n    },\n    toArray: function(obj) {\n      if (!obj) {\n        return [];\n      }\n      if (_.isArray(obj)) {\n        return slice.call(obj);\n      }\n      if (isArrayLike(obj)) {\n        return _.map(obj, _.identity);\n      }\n      return _.values(obj);\n    },\n    range: function(start, stop, step) {\n      if (stop == null) {\n        stop = start || 0;\n        start = 0;\n      }\n      step = step || 1;\n\n      var length = Math.max(Math.ceil((stop - start) / step), 0);\n      var range = Array(length);\n\n      for (var idx = 0; idx < length; idx++, start += step) {\n        range[idx] = start;\n      }\n\n      return range;\n    },\n    indexOf: function(list, item) {\n      if (!!_.natural.indexOf) {\n        return _.natural.indexOf.call(list, item);\n      }\n      for (var i = 0; i < list.length; i++) {\n        if (list[i] === item) {\n          return i;\n        }\n      }\n      return -1;\n    },\n    has: function(obj, key) {\n      return obj != null && hasOwnProperty.call(obj, key);\n    },\n    bind: function(func, ctx) {\n      var natural = _.natural.bind;\n      if (natural && func.bind === natural) {\n        return natural.apply(func, slice.call(arguments, 1));\n      }\n      var args = slice.call(arguments, 2);\n      return function() {\n        func.apply(ctx, args);\n      };\n    },\n    extend: function(base) {\n      var sources = slice.call(arguments, 1);\n      for (var i = 0; i < sources.length; i++) {\n        var obj = sources[i];\n        for (var k in obj) {\n          base[k] = obj[k];\n        }\n      }\n      return base;\n    },\n    defaults: function(base) {\n      var sources = slice.call(arguments, 1);\n      for (var i = 0; i < sources.length; i++) {\n        var obj = sources[i];\n        for (var k in obj) {\n          if (base[k] === void 0) {\n            base[k] = obj[k];\n          }\n        }\n      }\n      return base;\n    },\n    keys: function(obj) {\n      if (!_.isObject(obj)) {\n        return [];\n      }\n      if (_.natural.keys) {\n        return _.natural.keys(obj);\n      }\n      var keys = [];\n      for (var k in obj) {\n        if (_.has(obj, k)) {\n          keys.push(k);\n        }\n      }\n      return keys;\n    },\n    values: function(obj) {\n      var keys = _.keys(obj);\n      var values = [];\n      for (var i = 0; i < keys.length; i++) {\n        var k = keys[i];\n        values.push(obj[k]);\n      }\n      return values;\n    },\n    each: function(obj, iteratee, context) {\n      var ctx = context || this;\n      var keys = !isArrayLike(obj) && _.keys(obj);\n      var length = (keys || obj).length;\n      for (var i = 0; i < length; i++) {\n        var k = keys ? keys[i] : i;\n        iteratee.call(ctx, obj[k], k, obj);\n      }\n      return obj;\n    },\n    map: function(obj, iteratee, context) {\n      var ctx = context || this;\n      var keys = !isArrayLike(obj) && _.keys(obj);\n      var length = (keys || obj).length;\n      var result = [];\n      for (var i = 0; i < length; i++) {\n        var k = keys ? keys[i] : i;\n        result[i] = iteratee.call(ctx, obj[k], k, obj);\n      }\n      return result;\n    },\n    once: function(func) {\n      var init = false;\n      return function() {\n        if (!!init) {\n          return func;\n        }\n        init = true;\n        return func.apply(this, arguments);\n      }\n    },\n    after: function(times, func) {\n      return function() {\n        while (--times < 1) {\n          return func.apply(this, arguments);\n        }\n      }\n    },\n    uniqueId: function(prefix) {\n      var id = ++_._indexAmount + '';\n      return prefix ? prefix + id : id;\n    }\n  };\n\n  /**\n   * Constants\n   */\n\n  var sin = Math.sin,\n    cos = Math.cos,\n    atan2 = Math.atan2,\n    sqrt = Math.sqrt,\n    round = Math.round,\n    abs = Math.abs,\n    PI = Math.PI,\n    TWO_PI = PI * 2,\n    HALF_PI = PI / 2,\n    pow = Math.pow,\n    min = Math.min,\n    max = Math.max;\n\n  /**\n   * Localized variables\n   */\n\n  var count = 0;\n  var slice = _.natural.slice;\n  var perf = ((root.performance && root.performance.now) ? root.performance : Date);\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = function(obj) {\n    return obj == null ? void 0 : obj['length'];\n  };\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  /**\n   * Cross browser dom events.\n   */\n  var dom = {\n\n    temp: (root.document ? root.document.createElement('div') : {}),\n\n    hasEventListeners: _.isFunction(root.addEventListener),\n\n    bind: function(elem, event, func, bool) {\n      if (this.hasEventListeners) {\n        elem.addEventListener(event, func, !!bool);\n      } else {\n        elem.attachEvent('on' + event, func);\n      }\n      return dom;\n    },\n\n    unbind: function(elem, event, func, bool) {\n      if (dom.hasEventListeners) {\n        elem.removeEventListeners(event, func, !!bool);\n      } else {\n        elem.detachEvent('on' + event, func);\n      }\n      return dom;\n    },\n\n    getRequestAnimationFrame: function() {\n\n      var lastTime = 0;\n      var vendors = ['ms', 'moz', 'webkit', 'o'];\n      var request = root.requestAnimationFrame, cancel;\n\n      if(!request) {\n        for (var i = 0; i < vendors.length; i++) {\n          request = root[vendors[i] + 'RequestAnimationFrame'] || request;\n          cancel = root[vendors[i] + 'CancelAnimationFrame']\n            || root[vendors[i] + 'CancelRequestAnimationFrame'] || cancel;\n        }\n\n        request = request || function(callback, element) {\n          var currTime = new Date().getTime();\n          var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n          var id = root.setTimeout(function() { callback(currTime + timeToCall); }, timeToCall);\n          lastTime = currTime + timeToCall;\n          return id;\n        };\n        // cancel = cancel || function(id) {\n        //   clearTimeout(id);\n        // };\n      }\n\n      request.init = _.once(loop);\n\n      return request;\n\n    }\n\n  };\n\n  /**\n   * @class\n   */\n  var Two = root.Two = function(options) {\n\n    // Determine what Renderer to use and setup a scene.\n\n    var params = _.defaults(options || {}, {\n      fullscreen: false,\n      width: 640,\n      height: 480,\n      type: Two.Types.svg,\n      autostart: false\n    });\n\n    _.each(params, function(v, k) {\n      if (k === 'fullscreen' || k === 'autostart') {\n        return;\n      }\n      this[k] = v;\n    }, this);\n\n    // Specified domElement overrides type declaration only if the element does not support declared renderer type.\n    if (_.isElement(params.domElement)) {\n      var tagName = params.domElement.tagName.toLowerCase();\n      // TODO: Reconsider this if statement's logic.\n      if (!/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+'-'+tagName)) {\n        this.type = Two.Types[tagName];\n      }\n    }\n\n    this.renderer = new Two[this.type](this);\n    Two.Utils.setPlaying.call(this, params.autostart);\n    this.frameCount = 0;\n\n    if (params.fullscreen) {\n\n      var fitted = _.bind(fitToWindow, this);\n      _.extend(document.body.style, {\n        overflow: 'hidden',\n        margin: 0,\n        padding: 0,\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        position: 'fixed'\n      });\n      _.extend(this.renderer.domElement.style, {\n        display: 'block',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        position: 'fixed'\n      });\n      dom.bind(root, 'resize', fitted);\n      fitted();\n\n\n    } else if (!_.isElement(params.domElement)) {\n\n      this.renderer.setSize(params.width, params.height, this.ratio);\n      this.width = params.width;\n      this.height = params.height;\n\n    }\n\n    this.scene = this.renderer.scene;\n\n    Two.Instances.push(this);\n    raf.init();\n\n  };\n\n  _.extend(Two, {\n\n    /**\n     * Access to root in other files.\n     */\n\n    root: root,\n\n    /**\n     * Primitive\n     */\n\n    Array: root.Float32Array || Array,\n\n    Types: {\n      webgl: 'WebGLRenderer',\n      svg: 'SVGRenderer',\n      canvas: 'CanvasRenderer'\n    },\n\n    Version: 'v0.7.0',\n\n    Identifier: 'two_',\n\n    Properties: {\n      hierarchy: 'hierarchy',\n      demotion: 'demotion'\n    },\n\n    Events: {\n      play: 'play',\n      pause: 'pause',\n      update: 'update',\n      render: 'render',\n      resize: 'resize',\n      change: 'change',\n      remove: 'remove',\n      insert: 'insert',\n      order: 'order',\n      load: 'load'\n    },\n\n    Commands: {\n      move: 'M',\n      line: 'L',\n      curve: 'C',\n      close: 'Z'\n    },\n\n    Resolution: 8,\n\n    Instances: [],\n\n    noConflict: function() {\n      root.Two = previousTwo;\n      return this;\n    },\n\n    uniqueId: function() {\n      var id = count;\n      count++;\n      return id;\n    },\n\n    Utils: _.extend(_, {\n\n      performance: perf,\n\n      defineProperty: function(property) {\n\n        var object = this;\n        var secret = '_' + property;\n        var flag = '_flag' + property.charAt(0).toUpperCase() + property.slice(1);\n\n        Object.defineProperty(object, property, {\n          enumerable: true,\n          get: function() {\n            return this[secret];\n          },\n          set: function(v) {\n            this[secret] = v;\n            this[flag] = true;\n          }\n        });\n\n      },\n\n      /**\n       * Release an arbitrary class' events from the two.js corpus and recurse\n       * through its children and or vertices.\n       */\n      release: function(obj) {\n\n        if (!_.isObject(obj)) {\n          return;\n        }\n\n        if (_.isFunction(obj.unbind)) {\n          obj.unbind();\n        }\n\n        if (obj.vertices) {\n          if (_.isFunction(obj.vertices.unbind)) {\n            obj.vertices.unbind();\n          }\n          _.each(obj.vertices, function(v) {\n            if (_.isFunction(v.unbind)) {\n              v.unbind();\n            }\n          });\n        }\n\n        if (obj.children) {\n          _.each(obj.children, function(obj) {\n            Two.Utils.release(obj);\n          });\n        }\n\n      },\n\n      xhr: function(path, callback) {\n\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', path);\n\n        xhr.onreadystatechange = function() {\n          if (xhr.readyState === 4 && xhr.status === 200) {\n            callback(xhr.responseText);\n          }\n        };\n\n        xhr.send();\n        return xhr;\n\n      },\n\n      Curve: {\n\n        CollinearityEpsilon: pow(10, -30),\n\n        RecursionLimit: 16,\n\n        CuspLimit: 0,\n\n        Tolerance: {\n          distance: 0.25,\n          angle: 0,\n          epsilon: 0.01\n        },\n\n        // Lookup tables for abscissas and weights with values for n = 2 .. 16.\n        // As values are symmetric, only store half of them and adapt algorithm\n        // to factor in symmetry.\n        abscissas: [\n          [  0.5773502691896257645091488],\n          [0,0.7745966692414833770358531],\n          [  0.3399810435848562648026658,0.8611363115940525752239465],\n          [0,0.5384693101056830910363144,0.9061798459386639927976269],\n          [  0.2386191860831969086305017,0.6612093864662645136613996,0.9324695142031520278123016],\n          [0,0.4058451513773971669066064,0.7415311855993944398638648,0.9491079123427585245261897],\n          [  0.1834346424956498049394761,0.5255324099163289858177390,0.7966664774136267395915539,0.9602898564975362316835609],\n          [0,0.3242534234038089290385380,0.6133714327005903973087020,0.8360311073266357942994298,0.9681602395076260898355762],\n          [  0.1488743389816312108848260,0.4333953941292471907992659,0.6794095682990244062343274,0.8650633666889845107320967,0.9739065285171717200779640],\n          [0,0.2695431559523449723315320,0.5190961292068118159257257,0.7301520055740493240934163,0.8870625997680952990751578,0.9782286581460569928039380],\n          [  0.1252334085114689154724414,0.3678314989981801937526915,0.5873179542866174472967024,0.7699026741943046870368938,0.9041172563704748566784659,0.9815606342467192506905491],\n          [0,0.2304583159551347940655281,0.4484927510364468528779129,0.6423493394403402206439846,0.8015780907333099127942065,0.9175983992229779652065478,0.9841830547185881494728294],\n          [  0.1080549487073436620662447,0.3191123689278897604356718,0.5152486363581540919652907,0.6872929048116854701480198,0.8272013150697649931897947,0.9284348836635735173363911,0.9862838086968123388415973],\n          [0,0.2011940939974345223006283,0.3941513470775633698972074,0.5709721726085388475372267,0.7244177313601700474161861,0.8482065834104272162006483,0.9372733924007059043077589,0.9879925180204854284895657],\n          [  0.0950125098376374401853193,0.2816035507792589132304605,0.4580167776572273863424194,0.6178762444026437484466718,0.7554044083550030338951012,0.8656312023878317438804679,0.9445750230732325760779884,0.9894009349916499325961542]\n        ],\n\n        weights: [\n          [1],\n          [0.8888888888888888888888889,0.5555555555555555555555556],\n          [0.6521451548625461426269361,0.3478548451374538573730639],\n          [0.5688888888888888888888889,0.4786286704993664680412915,0.2369268850561890875142640],\n          [0.4679139345726910473898703,0.3607615730481386075698335,0.1713244923791703450402961],\n          [0.4179591836734693877551020,0.3818300505051189449503698,0.2797053914892766679014678,0.1294849661688696932706114],\n          [0.3626837833783619829651504,0.3137066458778872873379622,0.2223810344533744705443560,0.1012285362903762591525314],\n          [0.3302393550012597631645251,0.3123470770400028400686304,0.2606106964029354623187429,0.1806481606948574040584720,0.0812743883615744119718922],\n          [0.2955242247147528701738930,0.2692667193099963550912269,0.2190863625159820439955349,0.1494513491505805931457763,0.0666713443086881375935688],\n          [0.2729250867779006307144835,0.2628045445102466621806889,0.2331937645919904799185237,0.1862902109277342514260976,0.1255803694649046246346943,0.0556685671161736664827537],\n          [0.2491470458134027850005624,0.2334925365383548087608499,0.2031674267230659217490645,0.1600783285433462263346525,0.1069393259953184309602547,0.0471753363865118271946160],\n          [0.2325515532308739101945895,0.2262831802628972384120902,0.2078160475368885023125232,0.1781459807619457382800467,0.1388735102197872384636018,0.0921214998377284479144218,0.0404840047653158795200216],\n          [0.2152638534631577901958764,0.2051984637212956039659241,0.1855383974779378137417166,0.1572031671581935345696019,0.1215185706879031846894148,0.0801580871597602098056333,0.0351194603317518630318329],\n          [0.2025782419255612728806202,0.1984314853271115764561183,0.1861610000155622110268006,0.1662692058169939335532009,0.1395706779261543144478048,0.1071592204671719350118695,0.0703660474881081247092674,0.0307532419961172683546284],\n          [0.1894506104550684962853967,0.1826034150449235888667637,0.1691565193950025381893121,0.1495959888165767320815017,0.1246289712555338720524763,0.0951585116824927848099251,0.0622535239386478928628438,0.0271524594117540948517806]\n        ]\n\n      },\n\n      /**\n       * Account for high dpi rendering.\n       * http://www.html5rocks.com/en/tutorials/canvas/hidpi/\n       */\n\n      devicePixelRatio: root.devicePixelRatio || 1,\n\n      getBackingStoreRatio: function(ctx) {\n        return ctx.webkitBackingStorePixelRatio ||\n          ctx.mozBackingStorePixelRatio ||\n          ctx.msBackingStorePixelRatio ||\n          ctx.oBackingStorePixelRatio ||\n          ctx.backingStorePixelRatio || 1;\n      },\n\n      getRatio: function(ctx) {\n        return Two.Utils.devicePixelRatio / getBackingStoreRatio(ctx);\n      },\n\n      /**\n       * Properly defer play calling until after all objects\n       * have been updated with their newest styles.\n       */\n      setPlaying: function(b) {\n\n        this.playing = !!b;\n        return this;\n\n      },\n\n      /**\n       * Return the computed matrix of a nested object.\n       * TODO: Optimize traversal.\n       */\n      getComputedMatrix: function(object, matrix) {\n\n        matrix = (matrix && matrix.identity()) || new Two.Matrix();\n        var parent = object, matrices = [];\n\n        while (parent && parent._matrix) {\n          matrices.push(parent._matrix);\n          parent = parent.parent;\n        }\n\n        matrices.reverse();\n\n        _.each(matrices, function(m) {\n\n          var e = m.elements;\n          matrix.multiply(\n            e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7], e[8], e[9]);\n\n        });\n\n        return matrix;\n\n      },\n\n      deltaTransformPoint: function(matrix, x, y) {\n\n        var dx = x * matrix.a + y * matrix.c + 0;\n        var dy = x * matrix.b + y * matrix.d + 0;\n\n        return new Two.Vector(dx, dy);\n\n      },\n\n      /**\n       * https://gist.github.com/2052247\n       */\n      decomposeMatrix: function(matrix) {\n\n        // calculate delta transform point\n        var px = Two.Utils.deltaTransformPoint(matrix, 0, 1);\n        var py = Two.Utils.deltaTransformPoint(matrix, 1, 0);\n\n        // calculate skew\n        var skewX = ((180 / Math.PI) * Math.atan2(px.y, px.x) - 90);\n        var skewY = ((180 / Math.PI) * Math.atan2(py.y, py.x));\n\n        return {\n            translateX: matrix.e,\n            translateY: matrix.f,\n            scaleX: Math.sqrt(matrix.a * matrix.a + matrix.b * matrix.b),\n            scaleY: Math.sqrt(matrix.c * matrix.c + matrix.d * matrix.d),\n            skewX: skewX,\n            skewY: skewY,\n            rotation: skewX // rotation is the same as skew x\n        };\n\n      },\n\n      /**\n       * Walk through item properties and pick the ones of interest.\n       * Will try to resolve styles applied via CSS\n       *\n       * TODO: Reverse calculate `Two.Gradient`s for fill / stroke\n       * of any given path.\n       */\n      applySvgAttributes: function(node, elem) {\n\n        var attributes = {}, styles = {}, i, key, value, attr;\n\n        // Not available in non browser environments\n        if (getComputedStyle) {\n          // Convert CSSStyleDeclaration to a normal object\n          var computedStyles = getComputedStyle(node);\n          i = computedStyles.length;\n\n          while (i--) {\n            key = computedStyles[i];\n            value = computedStyles[key];\n            // Gecko returns undefined for unset properties\n            // Webkit returns the default value\n            if (value !== undefined) {\n              styles[key] = value;\n            }\n          }\n        }\n\n        // Convert NodeMap to a normal object\n        i = node.attributes.length;\n        while (i--) {\n          attr = node.attributes[i];\n          attributes[attr.nodeName] = attr.value;\n        }\n\n        // Getting the correct opacity is a bit tricky, since SVG path elements don't\n        // support opacity as an attribute, but you can apply it via CSS.\n        // So we take the opacity and set (stroke/fill)-opacity to the same value.\n        if (!_.isUndefined(styles.opacity)) {\n          styles['stroke-opacity'] = styles.opacity;\n          styles['fill-opacity'] = styles.opacity;\n        }\n\n        // Merge attributes and applied styles (attributes take precedence)\n        _.extend(styles, attributes);\n\n        // Similarly visibility is influenced by the value of both display and visibility.\n        // Calculate a unified value here which defaults to `true`.\n        styles.visible = !(_.isUndefined(styles.display) && styles.display === 'none')\n          || (_.isUndefined(styles.visibility) && styles.visibility === 'hidden');\n\n        // Now iterate the whole thing\n        for (key in styles) {\n          value = styles[key];\n\n          switch (key) {\n            case 'transform':\n              // TODO: Check this out https://github.com/paperjs/paper.js/blob/master/src/svg/SVGImport.js#L313\n              if (value === 'none') break;\n              var m = node.getCTM ? node.getCTM() : null;\n\n              // Might happen when transform string is empty or not valid.\n              if (m === null) break;\n\n              // // Option 1: edit the underlying matrix and don't force an auto calc.\n              // var m = node.getCTM();\n              // elem._matrix.manual = true;\n              // elem._matrix.set(m.a, m.b, m.c, m.d, m.e, m.f);\n\n              // Option 2: Decompose and infer Two.js related properties.\n              var transforms = Two.Utils.decomposeMatrix(node.getCTM());\n\n              elem.translation.set(transforms.translateX, transforms.translateY);\n              elem.rotation = transforms.rotation;\n              // Warning: Two.js elements only support uniform scalars...\n              elem.scale = transforms.scaleX;\n\n              var x = parseFloat((styles.x + '').replace('px'));\n              var y = parseFloat((styles.y + '').replace('px'));\n\n              // Override based on attributes.\n              if (x) {\n                elem.translation.x = x;\n              }\n\n              if (y) {\n                elem.translation.y = y;\n              }\n\n              break;\n            case 'visible':\n              elem.visible = value;\n              break;\n            case 'stroke-linecap':\n              elem.cap = value;\n              break;\n            case 'stroke-linejoin':\n              elem.join = value;\n              break;\n            case 'stroke-miterlimit':\n              elem.miter = value;\n              break;\n            case 'stroke-width':\n              elem.linewidth = parseFloat(value);\n              break;\n            case 'stroke-opacity':\n            case 'fill-opacity':\n            case 'opacity':\n              elem.opacity = parseFloat(value);\n              break;\n            case 'fill':\n            case 'stroke':\n              if (/url\\(\\#.*\\)/i.test(value)) {\n                elem[key] = this.getById(\n                  value.replace(/url\\(\\#(.*)\\)/i, '$1'));\n              } else {\n                elem[key] = (value === 'none') ? 'transparent' : value;\n              }\n              break;\n            case 'id':\n              elem.id = value;\n              break;\n            case 'class':\n              elem.classList = value.split(' ');\n              break;\n          }\n        }\n\n        return elem;\n\n      },\n\n      /**\n       * Read any number of SVG node types and create Two equivalents of them.\n       */\n      read: {\n\n        svg: function() {\n          return Two.Utils.read.g.apply(this, arguments);\n        },\n\n        g: function(node) {\n\n          var group = new Two.Group();\n\n          // Switched up order to inherit more specific styles\n          Two.Utils.applySvgAttributes.call(this, node, group);\n\n          for (var i = 0, l = node.childNodes.length; i < l; i++) {\n            var n = node.childNodes[i];\n            var tag = n.nodeName;\n            if (!tag) return;\n\n            var tagName = tag.replace(/svg\\:/ig, '').toLowerCase();\n\n            if (tagName in Two.Utils.read) {\n              var o = Two.Utils.read[tagName].call(group, n);\n              group.add(o);\n            }\n          }\n\n          return group;\n\n        },\n\n        polygon: function(node, open) {\n\n          var points = node.getAttribute('points');\n\n          var verts = [];\n          points.replace(/(-?[\\d\\.?]+)[,|\\s](-?[\\d\\.?]+)/g, function(match, p1, p2) {\n            verts.push(new Two.Anchor(parseFloat(p1), parseFloat(p2)));\n          });\n\n          var poly = new Two.Path(verts, !open).noStroke();\n          poly.fill = 'black';\n\n          return Two.Utils.applySvgAttributes.call(this, node, poly);\n\n        },\n\n        polyline: function(node) {\n          return Two.Utils.read.polygon.call(this, node, true);\n        },\n\n        path: function(node) {\n\n          var path = node.getAttribute('d');\n\n          // Create a Two.Path from the paths.\n\n          var coord = new Two.Anchor();\n          var control, coords;\n          var closed = false, relative = false;\n          var commands = path.match(/[a-df-z][^a-df-z]*/ig);\n          var last = commands.length - 1;\n\n          // Split up polybeziers\n\n          _.each(commands.slice(0), function(command, i) {\n\n            var type = command[0];\n            var lower = type.toLowerCase();\n            var items = command.slice(1).trim().split(/[\\s,]+|(?=\\s?[+\\-])/);\n            var pre, post, result = [], bin;\n\n            if (i <= 0) {\n              commands = [];\n            }\n\n            switch (lower) {\n              case 'h':\n              case 'v':\n                if (items.length > 1) {\n                  bin = 1;\n                }\n                break;\n              case 'm':\n              case 'l':\n              case 't':\n                if (items.length > 2) {\n                  bin = 2;\n                }\n                break;\n              case 's':\n              case 'q':\n                if (items.length > 4) {\n                  bin = 4;\n                }\n                break;\n              case 'c':\n                if (items.length > 6) {\n                  bin = 6;\n                }\n                break;\n              case 'a':\n                // TODO: Handle Ellipses\n                break;\n            }\n\n            if (bin) {\n\n              for (var j = 0, l = items.length, times = 0; j < l; j+=bin) {\n\n                var ct = type;\n                if (times > 0) {\n\n                  switch (type) {\n                    case 'm':\n                      ct = 'l';\n                      break;\n                    case 'M':\n                      ct = 'L';\n                      break;\n                  }\n\n                }\n\n                result.push([ct].concat(items.slice(j, j + bin)).join(' '));\n                times++;\n\n              }\n\n              commands = Array.prototype.concat.apply(commands, result);\n\n            } else {\n\n              commands.push(command);\n\n            }\n\n          });\n\n          // Create the vertices for our Two.Path\n\n          var points = [];\n          _.each(commands, function(command, i) {\n\n            var result, x, y;\n            var type = command[0];\n            var lower = type.toLowerCase();\n\n            coords = command.slice(1).trim();\n            coords = coords.replace(/(-?\\d+(?:\\.\\d*)?)[eE]([+\\-]?\\d+)/g, function(match, n1, n2) {\n              return parseFloat(n1) * pow(10, n2);\n            });\n            coords = coords.split(/[\\s,]+|(?=\\s?[+\\-])/);\n            relative = type === lower;\n\n            var x1, y1, x2, y2, x3, y3, x4, y4, reflection;\n\n            switch (lower) {\n\n              case 'z':\n                if (i >= last) {\n                  closed = true;\n                } else {\n                  x = coord.x;\n                  y = coord.y;\n                  result = new Two.Anchor(\n                    x, y,\n                    undefined, undefined,\n                    undefined, undefined,\n                    Two.Commands.close\n                  );\n                }\n                break;\n\n              case 'm':\n              case 'l':\n\n                x = parseFloat(coords[0]);\n                y = parseFloat(coords[1]);\n\n                result = new Two.Anchor(\n                  x, y,\n                  undefined, undefined,\n                  undefined, undefined,\n                  lower === 'm' ? Two.Commands.move : Two.Commands.line\n                );\n\n                if (relative) {\n                  result.addSelf(coord);\n                }\n\n                // result.controls.left.copy(result);\n                // result.controls.right.copy(result);\n\n                coord = result;\n                break;\n\n              case 'h':\n              case 'v':\n\n                var a = lower === 'h' ? 'x' : 'y';\n                var b = a === 'x' ? 'y' : 'x';\n\n                result = new Two.Anchor(\n                  undefined, undefined,\n                  undefined, undefined,\n                  undefined, undefined,\n                  Two.Commands.line\n                );\n                result[a] = parseFloat(coords[0]);\n                result[b] = coord[b];\n\n                if (relative) {\n                  result[a] += coord[a];\n                }\n\n                // result.controls.left.copy(result);\n                // result.controls.right.copy(result);\n\n                coord = result;\n                break;\n\n              case 'c':\n              case 's':\n\n                x1 = coord.x;\n                y1 = coord.y;\n\n                if (!control) {\n                  control = new Two.Vector();//.copy(coord);\n                }\n\n                if (lower === 'c') {\n\n                  x2 = parseFloat(coords[0]);\n                  y2 = parseFloat(coords[1]);\n                  x3 = parseFloat(coords[2]);\n                  y3 = parseFloat(coords[3]);\n                  x4 = parseFloat(coords[4]);\n                  y4 = parseFloat(coords[5]);\n\n                } else {\n\n                  // Calculate reflection control point for proper x2, y2\n                  // inclusion.\n\n                  reflection = getReflection(coord, control, relative);\n\n                  x2 = reflection.x;\n                  y2 = reflection.y;\n                  x3 = parseFloat(coords[0]);\n                  y3 = parseFloat(coords[1]);\n                  x4 = parseFloat(coords[2]);\n                  y4 = parseFloat(coords[3]);\n\n                }\n\n                if (relative) {\n                  x2 += x1;\n                  y2 += y1;\n                  x3 += x1;\n                  y3 += y1;\n                  x4 += x1;\n                  y4 += y1;\n                }\n\n                if (!_.isObject(coord.controls)) {\n                  Two.Anchor.AppendCurveProperties(coord);\n                }\n\n                coord.controls.right.set(x2 - coord.x, y2 - coord.y);\n                result = new Two.Anchor(\n                  x4, y4,\n                  x3 - x4, y3 - y4,\n                  undefined, undefined,\n                  Two.Commands.curve\n                );\n\n                coord = result;\n                control = result.controls.left;\n\n                break;\n\n              case 't':\n              case 'q':\n\n                x1 = coord.x;\n                y1 = coord.y;\n\n                if (!control) {\n                  control = new Two.Vector();//.copy(coord);\n                }\n\n                if (control.isZero()) {\n                  x2 = x1;\n                  y2 = y1;\n                } else {\n                  x2 = control.x;\n                  y1 = control.y;\n                }\n\n                if (lower === 'q') {\n\n                  x3 = parseFloat(coords[0]);\n                  y3 = parseFloat(coords[1]);\n                  x4 = parseFloat(coords[1]);\n                  y4 = parseFloat(coords[2]);\n\n                } else {\n\n                  reflection = getReflection(coord, control, relative);\n\n                  x3 = reflection.x;\n                  y3 = reflection.y;\n                  x4 = parseFloat(coords[0]);\n                  y4 = parseFloat(coords[1]);\n\n                }\n\n                if (relative) {\n                  x2 += x1;\n                  y2 += y1;\n                  x3 += x1;\n                  y3 += y1;\n                  x4 += x1;\n                  y4 += y1;\n                }\n\n                if (!_.isObject(coord.controls)) {\n                  Two.Anchor.AppendCurveProperties(coord);\n                }\n\n                coord.controls.right.set(x2 - coord.x, y2 - coord.y);\n                result = new Two.Anchor(\n                  x4, y4,\n                  x3 - x4, y3 - y4,\n                  undefined, undefined,\n                  Two.Commands.curve\n                );\n\n                coord = result;\n                control = result.controls.left;\n\n                break;\n\n              case 'a':\n\n                // throw new Two.Utils.Error('not yet able to interpret Elliptical Arcs.');\n                x1 = coord.x;\n                y1 = coord.y;\n\n                var rx = parseFloat(coords[0]);\n                var ry = parseFloat(coords[1]);\n                var xAxisRotation = parseFloat(coords[2]) * Math.PI / 180;\n                var largeArcFlag = parseFloat(coords[3]);\n                var sweepFlag = parseFloat(coords[4]);\n\n                x4 = parseFloat(coords[5]);\n                y4 = parseFloat(coords[6]);\n\n                if (relative) {\n                  x4 += x1;\n                  y4 += y1;\n                }\n\n                // http://www.w3.org/TR/SVG/implnote.html#ArcConversionEndpointToCenter\n\n                // Calculate midpoint mx my\n                var mx = (x4 - x1) / 2;\n                var my = (y4 - y1) / 2;\n\n                // Calculate x1' y1' F.6.5.1\n                var _x = mx * Math.cos(xAxisRotation) + my * Math.sin(xAxisRotation);\n                var _y = - mx * Math.sin(xAxisRotation) + my * Math.cos(xAxisRotation);\n\n                var rx2 = rx * rx;\n                var ry2 = ry * ry;\n                var _x2 = _x * _x;\n                var _y2 = _y * _y;\n\n                // adjust radii\n                var l = _x2 / rx2 + _y2 / ry2;\n                if (l > 1) {\n                  rx *= Math.sqrt(l);\n                  ry *= Math.sqrt(l);\n                }\n\n                var amp = Math.sqrt((rx2 * ry2 - rx2 * _y2 - ry2 * _x2) / (rx2 * _y2 + ry2 * _x2));\n\n                if (_.isNaN(amp)) {\n                  amp = 0;\n                } else if (largeArcFlag != sweepFlag && amp > 0) {\n                  amp *= -1;\n                }\n\n                // Calculate cx' cy' F.6.5.2\n                var _cx = amp * rx * _y / ry;\n                var _cy = - amp * ry * _x / rx;\n\n                // Calculate cx cy F.6.5.3\n                var cx = _cx * Math.cos(xAxisRotation) - _cy * Math.sin(xAxisRotation) + (x1 + x4) / 2;\n                var cy = _cx * Math.sin(xAxisRotation) + _cy * Math.cos(xAxisRotation) + (y1 + y4) / 2;\n\n                // vector magnitude\n                var m = function(v) { return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2)); }\n                // ratio between two vectors\n                var r = function(u, v) { return (u[0] * v[0] + u[1] * v[1]) / (m(u) * m(v)) }\n                // angle between two vectors\n                var a = function(u, v) { return (u[0] * v[1] < u[1] * v[0] ? - 1 : 1) * Math.acos(r(u,v)); }\n\n                // Calculate theta1 and delta theta F.6.5.4 + F.6.5.5\n                var t1 = a([1, 0], [(_x - _cx) / rx, (_y - _cy) / ry]);\n                var u = [(_x - _cx) / rx, (_y - _cy) / ry];\n                var v = [( - _x - _cx) / rx, ( - _y - _cy) / ry];\n                var dt = a(u, v);\n\n                if (r(u, v) <= -1) dt = Math.PI;\n                if (r(u, v) >= 1) dt = 0;\n\n                // F.6.5.6\n                if (largeArcFlag)  {\n                  dt = mod(dt, Math.PI * 2);\n                }\n\n                if (sweepFlag && dt > 0) {\n                  dt -= Math.PI * 2;\n                }\n\n                var length = Two.Resolution;\n\n                // Save a projection of our rotation and translation to apply\n                // to the set of points.\n                var projection = new Two.Matrix()\n                  .translate(cx, cy)\n                  .rotate(xAxisRotation);\n\n                // Create a resulting array of Two.Anchor's to export to the\n                // the path.\n                result = _.map(_.range(length), function(i) {\n                  var pct = 1 - (i / (length - 1));\n                  var theta = pct * dt + t1;\n                  var x = rx * Math.cos(theta);\n                  var y = ry * Math.sin(theta);\n                  var projected = projection.multiply(x, y, 1);\n                  return new Two.Anchor(projected.x, projected.y, false, false, false, false, Two.Commands.line);;\n                });\n\n                result.push(new Two.Anchor(x4, y4, false, false, false, false, Two.Commands.line));\n\n                coord = result[result.length - 1];\n                control = coord.controls.left;\n\n                break;\n\n            }\n\n            if (result) {\n              if (_.isArray(result)) {\n                points = points.concat(result);\n              } else {\n                points.push(result);\n              }\n            }\n\n          });\n\n          if (points.length <= 1) {\n            return;\n          }\n\n          var poly = new Two.Path(points, closed, undefined, true).noStroke();\n          poly.fill = 'black';\n\n          return Two.Utils.applySvgAttributes.call(this, node, poly);\n\n        },\n\n        circle: function(node) {\n\n          var x = parseFloat(node.getAttribute('cx'));\n          var y = parseFloat(node.getAttribute('cy'));\n          var r = parseFloat(node.getAttribute('r'));\n\n          var circle = new Two.Circle(x, y, r).noStroke();\n          circle.fill = 'black';\n\n          return Two.Utils.applySvgAttributes.call(this, node, circle);\n\n        },\n\n        ellipse: function(node) {\n\n          var x = parseFloat(node.getAttribute('cx'));\n          var y = parseFloat(node.getAttribute('cy'));\n          var width = parseFloat(node.getAttribute('rx'));\n          var height = parseFloat(node.getAttribute('ry'));\n\n          var ellipse = new Two.Ellipse(x, y, width, height).noStroke();\n          ellipse.fill = 'black';\n\n          return Two.Utils.applySvgAttributes.call(this, node, ellipse);\n\n        },\n\n        rect: function(node) {\n\n          var x = parseFloat(node.getAttribute('x')) || 0;\n          var y = parseFloat(node.getAttribute('y')) || 0;\n          var width = parseFloat(node.getAttribute('width'));\n          var height = parseFloat(node.getAttribute('height'));\n\n          var w2 = width / 2;\n          var h2 = height / 2;\n\n          var rect = new Two.Rectangle(x + w2, y + h2, width, height)\n            .noStroke();\n          rect.fill = 'black';\n\n          return Two.Utils.applySvgAttributes.call(this, node, rect);\n\n        },\n\n        line: function(node) {\n\n          var x1 = parseFloat(node.getAttribute('x1'));\n          var y1 = parseFloat(node.getAttribute('y1'));\n          var x2 = parseFloat(node.getAttribute('x2'));\n          var y2 = parseFloat(node.getAttribute('y2'));\n\n          var line = new Two.Line(x1, y1, x2, y2).noFill();\n\n          return Two.Utils.applySvgAttributes.call(this, node, line);\n\n        },\n\n        lineargradient: function(node) {\n\n          var x1 = parseFloat(node.getAttribute('x1'));\n          var y1 = parseFloat(node.getAttribute('y1'));\n          var x2 = parseFloat(node.getAttribute('x2'));\n          var y2 = parseFloat(node.getAttribute('y2'));\n\n          var ox = (x2 + x1) / 2;\n          var oy = (y2 + y1) / 2;\n\n          var stops = [];\n          for (var i = 0; i < node.children.length; i++) {\n\n            var child = node.children[i];\n\n            var offset = parseFloat(child.getAttribute('offset'));\n            var color = child.getAttribute('stop-color');\n            var opacity = child.getAttribute('stop-opacity');\n            var style = child.getAttribute('style');\n\n            if (_.isNull(color)) {\n              var matches = style ? style.match(/stop\\-color\\:\\s?([\\#a-fA-F0-9]*)/) : false;\n              color = matches && matches.length > 1 ? matches[1] : undefined;\n            }\n\n            if (_.isNull(opacity)) {\n              var matches = style ? style.match(/stop\\-opacity\\:\\s?([0-9\\.\\-]*)/) : false;\n              opacity = matches && matches.length > 1 ? parseFloat(matches[1]) : 1;\n            }\n\n            stops.push(new Two.Gradient.Stop(offset, color, opacity));\n\n          }\n\n          var gradient = new Two.LinearGradient(x1 - ox, y1 - oy, x2 - ox,\n            y2 - oy, stops);\n\n          return Two.Utils.applySvgAttributes.call(this, node, gradient);\n\n        },\n\n        radialgradient: function(node) {\n\n          var cx = parseFloat(node.getAttribute('cx')) || 0;\n          var cy = parseFloat(node.getAttribute('cy')) || 0;\n          var r = parseFloat(node.getAttribute('r'));\n\n          var fx = parseFloat(node.getAttribute('fx'));\n          var fy = parseFloat(node.getAttribute('fy'));\n\n          if (_.isNaN(fx)) {\n            fx = cx;\n          }\n\n          if (_.isNaN(fy)) {\n            fy = cy;\n          }\n\n          var ox = Math.abs(cx + fx) / 2;\n          var oy = Math.abs(cy + fy) / 2;\n\n          var stops = [];\n          for (var i = 0; i < node.children.length; i++) {\n\n            var child = node.children[i];\n\n            var offset = parseFloat(child.getAttribute('offset'));\n            var color = child.getAttribute('stop-color');\n            var opacity = child.getAttribute('stop-opacity');\n            var style = child.getAttribute('style');\n\n            if (_.isNull(color)) {\n              var matches = style ? style.match(/stop\\-color\\:\\s?([\\#a-fA-F0-9]*)/) : false;\n              color = matches && matches.length > 1 ? matches[1] : undefined;\n            }\n\n            if (_.isNull(opacity)) {\n              var matches = style ? style.match(/stop\\-opacity\\:\\s?([0-9\\.\\-]*)/) : false;\n              opacity = matches && matches.length > 1 ? parseFloat(matches[1]) : 1;\n            }\n\n            stops.push(new Two.Gradient.Stop(offset, color, opacity));\n\n          }\n\n          var gradient = new Two.RadialGradient(cx - ox, cy - oy, r,\n            stops, fx - ox, fy - oy);\n\n          return Two.Utils.applySvgAttributes.call(this, node, gradient);\n\n        }\n\n      },\n\n      /**\n       * Given 2 points (a, b) and corresponding control point for each\n       * return an array of points that represent points plotted along\n       * the curve. Number points determined by limit.\n       */\n      subdivide: function(x1, y1, x2, y2, x3, y3, x4, y4, limit) {\n\n        limit = limit || Two.Utils.Curve.RecursionLimit;\n        var amount = limit + 1;\n\n        // TODO: Issue 73\n        // Don't recurse if the end points are identical\n        if (x1 === x4 && y1 === y4) {\n          return [new Two.Anchor(x4, y4)];\n        }\n\n        return _.map(_.range(0, amount), function(i) {\n\n          var t = i / amount;\n          var x = getPointOnCubicBezier(t, x1, x2, x3, x4);\n          var y = getPointOnCubicBezier(t, y1, y2, y3, y4);\n\n          return new Two.Anchor(x, y);\n\n        });\n\n      },\n\n      getPointOnCubicBezier: function(t, a, b, c, d) {\n        var k = 1 - t;\n        return (k * k * k * a) + (3 * k * k * t * b) + (3 * k * t * t * c) +\n           (t * t * t * d);\n      },\n\n      /**\n       * Given 2 points (a, b) and corresponding control point for each\n       * return a float that represents the length of the curve using\n       * Gauss-Legendre algorithm. Limit iterations of calculation by `limit`.\n       */\n      getCurveLength: function(x1, y1, x2, y2, x3, y3, x4, y4, limit) {\n\n        // TODO: Better / fuzzier equality check\n        // Linear calculation\n        if (x1 === x2 && y1 === y2 && x3 === x4 && y3 === y4) {\n          var dx = x4 - x1;\n          var dy = y4 - y1;\n          return sqrt(dx * dx + dy * dy);\n        }\n\n        // Calculate the coefficients of a Bezier derivative.\n        var ax = 9 * (x2 - x3) + 3 * (x4 - x1),\n          bx = 6 * (x1 + x3) - 12 * x2,\n          cx = 3 * (x2 - x1),\n\n          ay = 9 * (y2 - y3) + 3 * (y4 - y1),\n          by = 6 * (y1 + y3) - 12 * y2,\n          cy = 3 * (y2 - y1);\n\n        var integrand = function(t) {\n          // Calculate quadratic equations of derivatives for x and y\n          var dx = (ax * t + bx) * t + cx,\n            dy = (ay * t + by) * t + cy;\n          return sqrt(dx * dx + dy * dy);\n        };\n\n        return integrate(\n          integrand, 0, 1, limit || Two.Utils.Curve.RecursionLimit\n        );\n\n      },\n\n      /**\n       * Integration for `getCurveLength` calculations. Referenced from\n       * Paper.js: https://github.com/paperjs/paper.js/blob/master/src/util/Numerical.js#L101\n       */\n      integrate: function(f, a, b, n) {\n        var x = Two.Utils.Curve.abscissas[n - 2],\n          w = Two.Utils.Curve.weights[n - 2],\n          A = 0.5 * (b - a),\n          B = A + a,\n          i = 0,\n          m = (n + 1) >> 1,\n          sum = n & 1 ? w[i++] * f(B) : 0; // Handle odd n\n        while (i < m) {\n          var Ax = A * x[i];\n          sum += w[i++] * (f(B + Ax) + f(B - Ax));\n        }\n        return A * sum;\n      },\n\n      /**\n       * Creates a set of points that have u, v values for anchor positions\n       */\n      getCurveFromPoints: function(points, closed) {\n\n        var l = points.length, last = l - 1;\n\n        for (var i = 0; i < l; i++) {\n\n          var point = points[i];\n\n          if (!_.isObject(point.controls)) {\n            Two.Anchor.AppendCurveProperties(point);\n          }\n\n          var prev = closed ? mod(i - 1, l) : max(i - 1, 0);\n          var next = closed ? mod(i + 1, l) : min(i + 1, last);\n\n          var a = points[prev];\n          var b = point;\n          var c = points[next];\n          getControlPoints(a, b, c);\n\n          b._command = i === 0 ? Two.Commands.move : Two.Commands.curve;\n\n          b.controls.left.x = _.isNumber(b.controls.left.x) ? b.controls.left.x : b.x;\n          b.controls.left.y = _.isNumber(b.controls.left.y) ? b.controls.left.y : b.y;\n\n          b.controls.right.x = _.isNumber(b.controls.right.x) ? b.controls.right.x : b.x;\n          b.controls.right.y = _.isNumber(b.controls.right.y) ? b.controls.right.y : b.y;\n\n        }\n\n      },\n\n      /**\n       * Given three coordinates return the control points for the middle, b,\n       * vertex.\n       */\n      getControlPoints: function(a, b, c) {\n\n        var a1 = angleBetween(a, b);\n        var a2 = angleBetween(c, b);\n\n        var d1 = distanceBetween(a, b);\n        var d2 = distanceBetween(c, b);\n\n        var mid = (a1 + a2) / 2;\n\n        // So we know which angle corresponds to which side.\n\n        b.u = _.isObject(b.controls.left) ? b.controls.left : new Two.Vector(0, 0);\n        b.v = _.isObject(b.controls.right) ? b.controls.right : new Two.Vector(0, 0);\n\n        // TODO: Issue 73\n        if (d1 < 0.0001 || d2 < 0.0001) {\n          if (!b._relative) {\n            b.controls.left.copy(b);\n            b.controls.right.copy(b);\n          }\n          return b;\n        }\n\n        d1 *= 0.33; // Why 0.33?\n        d2 *= 0.33;\n\n        if (a2 < a1) {\n          mid += HALF_PI;\n        } else {\n          mid -= HALF_PI;\n        }\n\n        b.controls.left.x = cos(mid) * d1;\n        b.controls.left.y = sin(mid) * d1;\n\n        mid -= PI;\n\n        b.controls.right.x = cos(mid) * d2;\n        b.controls.right.y = sin(mid) * d2;\n\n        if (!b._relative) {\n          b.controls.left.x += b.x;\n          b.controls.left.y += b.y;\n          b.controls.right.x += b.x;\n          b.controls.right.y += b.y;\n        }\n\n        return b;\n\n      },\n\n      /**\n       * Get the reflection of a point \"b\" about point \"a\". Where \"a\" is in\n       * absolute space and \"b\" is relative to \"a\".\n       *\n       * http://www.w3.org/TR/SVG11/implnote.html#PathElementImplementationNotes\n       */\n      getReflection: function(a, b, relative) {\n\n        return new Two.Vector(\n          2 * a.x - (b.x + a.x) - (relative ? a.x : 0),\n          2 * a.y - (b.y + a.y) - (relative ? a.y : 0)\n        );\n\n      },\n\n      getAnchorsFromArcData: function(center, xAxisRotation, rx, ry, ts, td, ccw) {\n\n        var matrix = new Two.Matrix()\n          .translate(center.x, center.y)\n          .rotate(xAxisRotation);\n\n        var l = Two.Resolution;\n\n        return _.map(_.range(l), function(i) {\n\n          var pct = (i + 1) / l;\n          if (!!ccw) {\n            pct = 1 - pct;\n          }\n\n          var theta = pct * td + ts;\n          var x = rx * Math.cos(theta);\n          var y = ry * Math.sin(theta);\n\n          // x += center.x;\n          // y += center.y;\n\n          var anchor = new Two.Anchor(x, y);\n          Two.Anchor.AppendCurveProperties(anchor);\n          anchor.command = Two.Commands.line;\n\n          // TODO: Calculate control points here...\n\n          return anchor;\n\n        });\n\n      },\n\n      ratioBetween: function(A, B) {\n\n        return (A.x * B.x + A.y * B.y) / (A.length() * B.length());\n\n      },\n\n      angleBetween: function(A, B) {\n\n        var dx, dy;\n\n        if (arguments.length >= 4) {\n\n          dx = arguments[0] - arguments[2];\n          dy = arguments[1] - arguments[3];\n\n          return atan2(dy, dx);\n\n        }\n\n        dx = A.x - B.x;\n        dy = A.y - B.y;\n\n        return atan2(dy, dx);\n\n      },\n\n      distanceBetweenSquared: function(p1, p2) {\n\n        var dx = p1.x - p2.x;\n        var dy = p1.y - p2.y;\n\n        return dx * dx + dy * dy;\n\n      },\n\n      distanceBetween: function(p1, p2) {\n\n        return sqrt(distanceBetweenSquared(p1, p2));\n\n      },\n\n      lerp: function(a, b, t) {\n        return t * (b - a) + a;\n      },\n\n      // A pretty fast toFixed(3) alternative\n      // See http://jsperf.com/parsefloat-tofixed-vs-math-round/18\n      toFixed: function(v) {\n        return Math.floor(v * 1000) / 1000;\n      },\n\n      mod: function(v, l) {\n\n        while (v < 0) {\n          v += l;\n        }\n\n        return v % l;\n\n      },\n\n      /**\n       * Array like collection that triggers inserted and removed events\n       * removed : pop / shift / splice\n       * inserted : push / unshift / splice (with > 2 arguments)\n       */\n      Collection: function() {\n\n        Array.call(this);\n\n        if (arguments.length > 1) {\n          Array.prototype.push.apply(this, arguments);\n        } else if (arguments[0] && Array.isArray(arguments[0])) {\n          Array.prototype.push.apply(this, arguments[0]);\n        }\n\n      },\n\n      // Custom Error Throwing for Two.js\n\n      Error: function(message) {\n        this.name = 'two.js';\n        this.message = message;\n      },\n\n      Events: {\n\n        on: function(name, callback) {\n\n          this._events || (this._events = {});\n          var list = this._events[name] || (this._events[name] = []);\n\n          list.push(callback);\n\n          return this;\n\n        },\n\n        off: function(name, callback) {\n\n          if (!this._events) {\n            return this;\n          }\n          if (!name && !callback) {\n            this._events = {};\n            return this;\n          }\n\n          var names = name ? [name] : _.keys(this._events);\n          for (var i = 0, l = names.length; i < l; i++) {\n\n            var name = names[i];\n            var list = this._events[name];\n\n            if (!!list) {\n              var events = [];\n              if (callback) {\n                for (var j = 0, k = list.length; j < k; j++) {\n                  var ev = list[j];\n                  ev = ev.callback ? ev.callback : ev;\n                  if (callback && callback !== ev) {\n                    events.push(ev);\n                  }\n                }\n              }\n              this._events[name] = events;\n            }\n          }\n\n          return this;\n        },\n\n        trigger: function(name) {\n          if (!this._events) return this;\n          var args = slice.call(arguments, 1);\n          var events = this._events[name];\n          if (events) trigger(this, events, args);\n          return this;\n        },\n\n        listen: function (obj, name, callback) {\n\n          var bound = this;\n\n          if (obj) {\n            var ev = function () {\n              callback.apply(bound, arguments);\n            };\n\n            // add references about the object that assigned this listener\n            ev.obj = obj;\n            ev.name = name;\n            ev.callback = callback;\n\n            obj.on(name, ev);\n          }\n\n          return this;\n\n        },\n\n        ignore: function (obj, name, callback) {\n\n          obj.off(name, callback);\n\n          return this;\n\n        }\n\n      }\n\n    })\n\n  });\n\n  Two.Utils.Events.bind = Two.Utils.Events.on;\n  Two.Utils.Events.unbind = Two.Utils.Events.off;\n\n  var trigger = function(obj, events, args) {\n    var method;\n    switch (args.length) {\n    case 0:\n      method = function(i) {\n        events[i].call(obj, args[0]);\n      };\n      break;\n    case 1:\n      method = function(i) {\n        events[i].call(obj, args[0], args[1]);\n      };\n      break;\n    case 2:\n      method = function(i) {\n        events[i].call(obj, args[0], args[1], args[2]);\n      };\n      break;\n    case 3:\n      method = function(i) {\n        events[i].call(obj, args[0], args[1], args[2], args[3]);\n      };\n      break;\n    default:\n      method = function(i) {\n        events[i].apply(obj, args);\n      };\n    }\n    for (var i = 0; i < events.length; i++) {\n      method(i);\n    }\n  };\n\n  Two.Utils.Error.prototype = new Error();\n  Two.Utils.Error.prototype.constructor = Two.Utils.Error;\n\n  Two.Utils.Collection.prototype = new Array();\n  Two.Utils.Collection.prototype.constructor = Two.Utils.Collection;\n\n  _.extend(Two.Utils.Collection.prototype, Two.Utils.Events, {\n\n    pop: function() {\n      var popped = Array.prototype.pop.apply(this, arguments);\n      this.trigger(Two.Events.remove, [popped]);\n      return popped;\n    },\n\n    shift: function() {\n      var shifted = Array.prototype.shift.apply(this, arguments);\n      this.trigger(Two.Events.remove, [shifted]);\n      return shifted;\n    },\n\n    push: function() {\n      var pushed = Array.prototype.push.apply(this, arguments);\n      this.trigger(Two.Events.insert, arguments);\n      return pushed;\n    },\n\n    unshift: function() {\n      var unshifted = Array.prototype.unshift.apply(this, arguments);\n      this.trigger(Two.Events.insert, arguments);\n      return unshifted;\n    },\n\n    splice: function() {\n      var spliced = Array.prototype.splice.apply(this, arguments);\n      var inserted;\n\n      this.trigger(Two.Events.remove, spliced);\n\n      if (arguments.length > 2) {\n        inserted = this.slice(arguments[0], arguments[0] + arguments.length - 2);\n        this.trigger(Two.Events.insert, inserted);\n        this.trigger(Two.Events.order);\n      }\n      return spliced;\n    },\n\n    sort: function() {\n      Array.prototype.sort.apply(this, arguments);\n      this.trigger(Two.Events.order);\n      return this;\n    },\n\n    reverse: function() {\n      Array.prototype.reverse.apply(this, arguments);\n      this.trigger(Two.Events.order);\n      return this;\n    }\n\n  });\n\n  // Localize utils\n\n  var distanceBetween = Two.Utils.distanceBetween,\n    getAnchorsFromArcData = Two.Utils.getAnchorsFromArcData,\n    distanceBetweenSquared = Two.Utils.distanceBetweenSquared,\n    ratioBetween = Two.Utils.ratioBetween,\n    angleBetween = Two.Utils.angleBetween,\n    getControlPoints = Two.Utils.getControlPoints,\n    getCurveFromPoints = Two.Utils.getCurveFromPoints,\n    solveSegmentIntersection = Two.Utils.solveSegmentIntersection,\n    decoupleShapes = Two.Utils.decoupleShapes,\n    mod = Two.Utils.mod,\n    getBackingStoreRatio = Two.Utils.getBackingStoreRatio,\n    getPointOnCubicBezier = Two.Utils.getPointOnCubicBezier,\n    getCurveLength = Two.Utils.getCurveLength,\n    integrate = Two.Utils.integrate,\n    getReflection = Two.Utils.getReflection;\n\n  _.extend(Two.prototype, Two.Utils.Events, {\n\n    appendTo: function(elem) {\n\n      elem.appendChild(this.renderer.domElement);\n      return this;\n\n    },\n\n    play: function() {\n\n      Two.Utils.setPlaying.call(this, true);\n      return this.trigger(Two.Events.play);\n\n    },\n\n    pause: function() {\n\n      this.playing = false;\n      return this.trigger(Two.Events.pause);\n\n    },\n\n    /**\n     * Update positions and calculations in one pass before rendering.\n     */\n    update: function() {\n\n      var animated = !!this._lastFrame;\n      var now = perf.now();\n\n      this.frameCount++;\n\n      if (animated) {\n        this.timeDelta = parseFloat((now - this._lastFrame).toFixed(3));\n      }\n      this._lastFrame = now;\n\n      var width = this.width;\n      var height = this.height;\n      var renderer = this.renderer;\n\n      // Update width / height for the renderer\n      if (width !== renderer.width || height !== renderer.height) {\n        renderer.setSize(width, height, this.ratio);\n      }\n\n      this.trigger(Two.Events.update, this.frameCount, this.timeDelta);\n\n      return this.render();\n\n    },\n\n    /**\n     * Render all drawable - visible objects of the scene.\n     */\n    render: function() {\n\n      this.renderer.render();\n      return this.trigger(Two.Events.render, this.frameCount);\n\n    },\n\n    /**\n     * Convenience Methods\n     */\n\n    add: function(o) {\n\n      var objects = o;\n      if (!(objects instanceof Array)) {\n        objects = _.toArray(arguments);\n      }\n\n      this.scene.add(objects);\n      return this;\n\n    },\n\n    remove: function(o) {\n\n      var objects = o;\n      if (!(objects instanceof Array)) {\n        objects = _.toArray(arguments);\n      }\n\n      this.scene.remove(objects);\n\n      return this;\n\n    },\n\n    clear: function() {\n\n      this.scene.remove(_.toArray(this.scene.children));\n      return this;\n\n    },\n\n    makeLine: function(x1, y1, x2, y2) {\n\n      var line = new Two.Line(x1, y1, x2, y2);\n      this.scene.add(line);\n\n      return line;\n\n    },\n\n    makeRectangle: function(x, y, width, height) {\n\n      var rect = new Two.Rectangle(x, y, width, height);\n      this.scene.add(rect);\n\n      return rect;\n\n    },\n\n    makeRoundedRectangle: function(x, y, width, height, sides) {\n\n      var rect = new Two.RoundedRectangle(x, y, width, height, sides);\n      this.scene.add(rect);\n\n      return rect;\n\n    },\n\n    makeCircle: function(ox, oy, r) {\n\n      var circle = new Two.Circle(ox, oy, r);\n      this.scene.add(circle);\n\n      return circle;\n\n    },\n\n    makeEllipse: function(ox, oy, rx, ry) {\n\n      var ellipse = new Two.Ellipse(ox, oy, rx, ry);\n      this.scene.add(ellipse);\n\n      return ellipse;\n\n    },\n\n    makeStar: function(ox, oy, or, ir, sides) {\n\n      var star = new Two.Star(ox, oy, or, ir, sides);\n      this.scene.add(star);\n\n      return star;\n\n    },\n\n    makeCurve: function(p) {\n\n      var l = arguments.length, points = p;\n      if (!_.isArray(p)) {\n        points = [];\n        for (var i = 0; i < l; i+=2) {\n          var x = arguments[i];\n          if (!_.isNumber(x)) {\n            break;\n          }\n          var y = arguments[i + 1];\n          points.push(new Two.Anchor(x, y));\n        }\n      }\n\n      var last = arguments[l - 1];\n      var curve = new Two.Path(points, !(_.isBoolean(last) ? last : undefined), true);\n      var rect = curve.getBoundingClientRect();\n      curve.center().translation\n        .set(rect.left + rect.width / 2, rect.top + rect.height / 2);\n\n      this.scene.add(curve);\n\n      return curve;\n\n    },\n\n    makePolygon: function(ox, oy, r, sides) {\n\n      var poly = new Two.Polygon(ox, oy, r, sides);\n      this.scene.add(poly);\n\n      return poly;\n\n    },\n\n    /*\n    * Make an Arc Segment\n    */\n\n    makeArcSegment: function(ox, oy, ir, or, sa, ea, res) {\n      var arcSegment = new Two.ArcSegment(ox, oy, ir, or, sa, ea, res);\n      this.scene.add(arcSegment);\n      return arcSegment;\n    },\n\n    /**\n     * Convenience method to make and draw a Two.Path.\n     */\n    makePath: function(p) {\n\n      var l = arguments.length, points = p;\n      if (!_.isArray(p)) {\n        points = [];\n        for (var i = 0; i < l; i+=2) {\n          var x = arguments[i];\n          if (!_.isNumber(x)) {\n            break;\n          }\n          var y = arguments[i + 1];\n          points.push(new Two.Anchor(x, y));\n        }\n      }\n\n      var last = arguments[l - 1];\n      var path = new Two.Path(points, !(_.isBoolean(last) ? last : undefined));\n      var rect = path.getBoundingClientRect();\n      path.center().translation\n        .set(rect.left + rect.width / 2, rect.top + rect.height / 2);\n\n      this.scene.add(path);\n\n      return path;\n\n    },\n\n    /**\n     * Convenience method to make and add a Two.Text.\n     */\n    makeText: function(message, x, y, styles) {\n      var text = new Two.Text(message, x, y, styles);\n      this.add(text);\n      return text;\n    },\n\n    /**\n     * Convenience method to make and add a Two.LinearGradient.\n     */\n    makeLinearGradient: function(x1, y1, x2, y2 /* stops */) {\n\n      var stops = slice.call(arguments, 4);\n      var gradient = new Two.LinearGradient(x1, y1, x2, y2, stops);\n\n      this.add(gradient);\n\n      return gradient;\n\n    },\n\n    /**\n     * Convenience method to make and add a Two.RadialGradient.\n     */\n    makeRadialGradient: function(x1, y1, r /* stops */) {\n\n      var stops = slice.call(arguments, 3);\n      var gradient = new Two.RadialGradient(x1, y1, r, stops);\n\n      this.add(gradient);\n\n      return gradient;\n\n    },\n\n    makeSprite: function(path, x, y, cols, rows, frameRate, autostart) {\n\n      var sprite = new Two.Sprite(path, x, y, cols, rows, frameRate);\n      if (!!autostart) {\n        sprite.play();\n      }\n      this.add(sprite);\n\n      return sprite;\n\n    },\n\n    makeImageSequence: function(paths, x, y, frameRate, autostart) {\n\n      var imageSequence = new Two.ImageSequence(paths, x, y, frameRate);\n      if (!!autostart) {\n        imageSequence.play();\n      }\n      this.add(imageSequence);\n\n      return imageSequence;\n\n    },\n\n    makeTexture: function(path, callback) {\n\n      var texture = new Two.Texture(path, callback);\n      return texture;\n\n    },\n\n    makeGroup: function(o) {\n\n      var objects = o;\n      if (!(objects instanceof Array)) {\n        objects = _.toArray(arguments);\n      }\n\n      var group = new Two.Group();\n      this.scene.add(group);\n      group.add(objects);\n\n      return group;\n\n    },\n\n    /**\n     * Interpret an SVG Node and add it to this instance's scene. The\n     * distinction should be made that this doesn't `import` svg's, it solely\n     * interprets them into something compatible for Two.js this is slightly\n     * different than a direct transcription.\n     *\n     * @param {Object} svgNode - The node to be parsed\n     * @param {Boolean} shallow - Don't create a top-most group but\n     *                                    append all contents directly\n     */\n    interpret: function(svgNode, shallow) {\n\n      var tag = svgNode.tagName.toLowerCase();\n\n      if (!(tag in Two.Utils.read)) {\n        return null;\n      }\n\n      var node = Two.Utils.read[tag].call(this, svgNode);\n\n      if (shallow && node instanceof Two.Group) {\n        this.add(node.children);\n      } else {\n        this.add(node);\n      }\n\n      return node;\n\n    },\n\n    /**\n     * Load an SVG file / text and interpret.\n     */\n    load: function(text, callback) {\n\n      var nodes = [], elem, i;\n\n      if (/.*\\.svg/ig.test(text)) {\n\n        Two.Utils.xhr(text, _.bind(function(data) {\n\n          dom.temp.innerHTML = data;\n          for (i = 0; i < dom.temp.children.length; i++) {\n            elem = dom.temp.children[i];\n            nodes.push(this.interpret(elem));\n          }\n\n          callback(nodes.length <= 1 ? nodes[0] : nodes,\n            dom.temp.children.length <= 1 ? dom.temp.children[0] : dom.temp.children);\n\n        }, this));\n\n        return this;\n\n      }\n\n      dom.temp.innerHTML = text;\n      for (i = 0; i < dom.temp.children.length; i++) {\n        elem = dom.temp.children[i];\n        nodes.push(this.interpret(elem));\n      }\n\n      callback(nodes.length <= 1 ? nodes[0] : nodes,\n        dom.temp.children.length <= 1 ? dom.temp.children[0] : dom.temp.children);\n\n      return this;\n\n    }\n\n  });\n\n  function fitToWindow() {\n\n    var wr = document.body.getBoundingClientRect();\n\n    var width = this.width = wr.width;\n    var height = this.height = wr.height;\n\n    this.renderer.setSize(width, height, this.ratio);\n    this.trigger(Two.Events.resize, width, height);\n\n  }\n\n  // Request Animation Frame\n\n  var raf = dom.getRequestAnimationFrame();\n\n  function loop() {\n\n    raf(loop);\n\n    for (var i = 0; i < Two.Instances.length; i++) {\n      var t = Two.Instances[i];\n      if (t.playing) {\n        t.update();\n      }\n    }\n\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define('two', [], function() {\n      return Two;\n    });\n  } else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Two;\n  }\n\n  return Two;\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var _ = Two.Utils;\n\n  var Registry = Two.Registry = function() {\n\n    this.map = {};\n\n  };\n\n  _.extend(Registry, {\n\n  });\n\n  _.extend(Registry.prototype, {\n\n    add: function(id, obj) {\n      this.map[id] = obj;\n      return this;\n    },\n\n    remove: function(id) {\n      delete this.map[id];\n      return this;\n    },\n\n    get: function(id) {\n      return this.map[id];\n    },\n\n    contains: function(id) {\n      return id in this.map;\n    }\n\n  });\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var _ = Two.Utils;\n\n  var Vector = Two.Vector = function(x, y) {\n\n    this.x = x || 0;\n    this.y = y || 0;\n\n  };\n\n  _.extend(Vector, {\n\n    zero: new Two.Vector()\n\n  });\n\n  _.extend(Vector.prototype, Two.Utils.Events, {\n\n    set: function(x, y) {\n      this.x = x;\n      this.y = y;\n      return this;\n    },\n\n    copy: function(v) {\n      this.x = v.x;\n      this.y = v.y;\n      return this;\n    },\n\n    clear: function() {\n      this.x = 0;\n      this.y = 0;\n      return this;\n    },\n\n    clone: function() {\n      return new Vector(this.x, this.y);\n    },\n\n    add: function(v1, v2) {\n      this.x = v1.x + v2.x;\n      this.y = v1.y + v2.y;\n      return this;\n    },\n\n    addSelf: function(v) {\n      this.x += v.x;\n      this.y += v.y;\n      return this;\n    },\n\n    sub: function(v1, v2) {\n      this.x = v1.x - v2.x;\n      this.y = v1.y - v2.y;\n      return this;\n    },\n\n    subSelf: function(v) {\n      this.x -= v.x;\n      this.y -= v.y;\n      return this;\n    },\n\n    multiplySelf: function(v) {\n      this.x *= v.x;\n      this.y *= v.y;\n      return this;\n    },\n\n    multiplyScalar: function(s) {\n      this.x *= s;\n      this.y *= s;\n      return this;\n    },\n\n    divideScalar: function(s) {\n      if (s) {\n        this.x /= s;\n        this.y /= s;\n      } else {\n        this.set(0, 0);\n      }\n      return this;\n    },\n\n    negate: function() {\n      return this.multiplyScalar(-1);\n    },\n\n    dot: function(v) {\n      return this.x * v.x + this.y * v.y;\n    },\n\n    lengthSquared: function() {\n      return this.x * this.x + this.y * this.y;\n    },\n\n    length: function() {\n      return Math.sqrt(this.lengthSquared());\n    },\n\n    normalize: function() {\n      return this.divideScalar(this.length());\n    },\n\n    distanceTo: function(v) {\n      return Math.sqrt(this.distanceToSquared(v));\n    },\n\n    distanceToSquared: function(v) {\n      var dx = this.x - v.x,\n          dy = this.y - v.y;\n      return dx * dx + dy * dy;\n    },\n\n    setLength: function(l) {\n      return this.normalize().multiplyScalar(l);\n    },\n\n    equals: function(v, eps) {\n      eps = (typeof eps === 'undefined') ?  0.0001 : eps;\n      return (this.distanceTo(v) < eps);\n    },\n\n    lerp: function(v, t) {\n      var x = (v.x - this.x) * t + this.x;\n      var y = (v.y - this.y) * t + this.y;\n      return this.set(x, y);\n    },\n\n    isZero: function(eps) {\n      eps = (typeof eps === 'undefined') ?  0.0001 : eps;\n      return (this.length() < eps);\n    },\n\n    toString: function() {\n      return this.x + ', ' + this.y;\n    },\n\n    toObject: function() {\n      return { x: this.x, y: this.y };\n    },\n\n    rotate: function (radians) {\n      var cos = Math.cos(radians);\n      var sin = Math.sin(radians);\n      this.x = this.x * cos - this.y * sin;\n      this.y = this.x * sin + this.y * cos;\n      return this;\n    }\n\n  });\n\n  var BoundProto = {\n\n    set: function(x, y) {\n      this._x = x;\n      this._y = y;\n      return this.trigger(Two.Events.change);\n    },\n\n    copy: function(v) {\n      this._x = v.x;\n      this._y = v.y;\n      return this.trigger(Two.Events.change);\n    },\n\n    clear: function() {\n      this._x = 0;\n      this._y = 0;\n      return this.trigger(Two.Events.change);\n    },\n\n    clone: function() {\n      return new Vector(this._x, this._y);\n    },\n\n    add: function(v1, v2) {\n      this._x = v1.x + v2.x;\n      this._y = v1.y + v2.y;\n      return this.trigger(Two.Events.change);\n    },\n\n    addSelf: function(v) {\n      this._x += v.x;\n      this._y += v.y;\n      return this.trigger(Two.Events.change);\n    },\n\n    sub: function(v1, v2) {\n      this._x = v1.x - v2.x;\n      this._y = v1.y - v2.y;\n      return this.trigger(Two.Events.change);\n    },\n\n    subSelf: function(v) {\n      this._x -= v.x;\n      this._y -= v.y;\n      return this.trigger(Two.Events.change);\n    },\n\n    multiplySelf: function(v) {\n      this._x *= v.x;\n      this._y *= v.y;\n      return this.trigger(Two.Events.change);\n    },\n\n    multiplyScalar: function(s) {\n      this._x *= s;\n      this._y *= s;\n      return this.trigger(Two.Events.change);\n    },\n\n    divideScalar: function(s) {\n      if (s) {\n        this._x /= s;\n        this._y /= s;\n        return this.trigger(Two.Events.change);\n      }\n      return this.clear();\n    },\n\n    negate: function() {\n      return this.multiplyScalar(-1);\n    },\n\n    dot: function(v) {\n      return this._x * v.x + this._y * v.y;\n    },\n\n    lengthSquared: function() {\n      return this._x * this._x + this._y * this._y;\n    },\n\n    length: function() {\n      return Math.sqrt(this.lengthSquared());\n    },\n\n    normalize: function() {\n      return this.divideScalar(this.length());\n    },\n\n    distanceTo: function(v) {\n      return Math.sqrt(this.distanceToSquared(v));\n    },\n\n    distanceToSquared: function(v) {\n      var dx = this._x - v.x,\n          dy = this._y - v.y;\n      return dx * dx + dy * dy;\n    },\n\n    setLength: function(l) {\n      return this.normalize().multiplyScalar(l);\n    },\n\n    equals: function(v, eps) {\n      eps = (typeof eps === 'undefined') ?  0.0001 : eps;\n      return (this.distanceTo(v) < eps);\n    },\n\n    lerp: function(v, t) {\n      var x = (v.x - this._x) * t + this._x;\n      var y = (v.y - this._y) * t + this._y;\n      return this.set(x, y);\n    },\n\n    isZero: function(eps) {\n      eps = (typeof eps === 'undefined') ?  0.0001 : eps;\n      return (this.length() < eps);\n    },\n\n    toString: function() {\n      return this._x + ', ' + this._y;\n    },\n\n    toObject: function() {\n      return { x: this._x, y: this._y };\n    },\n\n    rotate: function (radians) {\n      var cos = Math.cos(radians);\n      var sin = Math.sin(radians);\n      this._x = this._x * cos - this._y * sin;\n      this._y = this._x * sin + this._y * cos;\n      return this;\n    }\n\n  };\n\n  var xgs = {\n    enumerable: true,\n    get: function() {\n      return this._x;\n    },\n    set: function(v) {\n      this._x = v;\n      this.trigger(Two.Events.change, 'x');\n    }\n  };\n\n  var ygs = {\n    enumerable: true,\n    get: function() {\n      return this._y;\n    },\n    set: function(v) {\n      this._y = v;\n      this.trigger(Two.Events.change, 'y');\n    }\n  };\n\n  /**\n   * Override Backbone bind / on in order to add properly broadcasting.\n   * This allows Two.Vector to not broadcast events unless event listeners\n   * are explicity bound to it.\n   */\n\n  Two.Vector.prototype.bind = Two.Vector.prototype.on = function() {\n\n    if (!this._bound) {\n      this._x = this.x;\n      this._y = this.y;\n      Object.defineProperty(this, 'x', xgs);\n      Object.defineProperty(this, 'y', ygs);\n      _.extend(this, BoundProto);\n      this._bound = true; // Reserved for event initialization check\n    }\n\n    Two.Utils.Events.bind.apply(this, arguments);\n\n    return this;\n\n  };\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  // Localized variables\n  var commands = Two.Commands;\n  var _ = Two.Utils;\n\n  /**\n   * An object that holds 3 `Two.Vector`s, the anchor point and its\n   * corresponding handles: `left` and `right`.\n   */\n  var Anchor = Two.Anchor = function(x, y, ux, uy, vx, vy, command) {\n\n    Two.Vector.call(this, x, y);\n\n    this._broadcast = _.bind(function() {\n      this.trigger(Two.Events.change);\n    }, this);\n\n    this._command = command || commands.move;\n    this._relative = true;\n\n    if (!command) {\n      return this;\n    }\n\n    Anchor.AppendCurveProperties(this);\n\n    if (_.isNumber(ux)) {\n      this.controls.left.x = ux;\n    }\n    if (_.isNumber(uy)) {\n      this.controls.left.y = uy;\n    }\n    if (_.isNumber(vx)) {\n      this.controls.right.x = vx;\n    }\n    if (_.isNumber(vy)) {\n      this.controls.right.y = vy;\n    }\n\n  };\n\n  _.extend(Anchor, {\n\n    AppendCurveProperties: function(anchor) {\n      anchor.controls = {\n        left: new Two.Vector(0, 0),\n        right: new Two.Vector(0, 0)\n      };\n    }\n\n  });\n\n  var AnchorProto = {\n\n    listen: function() {\n\n      if (!_.isObject(this.controls)) {\n        Anchor.AppendCurveProperties(this);\n      }\n\n      this.controls.left.bind(Two.Events.change, this._broadcast);\n      this.controls.right.bind(Two.Events.change, this._broadcast);\n\n      return this;\n\n    },\n\n    ignore: function() {\n\n      this.controls.left.unbind(Two.Events.change, this._broadcast);\n      this.controls.right.unbind(Two.Events.change, this._broadcast);\n\n      return this;\n\n    },\n\n    clone: function() {\n\n      var controls = this.controls;\n\n      var clone = new Two.Anchor(\n        this.x,\n        this.y,\n        controls && controls.left.x,\n        controls && controls.left.y,\n        controls && controls.right.x,\n        controls && controls.right.y,\n        this.command\n      );\n      clone.relative = this._relative;\n      return clone;\n\n    },\n\n    toObject: function() {\n      var o = {\n        x: this.x,\n        y: this.y\n      };\n      if (this._command) {\n        o.command = this._command;\n      }\n      if (this._relative) {\n        o.relative = this._relative;\n      }\n      if (this.controls) {\n        o.controls = {\n          left: this.controls.left.toObject(),\n          right: this.controls.right.toObject()\n        };\n      }\n      return o;\n    },\n\n    toString: function() {\n      if (!this.controls) {\n        return [this._x, this._y].join(', ');\n      }\n      return [this._x, this._y, this.controls.left.x, this.controls.left.y,\n        this.controls.right.x, this.controls.right.y].join(', ');\n    }\n\n  };\n\n  Object.defineProperty(Anchor.prototype, 'command', {\n\n    enumerable: true,\n\n    get: function() {\n      return this._command;\n    },\n\n    set: function(c) {\n      this._command = c;\n      if (this._command === commands.curve && !_.isObject(this.controls)) {\n        Anchor.AppendCurveProperties(this);\n      }\n      return this.trigger(Two.Events.change);\n    }\n\n  });\n\n  Object.defineProperty(Anchor.prototype, 'relative', {\n\n    enumerable: true,\n\n    get: function() {\n      return this._relative;\n    },\n\n    set: function(b) {\n      if (this._relative == b) {\n        return this;\n      }\n      this._relative = !!b;\n      return this.trigger(Two.Events.change);\n    }\n\n  });\n\n  _.extend(Anchor.prototype, Two.Vector.prototype, AnchorProto);\n\n  // Make it possible to bind and still have the Anchor specific\n  // inheritance from Two.Vector\n  Two.Anchor.prototype.bind = Two.Anchor.prototype.on = function() {\n    Two.Vector.prototype.bind.apply(this, arguments);\n    _.extend(this, AnchorProto);\n  };\n\n  Two.Anchor.prototype.unbind = Two.Anchor.prototype.off = function() {\n    Two.Vector.prototype.unbind.apply(this, arguments);\n    _.extend(this, AnchorProto);\n  };\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  /**\n   * Constants\n   */\n  var cos = Math.cos, sin = Math.sin, tan = Math.tan;\n  var _ = Two.Utils;\n\n  /**\n   * Two.Matrix contains an array of elements that represent\n   * the two dimensional 3 x 3 matrix as illustrated below:\n   *\n   * =====\n   * a b c\n   * d e f\n   * g h i  // this row is not really used in 2d transformations\n   * =====\n   *\n   * String order is for transform strings: a, d, b, e, c, f\n   *\n   * @class\n   */\n  var Matrix = Two.Matrix = function(a, b, c, d, e, f) {\n\n    this.elements = new Two.Array(9);\n\n    var elements = a;\n    if (!_.isArray(elements)) {\n      elements = _.toArray(arguments);\n    }\n\n    // initialize the elements with default values.\n\n    this.identity().set(elements);\n\n  };\n\n  _.extend(Matrix, {\n\n    Identity: [\n      1, 0, 0,\n      0, 1, 0,\n      0, 0, 1\n    ],\n\n    /**\n     * Multiply two matrix 3x3 arrays\n     */\n    Multiply: function(A, B, C) {\n\n      if (B.length <= 3) { // Multiply Vector\n\n        var x, y, z, e = A;\n\n        var a = B[0] || 0,\n            b = B[1] || 0,\n            c = B[2] || 0;\n\n        // Go down rows first\n        // a, d, g, b, e, h, c, f, i\n\n        x = e[0] * a + e[1] * b + e[2] * c;\n        y = e[3] * a + e[4] * b + e[5] * c;\n        z = e[6] * a + e[7] * b + e[8] * c;\n\n        return { x: x, y: y, z: z };\n\n      }\n\n      var A0 = A[0], A1 = A[1], A2 = A[2];\n      var A3 = A[3], A4 = A[4], A5 = A[5];\n      var A6 = A[6], A7 = A[7], A8 = A[8];\n\n      var B0 = B[0], B1 = B[1], B2 = B[2];\n      var B3 = B[3], B4 = B[4], B5 = B[5];\n      var B6 = B[6], B7 = B[7], B8 = B[8];\n\n      C = C || new Two.Array(9);\n\n      C[0] = A0 * B0 + A1 * B3 + A2 * B6;\n      C[1] = A0 * B1 + A1 * B4 + A2 * B7;\n      C[2] = A0 * B2 + A1 * B5 + A2 * B8;\n      C[3] = A3 * B0 + A4 * B3 + A5 * B6;\n      C[4] = A3 * B1 + A4 * B4 + A5 * B7;\n      C[5] = A3 * B2 + A4 * B5 + A5 * B8;\n      C[6] = A6 * B0 + A7 * B3 + A8 * B6;\n      C[7] = A6 * B1 + A7 * B4 + A8 * B7;\n      C[8] = A6 * B2 + A7 * B5 + A8 * B8;\n\n      return C;\n\n    }\n\n  });\n\n  _.extend(Matrix.prototype, Two.Utils.Events, {\n\n    /**\n     * Takes an array of elements or the arguments list itself to\n     * set and update the current matrix's elements. Only updates\n     * specified values.\n     */\n    set: function(a) {\n\n      var elements = a;\n      if (!_.isArray(elements)) {\n        elements = _.toArray(arguments);\n      }\n\n      _.extend(this.elements, elements);\n\n      return this.trigger(Two.Events.change);\n\n    },\n\n    /**\n     * Turn matrix to identity, like resetting.\n     */\n    identity: function() {\n\n      this.set(Matrix.Identity);\n\n      return this;\n\n    },\n\n    /**\n     * Multiply scalar or multiply by another matrix.\n     */\n    multiply: function(a, b, c, d, e, f, g, h, i) {\n\n      var elements = arguments, l = elements.length;\n\n      // Multiply scalar\n\n      if (l <= 1) {\n\n        _.each(this.elements, function(v, i) {\n          this.elements[i] = v * a;\n        }, this);\n\n        return this.trigger(Two.Events.change);\n\n      }\n\n      if (l <= 3) { // Multiply Vector\n\n        var x, y, z;\n        a = a || 0;\n        b = b || 0;\n        c = c || 0;\n        e = this.elements;\n\n        // Go down rows first\n        // a, d, g, b, e, h, c, f, i\n\n        x = e[0] * a + e[1] * b + e[2] * c;\n        y = e[3] * a + e[4] * b + e[5] * c;\n        z = e[6] * a + e[7] * b + e[8] * c;\n\n        return { x: x, y: y, z: z };\n\n      }\n\n      // Multiple matrix\n\n      var A = this.elements;\n      var B = elements;\n\n      var A0 = A[0], A1 = A[1], A2 = A[2];\n      var A3 = A[3], A4 = A[4], A5 = A[5];\n      var A6 = A[6], A7 = A[7], A8 = A[8];\n\n      var B0 = B[0], B1 = B[1], B2 = B[2];\n      var B3 = B[3], B4 = B[4], B5 = B[5];\n      var B6 = B[6], B7 = B[7], B8 = B[8];\n\n      this.elements[0] = A0 * B0 + A1 * B3 + A2 * B6;\n      this.elements[1] = A0 * B1 + A1 * B4 + A2 * B7;\n      this.elements[2] = A0 * B2 + A1 * B5 + A2 * B8;\n\n      this.elements[3] = A3 * B0 + A4 * B3 + A5 * B6;\n      this.elements[4] = A3 * B1 + A4 * B4 + A5 * B7;\n      this.elements[5] = A3 * B2 + A4 * B5 + A5 * B8;\n\n      this.elements[6] = A6 * B0 + A7 * B3 + A8 * B6;\n      this.elements[7] = A6 * B1 + A7 * B4 + A8 * B7;\n      this.elements[8] = A6 * B2 + A7 * B5 + A8 * B8;\n\n      return this.trigger(Two.Events.change);\n\n    },\n\n    inverse: function(out) {\n\n      var a = this.elements;\n      out = out || new Two.Matrix();\n\n      var a00 = a[0], a01 = a[1], a02 = a[2];\n      var a10 = a[3], a11 = a[4], a12 = a[5];\n      var a20 = a[6], a21 = a[7], a22 = a[8];\n\n      var b01 = a22 * a11 - a12 * a21;\n      var b11 = -a22 * a10 + a12 * a20;\n      var b21 = a21 * a10 - a11 * a20;\n\n      // Calculate the determinant\n      var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n      if (!det) {\n        return null;\n      }\n\n      det = 1.0 / det;\n\n      out.elements[0] = b01 * det;\n      out.elements[1] = (-a22 * a01 + a02 * a21) * det;\n      out.elements[2] = (a12 * a01 - a02 * a11) * det;\n      out.elements[3] = b11 * det;\n      out.elements[4] = (a22 * a00 - a02 * a20) * det;\n      out.elements[5] = (-a12 * a00 + a02 * a10) * det;\n      out.elements[6] = b21 * det;\n      out.elements[7] = (-a21 * a00 + a01 * a20) * det;\n      out.elements[8] = (a11 * a00 - a01 * a10) * det;\n\n      return out;\n\n    },\n\n    /**\n     * Set a scalar onto the matrix.\n     */\n    scale: function(sx, sy) {\n\n      var l = arguments.length;\n      if (l <= 1) {\n        sy = sx;\n      }\n\n      return this.multiply(sx, 0, 0, 0, sy, 0, 0, 0, 1);\n\n    },\n\n    /**\n     * Rotate the matrix.\n     */\n    rotate: function(radians) {\n\n      var c = cos(radians);\n      var s = sin(radians);\n\n      return this.multiply(c, -s, 0, s, c, 0, 0, 0, 1);\n\n    },\n\n    /**\n     * Translate the matrix.\n     */\n    translate: function(x, y) {\n\n      return this.multiply(1, 0, x, 0, 1, y, 0, 0, 1);\n\n    },\n\n    /*\n     * Skew the matrix by an angle in the x axis direction.\n     */\n    skewX: function(radians) {\n\n      var a = tan(radians);\n\n      return this.multiply(1, a, 0, 0, 1, 0, 0, 0, 1);\n\n    },\n\n    /*\n     * Skew the matrix by an angle in the y axis direction.\n     */\n    skewY: function(radians) {\n\n      var a = tan(radians);\n\n      return this.multiply(1, 0, 0, a, 1, 0, 0, 0, 1);\n\n    },\n\n    /**\n     * Create a transform string to be used with rendering apis.\n     */\n    toString: function(fullMatrix) {\n      var temp = [];\n\n      this.toArray(fullMatrix, temp);\n\n      return temp.join(' ');\n\n    },\n\n    /**\n     * Create a transform array to be used with rendering apis.\n     */\n    toArray: function(fullMatrix, output) {\n\n     var elements = this.elements;\n     var hasOutput = !!output;\n\n     var a = parseFloat(elements[0].toFixed(3));\n     var b = parseFloat(elements[1].toFixed(3));\n     var c = parseFloat(elements[2].toFixed(3));\n     var d = parseFloat(elements[3].toFixed(3));\n     var e = parseFloat(elements[4].toFixed(3));\n     var f = parseFloat(elements[5].toFixed(3));\n\n      if (!!fullMatrix) {\n\n        var g = parseFloat(elements[6].toFixed(3));\n        var h = parseFloat(elements[7].toFixed(3));\n        var i = parseFloat(elements[8].toFixed(3));\n\n        if (hasOutput) {\n          output[0] = a;\n          output[1] = d;\n          output[2] = g;\n          output[3] = b;\n          output[4] = e;\n          output[5] = h;\n          output[6] = c;\n          output[7] = f;\n          output[8] = i;\n          return;\n        }\n\n        return [\n          a, d, g, b, e, h, c, f, i\n        ];\n      }\n\n      if (hasOutput) {\n        output[0] = a;\n        output[1] = d;\n        output[2] = b;\n        output[3] = e;\n        output[4] = c;\n        output[5] = f;\n        return;\n      }\n\n      return [\n        a, d, b, e, c, f  // Specific format see LN:19\n      ];\n\n    },\n\n    /**\n     * Clone the current matrix.\n     */\n    clone: function() {\n      var a, b, c, d, e, f, g, h, i;\n\n      a = this.elements[0];\n      b = this.elements[1];\n      c = this.elements[2];\n      d = this.elements[3];\n      e = this.elements[4];\n      f = this.elements[5];\n      g = this.elements[6];\n      h = this.elements[7];\n      i = this.elements[8];\n\n      return new Two.Matrix(a, b, c, d, e, f, g, h, i);\n\n    }\n\n  });\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  // Localize variables\n  var mod = Two.Utils.mod, toFixed = Two.Utils.toFixed;\n  var _ = Two.Utils;\n\n  var svg = {\n\n    version: 1.1,\n\n    ns: 'http://www.w3.org/2000/svg',\n    xlink: 'http://www.w3.org/1999/xlink',\n\n    alignments: {\n      left: 'start',\n      center: 'middle',\n      right: 'end'\n    },\n\n    /**\n     * Create an svg namespaced element.\n     */\n    createElement: function(name, attrs) {\n      var tag = name;\n      var elem = document.createElementNS(this.ns, tag);\n      if (tag === 'svg') {\n        attrs = _.defaults(attrs || {}, {\n          version: this.version\n        });\n      }\n      if (!_.isEmpty(attrs)) {\n        svg.setAttributes(elem, attrs);\n      }\n      return elem;\n    },\n\n    /**\n     * Add attributes from an svg element.\n     */\n    setAttributes: function(elem, attrs) {\n      var keys = Object.keys(attrs);\n      for (var i = 0; i < keys.length; i++) {\n        elem.setAttribute(keys[i], attrs[keys[i]]);\n      }\n      return this;\n    },\n\n    /**\n     * Remove attributes from an svg element.\n     */\n    removeAttributes: function(elem, attrs) {\n      for (var key in attrs) {\n        elem.removeAttribute(key);\n      }\n      return this;\n    },\n\n    /**\n     * Turn a set of vertices into a string for the d property of a path\n     * element. It is imperative that the string collation is as fast as\n     * possible, because this call will be happening multiple times a\n     * second.\n     */\n    toString: function(points, closed) {\n\n      var l = points.length,\n        last = l - 1,\n        d, // The elusive last Two.Commands.move point\n        ret = '';\n\n      for (var i = 0; i < l; i++) {\n        var b = points[i];\n        var command;\n        var prev = closed ? mod(i - 1, l) : Math.max(i - 1, 0);\n        var next = closed ? mod(i + 1, l) : Math.min(i + 1, last);\n\n        var a = points[prev];\n        var c = points[next];\n\n        var vx, vy, ux, uy, ar, bl, br, cl;\n\n        // Access x and y directly,\n        // bypassing the getter\n        var x = toFixed(b._x);\n        var y = toFixed(b._y);\n\n        switch (b._command) {\n\n          case Two.Commands.close:\n            command = Two.Commands.close;\n            break;\n\n          case Two.Commands.curve:\n\n            ar = (a.controls && a.controls.right) || Two.Vector.zero;\n            bl = (b.controls && b.controls.left) || Two.Vector.zero;\n\n            if (a._relative) {\n              vx = toFixed((ar.x + a.x));\n              vy = toFixed((ar.y + a.y));\n            } else {\n              vx = toFixed(ar.x);\n              vy = toFixed(ar.y);\n            }\n\n            if (b._relative) {\n              ux = toFixed((bl.x + b.x));\n              uy = toFixed((bl.y + b.y));\n            } else {\n              ux = toFixed(bl.x);\n              uy = toFixed(bl.y);\n            }\n\n            command = ((i === 0) ? Two.Commands.move : Two.Commands.curve) +\n              ' ' + vx + ' ' + vy + ' ' + ux + ' ' + uy + ' ' + x + ' ' + y;\n            break;\n\n          case Two.Commands.move:\n            d = b;\n            command = Two.Commands.move + ' ' + x + ' ' + y;\n            break;\n\n          default:\n            command = b._command + ' ' + x + ' ' + y;\n\n        }\n\n        // Add a final point and close it off\n\n        if (i >= last && closed) {\n\n          if (b._command === Two.Commands.curve) {\n\n            // Make sure we close to the most previous Two.Commands.move\n            c = d;\n\n            br = (b.controls && b.controls.right) || b;\n            cl = (c.controls && c.controls.left) || c;\n\n            if (b._relative) {\n              vx = toFixed((br.x + b.x));\n              vy = toFixed((br.y + b.y));\n            } else {\n              vx = toFixed(br.x);\n              vy = toFixed(br.y);\n            }\n\n            if (c._relative) {\n              ux = toFixed((cl.x + c.x));\n              uy = toFixed((cl.y + c.y));\n            } else {\n              ux = toFixed(cl.x);\n              uy = toFixed(cl.y);\n            }\n\n            x = toFixed(c.x);\n            y = toFixed(c.y);\n\n            command +=\n              ' C ' + vx + ' ' + vy + ' ' + ux + ' ' + uy + ' ' + x + ' ' + y;\n          }\n\n          command += ' Z';\n\n        }\n\n        ret += command + ' ';\n\n      }\n\n      return ret;\n\n    },\n\n    getClip: function(shape) {\n\n      var clip = shape._renderer.clip;\n\n      if (!clip) {\n\n        var root = shape;\n\n        while (root.parent) {\n          root = root.parent;\n        }\n\n        clip = shape._renderer.clip = svg.createElement('clipPath');\n        root.defs.appendChild(clip);\n\n      }\n\n      return clip;\n\n    },\n\n    group: {\n\n      // TODO: Can speed up.\n      // TODO: How does this effect a f\n      appendChild: function(object) {\n\n        var elem = object._renderer.elem;\n\n        if (!elem) {\n          return;\n        }\n\n        var tag = elem.nodeName;\n\n        if (!tag || /(radial|linear)gradient/i.test(tag) || object._clip) {\n          return;\n        }\n\n        this.elem.appendChild(elem);\n\n      },\n\n      removeChild: function(object) {\n\n        var elem = object._renderer.elem;\n\n        if (!elem || elem.parentNode != this.elem) {\n          return;\n        }\n\n        var tag = elem.nodeName;\n\n        if (!tag) {\n          return;\n        }\n\n        // Defer subtractions while clipping.\n        if (object._clip) {\n          return;\n        }\n\n        this.elem.removeChild(elem);\n\n      },\n\n      orderChild: function(object) {\n        this.elem.appendChild(object._renderer.elem);\n      },\n\n      renderChild: function(child) {\n        svg[child._renderer.type].render.call(child, this);\n      },\n\n      render: function(domElement) {\n\n        this._update();\n\n        // Shortcut for hidden objects.\n        // Doesn't reset the flags, so changes are stored and\n        // applied once the object is visible again\n        if (this._opacity === 0 && !this._flagOpacity) {\n          return this;\n        }\n\n        if (!this._renderer.elem) {\n          this._renderer.elem = svg.createElement('g', {\n            id: this.id\n          });\n          domElement.appendChild(this._renderer.elem);\n        }\n\n        // _Update styles for the <g>\n        var flagMatrix = this._matrix.manual || this._flagMatrix;\n        var context = {\n          domElement: domElement,\n          elem: this._renderer.elem\n        };\n\n        if (flagMatrix) {\n          this._renderer.elem.setAttribute('transform', 'matrix(' + this._matrix.toString() + ')');\n        }\n\n        for (var i = 0; i < this.children.length; i++) {\n          var child = this.children[i];\n          svg[child._renderer.type].render.call(child, domElement);\n        }\n\n        if (this._flagOpacity) {\n          this._renderer.elem.setAttribute('opacity', this._opacity);\n        }\n\n        if (this._flagAdditions) {\n          this.additions.forEach(svg.group.appendChild, context);\n        }\n\n        if (this._flagSubtractions) {\n          this.subtractions.forEach(svg.group.removeChild, context);\n        }\n\n        if (this._flagOrder) {\n          this.children.forEach(svg.group.orderChild, context);\n        }\n\n        /**\n         * Commented two-way functionality of clips / masks with groups and\n         * polygons. Uncomment when this bug is fixed:\n         * https://code.google.com/p/chromium/issues/detail?id=370951\n         */\n\n        // if (this._flagClip) {\n\n        //   clip = svg.getClip(this);\n        //   elem = this._renderer.elem;\n\n        //   if (this._clip) {\n        //     elem.removeAttribute('id');\n        //     clip.setAttribute('id', this.id);\n        //     clip.appendChild(elem);\n        //   } else {\n        //     clip.removeAttribute('id');\n        //     elem.setAttribute('id', this.id);\n        //     this.parent._renderer.elem.appendChild(elem); // TODO: should be insertBefore\n        //   }\n\n        // }\n\n        if (this._flagMask) {\n          if (this._mask) {\n            this._renderer.elem.setAttribute('clip-path', 'url(#' + this._mask.id + ')');\n          } else {\n            this._renderer.elem.removeAttribute('clip-path');\n          }\n        }\n\n        return this.flagReset();\n\n      }\n\n    },\n\n    path: {\n\n      render: function(domElement) {\n\n        this._update();\n\n        // Shortcut for hidden objects.\n        // Doesn't reset the flags, so changes are stored and\n        // applied once the object is visible again\n        if (this._opacity === 0 && !this._flagOpacity) {\n          return this;\n        }\n\n        // Collect any attribute that needs to be changed here\n        var changed = {};\n\n        var flagMatrix = this._matrix.manual || this._flagMatrix;\n\n        if (flagMatrix) {\n          changed.transform = 'matrix(' + this._matrix.toString() + ')';\n        }\n\n        if (this._flagVertices) {\n          var vertices = svg.toString(this._vertices, this._closed);\n          changed.d = vertices;\n        }\n\n        if (this._fill && this._fill._renderer) {\n          this._fill._update();\n          svg[this._fill._renderer.type].render.call(this._fill, domElement, true);\n        }\n\n        if (this._flagFill) {\n          changed.fill = this._fill && this._fill.id\n            ? 'url(#' + this._fill.id + ')' : this._fill;\n        }\n\n        if (this._stroke && this._stroke._renderer) {\n          this._stroke._update();\n          svg[this._stroke._renderer.type].render.call(this._stroke, domElement, true);\n        }\n\n        if (this._flagStroke) {\n          changed.stroke = this._stroke && this._stroke.id\n            ? 'url(#' + this._stroke.id + ')' : this._stroke;\n        }\n\n        if (this._flagLinewidth) {\n          changed['stroke-width'] = this._linewidth;\n        }\n\n        if (this._flagOpacity) {\n          changed['stroke-opacity'] = this._opacity;\n          changed['fill-opacity'] = this._opacity;\n        }\n\n        if (this._flagVisible) {\n          changed.visibility = this._visible ? 'visible' : 'hidden';\n        }\n\n        if (this._flagCap) {\n          changed['stroke-linecap'] = this._cap;\n        }\n\n        if (this._flagJoin) {\n          changed['stroke-linejoin'] = this._join;\n        }\n\n        if (this._flagMiter) {\n          changed['stroke-miterlimit'] = this._miter;\n        }\n\n        // If there is no attached DOM element yet,\n        // create it with all necessary attributes.\n        if (!this._renderer.elem) {\n\n          changed.id = this.id;\n          this._renderer.elem = svg.createElement('path', changed);\n          domElement.appendChild(this._renderer.elem);\n\n        // Otherwise apply all pending attributes\n        } else {\n          svg.setAttributes(this._renderer.elem, changed);\n        }\n\n        if (this._flagClip) {\n\n          var clip = svg.getClip(this);\n          var elem = this._renderer.elem;\n\n          if (this._clip) {\n            elem.removeAttribute('id');\n            clip.setAttribute('id', this.id);\n            clip.appendChild(elem);\n          } else {\n            clip.removeAttribute('id');\n            elem.setAttribute('id', this.id);\n            this.parent._renderer.elem.appendChild(elem); // TODO: should be insertBefore\n          }\n\n        }\n\n        /**\n         * Commented two-way functionality of clips / masks with groups and\n         * polygons. Uncomment when this bug is fixed:\n         * https://code.google.com/p/chromium/issues/detail?id=370951\n         */\n\n        // if (this._flagMask) {\n        //   if (this._mask) {\n        //     elem.setAttribute('clip-path', 'url(#' + this._mask.id + ')');\n        //   } else {\n        //     elem.removeAttribute('clip-path');\n        //   }\n        // }\n\n        return this.flagReset();\n\n      }\n\n    },\n\n    text: {\n\n      render: function(domElement) {\n\n        this._update();\n\n        var changed = {};\n\n        var flagMatrix = this._matrix.manual || this._flagMatrix;\n\n        if (flagMatrix) {\n          changed.transform = 'matrix(' + this._matrix.toString() + ')';\n        }\n\n        if (this._flagFamily) {\n          changed['font-family'] = this._family;\n        }\n        if (this._flagSize) {\n          changed['font-size'] = this._size;\n        }\n        if (this._flagLeading) {\n          changed['line-height'] = this._leading;\n        }\n        if (this._flagAlignment) {\n          changed['text-anchor'] = svg.alignments[this._alignment] || this._alignment;\n        }\n        if (this._flagBaseline) {\n          changed['alignment-baseline'] = changed['dominant-baseline'] = this._baseline;\n        }\n        if (this._flagStyle) {\n          changed['font-style'] = this._style;\n        }\n        if (this._flagWeight) {\n          changed['font-weight'] = this._weight;\n        }\n        if (this._flagDecoration) {\n          changed['text-decoration'] = this._decoration;\n        }\n        if (this._fill && this._fill._renderer) {\n          this._fill._update();\n          svg[this._fill._renderer.type].render.call(this._fill, domElement, true);\n        }\n        if (this._flagFill) {\n          changed.fill = this._fill && this._fill.id\n            ? 'url(#' + this._fill.id + ')' : this._fill;\n        }\n        if (this._stroke && this._stroke._renderer) {\n          this._stroke._update();\n          svg[this._stroke._renderer.type].render.call(this._stroke, domElement, true);\n        }\n        if (this._flagStroke) {\n          changed.stroke = this._stroke && this._stroke.id\n            ? 'url(#' + this._stroke.id + ')' : this._stroke;\n        }\n        if (this._flagLinewidth) {\n          changed['stroke-width'] = this._linewidth;\n        }\n        if (this._flagOpacity) {\n          changed.opacity = this._opacity;\n        }\n        if (this._flagVisible) {\n          changed.visibility = this._visible ? 'visible' : 'hidden';\n        }\n\n        if (!this._renderer.elem) {\n\n          changed.id = this.id;\n\n          this._renderer.elem = svg.createElement('text', changed);\n          domElement.defs.appendChild(this._renderer.elem);\n\n        } else {\n\n          svg.setAttributes(this._renderer.elem, changed);\n\n        }\n\n        if (this._flagClip) {\n\n          var clip = svg.getClip(this);\n          var elem = this._renderer.elem;\n\n          if (this._clip) {\n            elem.removeAttribute('id');\n            clip.setAttribute('id', this.id);\n            clip.appendChild(elem);\n          } else {\n            clip.removeAttribute('id');\n            elem.setAttribute('id', this.id);\n            this.parent._renderer.elem.appendChild(elem); // TODO: should be insertBefore\n          }\n\n        }\n\n        if (this._flagValue) {\n          this._renderer.elem.textContent = this._value;\n        }\n\n        return this.flagReset();\n\n      }\n\n    },\n\n    'linear-gradient': {\n\n      render: function(domElement, silent) {\n\n        if (!silent) {\n          this._update();\n        }\n\n        var changed = {};\n\n        if (this._flagEndPoints) {\n          changed.x1 = this.left._x;\n          changed.y1 = this.left._y;\n          changed.x2 = this.right._x;\n          changed.y2 = this.right._y;\n        }\n\n        if (this._flagSpread) {\n          changed.spreadMethod = this._spread;\n        }\n\n        // If there is no attached DOM element yet,\n        // create it with all necessary attributes.\n        if (!this._renderer.elem) {\n\n          changed.id = this.id;\n          changed.gradientUnits = 'userSpaceOnUse';\n          this._renderer.elem = svg.createElement('linearGradient', changed);\n          domElement.defs.appendChild(this._renderer.elem);\n\n        // Otherwise apply all pending attributes\n        } else {\n\n          svg.setAttributes(this._renderer.elem, changed);\n\n        }\n\n        if (this._flagStops) {\n\n          var lengthChanged = this._renderer.elem.childNodes.length\n            !== this.stops.length;\n\n          if (lengthChanged) {\n            this._renderer.elem.childNodes.length = 0;\n          }\n\n          for (var i = 0; i < this.stops.length; i++) {\n\n            var stop = this.stops[i];\n            var attrs = {};\n\n            if (stop._flagOffset) {\n              attrs.offset = 100 * stop._offset + '%';\n            }\n            if (stop._flagColor) {\n              attrs['stop-color'] = stop._color;\n            }\n            if (stop._flagOpacity) {\n              attrs['stop-opacity'] = stop._opacity;\n            }\n\n            if (!stop._renderer.elem) {\n              stop._renderer.elem = svg.createElement('stop', attrs);\n            } else {\n              svg.setAttributes(stop._renderer.elem, attrs);\n            }\n\n            if (lengthChanged) {\n              this._renderer.elem.appendChild(stop._renderer.elem);\n            }\n            stop.flagReset();\n\n          }\n\n        }\n\n        return this.flagReset();\n\n      }\n\n    },\n\n    'radial-gradient': {\n\n      render: function(domElement, silent) {\n\n        if (!silent) {\n          this._update();\n        }\n\n        var changed = {};\n\n        if (this._flagCenter) {\n          changed.cx = this.center._x;\n          changed.cy = this.center._y;\n        }\n        if (this._flagFocal) {\n          changed.fx = this.focal._x;\n          changed.fy = this.focal._y;\n        }\n\n        if (this._flagRadius) {\n          changed.r = this._radius;\n        }\n\n        if (this._flagSpread) {\n          changed.spreadMethod = this._spread;\n        }\n\n        // If there is no attached DOM element yet,\n        // create it with all necessary attributes.\n        if (!this._renderer.elem) {\n\n          changed.id = this.id;\n          changed.gradientUnits = 'userSpaceOnUse';\n          this._renderer.elem = svg.createElement('radialGradient', changed);\n          domElement.defs.appendChild(this._renderer.elem);\n\n        // Otherwise apply all pending attributes\n        } else {\n\n          svg.setAttributes(this._renderer.elem, changed);\n\n        }\n\n        if (this._flagStops) {\n\n          var lengthChanged = this._renderer.elem.childNodes.length\n            !== this.stops.length;\n\n          if (lengthChanged) {\n            this._renderer.elem.childNodes.length = 0;\n          }\n\n          for (var i = 0; i < this.stops.length; i++) {\n\n            var stop = this.stops[i];\n            var attrs = {};\n\n            if (stop._flagOffset) {\n              attrs.offset = 100 * stop._offset + '%';\n            }\n            if (stop._flagColor) {\n              attrs['stop-color'] = stop._color;\n            }\n            if (stop._flagOpacity) {\n              attrs['stop-opacity'] = stop._opacity;\n            }\n\n            if (!stop._renderer.elem) {\n              stop._renderer.elem = svg.createElement('stop', attrs);\n            } else {\n              svg.setAttributes(stop._renderer.elem, attrs);\n            }\n\n            if (lengthChanged) {\n              this._renderer.elem.appendChild(stop._renderer.elem);\n            }\n            stop.flagReset();\n\n          }\n\n        }\n\n        return this.flagReset();\n\n      }\n\n    },\n\n    texture: {\n\n      render: function(domElement, silent) {\n\n        if (!silent) {\n          this._update();\n        }\n\n        var changed = {};\n        var styles = {};\n        var image = this.image;\n\n        if (this._flagLoaded && this.loaded) {\n\n          switch (image.nodeName.toLowerCase()) {\n\n            case 'canvas':\n              styles.href = image.toDataURL('image/png');\n              break;\n            case 'img':\n            case 'image':\n              styles.href = this.src;\n              break;\n\n          }\n\n        }\n\n        if (this._flagOffset || this._flagLoaded || this._flagScale) {\n\n          changed.x = this._offset.x;\n          changed.y = this._offset.y;\n\n          if (image) {\n\n            changed.x -= image.width / 2;\n            changed.y -= image.height / 2;\n\n            if (this._scale instanceof Two.Vector) {\n              changed.x *= this._scale.x;\n              changed.y *= this._scale.y;\n            } else {\n              changed.x *= this._scale;\n              changed.y *= this._scale;\n            }\n          }\n\n        }\n\n        if (this._flagScale || this._flagLoaded || this._flagRepeat) {\n\n          changed.width = 0;\n          changed.height = 0;\n\n          if (image) {\n\n            changed.width = image.width;\n            changed.height = image.height;\n\n            // TODO: Hack / Bandaid\n            switch (this._repeat) {\n              case 'no-repeat':\n                changed.width += 1;\n                changed.height += 1;\n                break;\n            }\n\n            if (this._scale instanceof Two.Vector) {\n              changed.width *= this._scale.x;\n              changed.height *= this._scale.y;\n            } else {\n              changed.width *= this._scale;\n              changed.height *= this._scale;\n            }\n          }\n\n        }\n\n        if (this._flagScale || this._flagLoaded) {\n          if (!this._renderer.image) {\n            this._renderer.image = svg.createElement('image', styles);\n          } else if (!_.isEmpty(styles)) {\n            svg.setAttributes(this._renderer.image, styles);\n          }\n        }\n\n        if (!this._renderer.elem) {\n\n          changed.id = this.id;\n          changed.patternUnits = 'userSpaceOnUse';\n          this._renderer.elem = svg.createElement('pattern', changed);\n          domElement.defs.appendChild(this._renderer.elem);\n\n        } else if (!_.isEmpty(changed)) {\n\n          svg.setAttributes(this._renderer.elem, changed);\n\n        }\n\n        if (this._renderer.elem && this._renderer.image && !this._renderer.appended) {\n          this._renderer.elem.appendChild(this._renderer.image);\n          this._renderer.appended = true;\n        }\n\n        return this.flagReset();\n\n      }\n\n    }\n\n  };\n\n  /**\n   * @class\n   */\n  var Renderer = Two[Two.Types.svg] = function(params) {\n\n    this.domElement = params.domElement || svg.createElement('svg');\n\n    this.scene = new Two.Group();\n    this.scene.parent = this;\n\n    this.defs = svg.createElement('defs');\n    this.domElement.appendChild(this.defs);\n    this.domElement.defs = this.defs;\n    this.domElement.style.overflow = 'hidden';\n\n  };\n\n  _.extend(Renderer, {\n\n    Utils: svg\n\n  });\n\n  _.extend(Renderer.prototype, Two.Utils.Events, {\n\n    setSize: function(width, height) {\n\n      this.width = width;\n      this.height = height;\n\n      svg.setAttributes(this.domElement, {\n        width: width,\n        height: height\n      });\n\n      return this;\n\n    },\n\n    render: function() {\n\n      svg.group.render.call(this.scene, this.domElement);\n\n      return this;\n\n    }\n\n  });\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  /**\n   * Constants\n   */\n  var mod = Two.Utils.mod, toFixed = Two.Utils.toFixed;\n  var getRatio = Two.Utils.getRatio;\n  var _ = Two.Utils;\n\n  // Returns true if this is a non-transforming matrix\n  var isDefaultMatrix = function (m) {\n    return (m[0] == 1 && m[3] == 0 && m[1] == 0 && m[4] == 1 && m[2] == 0 && m[5] == 0);\n  };\n\n  var canvas = {\n\n    isHidden: /(none|transparent)/i,\n\n    alignments: {\n      left: 'start',\n      middle: 'center',\n      right: 'end'\n    },\n\n    shim: function(elem) {\n      elem.tagName = 'canvas';\n      elem.nodeType = 1;\n      return elem;\n    },\n\n    group: {\n\n      renderChild: function(child) {\n        canvas[child._renderer.type].render.call(child, this.ctx, true, this.clip);\n      },\n\n      render: function(ctx) {\n\n        // TODO: Add a check here to only invoke _update if need be.\n        this._update();\n\n        var matrix = this._matrix.elements;\n        var parent = this.parent;\n        this._renderer.opacity = this._opacity * (parent && parent._renderer ? parent._renderer.opacity : 1);\n\n        var defaultMatrix = isDefaultMatrix(matrix);\n\n        var mask = this._mask;\n        // var clip = this._clip;\n\n        if (!this._renderer.context) {\n          this._renderer.context = {};\n        }\n\n        this._renderer.context.ctx = ctx;\n        // this._renderer.context.clip = clip;\n\n        if (!defaultMatrix) {\n          ctx.save();\n          ctx.transform(matrix[0], matrix[3], matrix[1], matrix[4], matrix[2], matrix[5]);\n        }\n\n        if (mask) {\n          canvas[mask._renderer.type].render.call(mask, ctx, true);\n        }\n\n        for (var i = 0; i < this.children.length; i++) {\n          var child = this.children[i];\n          canvas[child._renderer.type].render.call(child, ctx);\n        }\n\n        if (!defaultMatrix) {\n          ctx.restore();\n        }\n\n       /**\n         * Commented two-way functionality of clips / masks with groups and\n         * polygons. Uncomment when this bug is fixed:\n         * https://code.google.com/p/chromium/issues/detail?id=370951\n         */\n\n        // if (clip) {\n        //   ctx.clip();\n        // }\n\n        return this.flagReset();\n\n      }\n\n    },\n\n    path: {\n\n      render: function(ctx, forced, parentClipped) {\n\n        var matrix, stroke, linewidth, fill, opacity, visible, cap, join, miter,\n            closed, commands, length, last, next, prev, a, b, c, d, ux, uy, vx, vy,\n            ar, bl, br, cl, x, y, mask, clip, defaultMatrix, isOffset;\n\n        // TODO: Add a check here to only invoke _update if need be.\n        this._update();\n\n        matrix = this._matrix.elements;\n        stroke = this._stroke;\n        linewidth = this._linewidth;\n        fill = this._fill;\n        opacity = this._opacity * this.parent._renderer.opacity;\n        visible = this._visible;\n        cap = this._cap;\n        join = this._join;\n        miter = this._miter;\n        closed = this._closed;\n        commands = this._vertices; // Commands\n        length = commands.length;\n        last = length - 1;\n        defaultMatrix = isDefaultMatrix(matrix);\n\n        // mask = this._mask;\n        clip = this._clip;\n\n        if (!forced && (!visible || clip)) {\n          return this;\n        }\n\n        // Transform\n        if (!defaultMatrix) {\n          ctx.save();\n          ctx.transform(matrix[0], matrix[3], matrix[1], matrix[4], matrix[2], matrix[5]);\n        }\n\n       /**\n         * Commented two-way functionality of clips / masks with groups and\n         * polygons. Uncomment when this bug is fixed:\n         * https://code.google.com/p/chromium/issues/detail?id=370951\n         */\n\n        // if (mask) {\n        //   canvas[mask._renderer.type].render.call(mask, ctx, true);\n        // }\n\n        // Styles\n        if (fill) {\n          if (_.isString(fill)) {\n            ctx.fillStyle = fill;\n          } else {\n            canvas[fill._renderer.type].render.call(fill, ctx);\n            ctx.fillStyle = fill._renderer.effect;\n          }\n        }\n        if (stroke) {\n          if (_.isString(stroke)) {\n            ctx.strokeStyle = stroke;\n          } else {\n            canvas[stroke._renderer.type].render.call(stroke, ctx);\n            ctx.strokeStyle = stroke._renderer.effect;\n          }\n        }\n        if (linewidth) {\n          ctx.lineWidth = linewidth;\n        }\n        if (miter) {\n          ctx.miterLimit = miter;\n        }\n        if (join) {\n          ctx.lineJoin = join;\n        }\n        if (cap) {\n          ctx.lineCap = cap;\n        }\n        if (_.isNumber(opacity)) {\n          ctx.globalAlpha = opacity;\n        }\n\n        ctx.beginPath();\n\n        for (var i = 0; i < commands.length; i++) {\n\n          b = commands[i];\n\n          x = toFixed(b._x);\n          y = toFixed(b._y);\n\n          switch (b._command) {\n\n            case Two.Commands.close:\n              ctx.closePath();\n              break;\n\n            case Two.Commands.curve:\n\n              prev = closed ? mod(i - 1, length) : Math.max(i - 1, 0);\n              next = closed ? mod(i + 1, length) : Math.min(i + 1, last);\n\n              a = commands[prev];\n              c = commands[next];\n              ar = (a.controls && a.controls.right) || Two.Vector.zero;\n              bl = (b.controls && b.controls.left) || Two.Vector.zero;\n\n              if (a._relative) {\n                vx = (ar.x + toFixed(a._x));\n                vy = (ar.y + toFixed(a._y));\n              } else {\n                vx = toFixed(ar.x);\n                vy = toFixed(ar.y);\n              }\n\n              if (b._relative) {\n                ux = (bl.x + toFixed(b._x));\n                uy = (bl.y + toFixed(b._y));\n              } else {\n                ux = toFixed(bl.x);\n                uy = toFixed(bl.y);\n              }\n\n              ctx.bezierCurveTo(vx, vy, ux, uy, x, y);\n\n              if (i >= last && closed) {\n\n                c = d;\n\n                br = (b.controls && b.controls.right) || Two.Vector.zero;\n                cl = (c.controls && c.controls.left) || Two.Vector.zero;\n\n                if (b._relative) {\n                  vx = (br.x + toFixed(b._x));\n                  vy = (br.y + toFixed(b._y));\n                } else {\n                  vx = toFixed(br.x);\n                  vy = toFixed(br.y);\n                }\n\n                if (c._relative) {\n                  ux = (cl.x + toFixed(c._x));\n                  uy = (cl.y + toFixed(c._y));\n                } else {\n                  ux = toFixed(cl.x);\n                  uy = toFixed(cl.y);\n                }\n\n                x = toFixed(c._x);\n                y = toFixed(c._y);\n\n                ctx.bezierCurveTo(vx, vy, ux, uy, x, y);\n\n              }\n\n              break;\n\n            case Two.Commands.line:\n              ctx.lineTo(x, y);\n              break;\n\n            case Two.Commands.move:\n              d = b;\n              ctx.moveTo(x, y);\n              break;\n\n          }\n        }\n\n        // Loose ends\n\n        if (closed) {\n          ctx.closePath();\n        }\n\n        if (!clip && !parentClipped) {\n          if (!canvas.isHidden.test(fill)) {\n            isOffset = fill._renderer && fill._renderer.offset\n            if (isOffset) {\n              ctx.save();\n              ctx.translate(\n                - fill._renderer.offset.x, - fill._renderer.offset.y);\n              ctx.scale(fill._renderer.scale.x, fill._renderer.scale.y);\n            }\n            ctx.fill();\n            if (isOffset) {\n              ctx.restore();\n            }\n          }\n          if (!canvas.isHidden.test(stroke)) {\n            isOffset = stroke._renderer && stroke._renderer.offset;\n            if (isOffset) {\n              ctx.save();\n              ctx.translate(\n                - stroke._renderer.offset.x, - stroke._renderer.offset.y);\n              ctx.scale(stroke._renderer.scale.x, stroke._renderer.scale.y);\n              ctx.lineWidth = linewidth / stroke._renderer.scale.x;\n            }\n            ctx.stroke();\n            if (isOffset) {\n              ctx.restore();\n            }\n          }\n        }\n\n        if (!defaultMatrix) {\n          ctx.restore();\n        }\n\n        if (clip && !parentClipped) {\n          ctx.clip();\n        }\n\n        return this.flagReset();\n\n      }\n\n    },\n\n    text: {\n\n      render: function(ctx, forced, parentClipped) {\n\n        // TODO: Add a check here to only invoke _update if need be.\n        this._update();\n\n        var matrix = this._matrix.elements;\n        var stroke = this._stroke;\n        var linewidth = this._linewidth;\n        var fill = this._fill;\n        var opacity = this._opacity * this.parent._renderer.opacity;\n        var visible = this._visible;\n        var defaultMatrix = isDefaultMatrix(matrix);\n        var isOffset = fill._renderer && fill._renderer.offset\n          && stroke._renderer && stroke._renderer.offset;\n\n        var a, b, c, d, e, sx, sy;\n\n        // mask = this._mask;\n        var clip = this._clip;\n\n        if (!forced && (!visible || clip)) {\n          return this;\n        }\n\n        // Transform\n        if (!defaultMatrix) {\n          ctx.save();\n          ctx.transform(matrix[0], matrix[3], matrix[1], matrix[4], matrix[2], matrix[5]);\n        }\n\n       /**\n         * Commented two-way functionality of clips / masks with groups and\n         * polygons. Uncomment when this bug is fixed:\n         * https://code.google.com/p/chromium/issues/detail?id=370951\n         */\n\n        // if (mask) {\n        //   canvas[mask._renderer.type].render.call(mask, ctx, true);\n        // }\n\n        if (!isOffset) {\n          ctx.font = [this._style, this._weight, this._size + 'px/' +\n            this._leading + 'px', this._family].join(' ');\n        }\n\n        ctx.textAlign = canvas.alignments[this._alignment] || this._alignment;\n        ctx.textBaseline = this._baseline;\n\n        // Styles\n        if (fill) {\n          if (_.isString(fill)) {\n            ctx.fillStyle = fill;\n          } else {\n            canvas[fill._renderer.type].render.call(fill, ctx);\n            ctx.fillStyle = fill._renderer.effect;\n          }\n        }\n        if (stroke) {\n          if (_.isString(stroke)) {\n            ctx.strokeStyle = stroke;\n          } else {\n            canvas[stroke._renderer.type].render.call(stroke, ctx);\n            ctx.strokeStyle = stroke._renderer.effect;\n          }\n        }\n        if (linewidth) {\n          ctx.lineWidth = linewidth;\n        }\n        if (_.isNumber(opacity)) {\n          ctx.globalAlpha = opacity;\n        }\n\n        if (!clip && !parentClipped) {\n\n          if (!canvas.isHidden.test(fill)) {\n\n            if (fill._renderer && fill._renderer.offset) {\n\n              sx = toFixed(fill._renderer.scale.x);\n              sy = toFixed(fill._renderer.scale.y);\n\n              ctx.save();\n              ctx.translate( - toFixed(fill._renderer.offset.x),\n                - toFixed(fill._renderer.offset.y));\n              ctx.scale(sx, sy);\n\n              a = this._size / fill._renderer.scale.y;\n              b = this._leading / fill._renderer.scale.y;\n              ctx.font = [this._style, this._weight, toFixed(a) + 'px/',\n                toFixed(b) + 'px', this._family].join(' ');\n\n              c = fill._renderer.offset.x / fill._renderer.scale.x;\n              d = fill._renderer.offset.y / fill._renderer.scale.y;\n\n              ctx.fillText(this.value, toFixed(c), toFixed(d));\n              ctx.restore();\n\n            } else {\n              ctx.fillText(this.value, 0, 0);\n            }\n\n          }\n\n          if (!canvas.isHidden.test(stroke)) {\n\n            if (stroke._renderer && stroke._renderer.offset) {\n\n              sx = toFixed(stroke._renderer.scale.x);\n              sy = toFixed(stroke._renderer.scale.y);\n\n              ctx.save();\n              ctx.translate(- toFixed(stroke._renderer.offset.x),\n                - toFixed(stroke._renderer.offset.y));\n              ctx.scale(sx, sy);\n\n              a = this._size / stroke._renderer.scale.y;\n              b = this._leading / stroke._renderer.scale.y;\n              ctx.font = [this._style, this._weight, toFixed(a) + 'px/',\n                toFixed(b) + 'px', this._family].join(' ');\n\n              c = stroke._renderer.offset.x / stroke._renderer.scale.x;\n              d = stroke._renderer.offset.y / stroke._renderer.scale.y;\n              e = linewidth / stroke._renderer.scale.x;\n\n              ctx.lineWidth = toFixed(e);\n              ctx.strokeText(this.value, toFixed(c), toFixed(d));\n              ctx.restore();\n\n            } else {\n              ctx.strokeText(this.value, 0, 0);\n            }\n          }\n        }\n\n        if (!defaultMatrix) {\n          ctx.restore();\n        }\n\n        // TODO: Test for text\n        if (clip && !parentClipped) {\n          ctx.clip();\n        }\n\n        return this.flagReset();\n\n      }\n\n    },\n\n    'linear-gradient': {\n\n      render: function(ctx) {\n\n        this._update();\n\n        if (!this._renderer.effect || this._flagEndPoints || this._flagStops) {\n\n          this._renderer.effect = ctx.createLinearGradient(\n            this.left._x, this.left._y,\n            this.right._x, this.right._y\n          );\n\n          for (var i = 0; i < this.stops.length; i++) {\n            var stop = this.stops[i];\n            this._renderer.effect.addColorStop(stop._offset, stop._color);\n          }\n\n        }\n\n        return this.flagReset();\n\n      }\n\n    },\n\n    'radial-gradient': {\n\n      render: function(ctx) {\n\n        this._update();\n\n        if (!this._renderer.effect || this._flagCenter || this._flagFocal\n            || this._flagRadius || this._flagStops) {\n\n          this._renderer.effect = ctx.createRadialGradient(\n            this.center._x, this.center._y, 0,\n            this.focal._x, this.focal._y, this._radius\n          );\n\n          for (var i = 0; i < this.stops.length; i++) {\n            var stop = this.stops[i];\n            this._renderer.effect.addColorStop(stop._offset, stop._color);\n          }\n\n        }\n\n        return this.flagReset();\n\n      }\n\n    },\n\n    texture: {\n\n      render: function(ctx) {\n\n        this._update();\n\n        var image = this.image;\n        var repeat;\n\n        if (!this._renderer.effect || ((this._flagLoaded || this._flagImage || this._flagRepeat) && this.loaded)) {\n          this._renderer.effect = ctx.createPattern(this.image, this._repeat);\n        }\n\n        if (this._flagOffset || this._flagLoaded || this._flagScale) {\n\n          if (!(this._renderer.offset instanceof Two.Vector)) {\n            this._renderer.offset = new Two.Vector();\n          }\n\n          this._renderer.offset.x = this._offset.x;\n          this._renderer.offset.y = this._offset.y;\n\n          if (image) {\n\n            this._renderer.offset.x -= image.width / 2;\n            this._renderer.offset.y += image.height / 2;\n\n            if (this._scale instanceof Two.Vector) {\n              this._renderer.offset.x *= this._scale.x;\n              this._renderer.offset.y *= this._scale.y;\n            } else {\n              this._renderer.offset.x *= this._scale;\n              this._renderer.offset.y *= this._scale;\n            }\n          }\n\n        }\n\n        if (this._flagScale || this._flagLoaded) {\n\n          if (!(this._renderer.scale instanceof Two.Vector)) {\n            this._renderer.scale = new Two.Vector();\n          }\n\n          if (this._scale instanceof Two.Vector) {\n            this._renderer.scale.copy(this._scale);\n          } else {\n            this._renderer.scale.set(this._scale, this._scale);\n          }\n\n        }\n\n        return this.flagReset();\n\n      }\n\n    }\n\n  };\n\n  var Renderer = Two[Two.Types.canvas] = function(params) {\n    // Smoothing property. Defaults to true\n    // Set it to false when working with pixel art.\n    // false can lead to better performance, since it would use a cheaper interpolation algorithm.\n    // It might not make a big difference on GPU backed canvases.\n    var smoothing = (params.smoothing !== false);\n    this.domElement = params.domElement || document.createElement('canvas');\n    this.ctx = this.domElement.getContext('2d');\n    this.overdraw = params.overdraw || false;\n\n    if (!_.isUndefined(this.ctx.imageSmoothingEnabled)) {\n      this.ctx.imageSmoothingEnabled = smoothing;\n    }\n\n    // Everything drawn on the canvas needs to be added to the scene.\n    this.scene = new Two.Group();\n    this.scene.parent = this;\n  };\n\n\n  _.extend(Renderer, {\n\n    Utils: canvas\n\n  });\n\n  _.extend(Renderer.prototype, Two.Utils.Events, {\n\n    setSize: function(width, height, ratio) {\n\n      this.width = width;\n      this.height = height;\n\n      this.ratio = _.isUndefined(ratio) ? getRatio(this.ctx) : ratio;\n\n      this.domElement.width = width * this.ratio;\n      this.domElement.height = height * this.ratio;\n\n      if (this.domElement.style) {\n        _.extend(this.domElement.style, {\n          width: width + 'px',\n          height: height + 'px'\n        });\n      }\n\n      return this;\n\n    },\n\n    render: function() {\n\n      var isOne = this.ratio === 1;\n\n      if (!isOne) {\n        this.ctx.save();\n        this.ctx.scale(this.ratio, this.ratio);\n      }\n\n      if (!this.overdraw) {\n        this.ctx.clearRect(0, 0, this.width, this.height);\n      }\n\n      canvas.group.render.call(this.scene, this.ctx);\n\n      if (!isOne) {\n        this.ctx.restore();\n      }\n\n      return this;\n\n    }\n\n  });\n\n  function resetTransform(ctx) {\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n  }\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  /**\n   * Constants\n   */\n\n  var root = Two.root,\n    multiplyMatrix = Two.Matrix.Multiply,\n    mod = Two.Utils.mod,\n    identity = [1, 0, 0, 0, 1, 0, 0, 0, 1],\n    transformation = new Two.Array(9),\n    getRatio = Two.Utils.getRatio,\n    getComputedMatrix = Two.Utils.getComputedMatrix,\n    toFixed = Two.Utils.toFixed,\n    _ = Two.Utils;\n\n  var webgl = {\n\n    isHidden: /(none|transparent)/i,\n\n    canvas: (root.document ? root.document.createElement('canvas') : { getContext: _.identity }),\n\n    alignments: {\n      left: 'start',\n      middle: 'center',\n      right: 'end'\n    },\n\n    matrix: new Two.Matrix(),\n\n    uv: new Two.Array([\n      0, 0,\n      1, 0,\n      0, 1,\n      0, 1,\n      1, 0,\n      1, 1\n    ]),\n\n    group: {\n\n      removeChild: function(child, gl) {\n        if (child.children) {\n          for (var i = 0; i < child.children.length; i++) {\n            webgl.group.removeChild(child.children[i], gl);\n          }\n          return;\n        }\n        // Deallocate texture to free up gl memory.\n        gl.deleteTexture(child._renderer.texture);\n        delete child._renderer.texture;\n      },\n\n      renderChild: function(child) {\n        webgl[child._renderer.type].render.call(child, this.gl, this.program);\n      },\n\n      render: function(gl, program) {\n\n        this._update();\n\n        var parent = this.parent;\n        var flagParentMatrix = (parent._matrix && parent._matrix.manual) || parent._flagMatrix;\n        var flagMatrix = this._matrix.manual || this._flagMatrix;\n\n        if (flagParentMatrix || flagMatrix) {\n\n          if (!this._renderer.matrix) {\n            this._renderer.matrix = new Two.Array(9);\n          }\n\n          // Reduce amount of object / array creation / deletion\n          this._matrix.toArray(true, transformation);\n\n          multiplyMatrix(transformation, parent._renderer.matrix, this._renderer.matrix);\n          this._renderer.scale = this._scale * parent._renderer.scale;\n\n          if (flagParentMatrix) {\n            this._flagMatrix = true;\n          }\n\n        }\n\n        if (this._mask) {\n\n          gl.enable(gl.STENCIL_TEST);\n          gl.stencilFunc(gl.ALWAYS, 1, 1);\n\n          gl.colorMask(false, false, false, true);\n          gl.stencilOp(gl.KEEP, gl.KEEP, gl.INCR);\n\n          webgl[this._mask._renderer.type].render.call(this._mask, gl, program, this);\n\n          gl.colorMask(true, true, true, true);\n          gl.stencilFunc(gl.NOTEQUAL, 0, 1);\n          gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);\n\n        }\n\n        this._flagOpacity = parent._flagOpacity || this._flagOpacity;\n\n        this._renderer.opacity = this._opacity\n          * (parent && parent._renderer ? parent._renderer.opacity : 1);\n\n        if (this._flagSubtractions) {\n          for (var i = 0; i < this.subtractions.length; i++) {\n            webgl.group.removeChild(this.subtractions[i], gl);\n          }\n        }\n\n        this.children.forEach(webgl.group.renderChild, {\n          gl: gl,\n          program: program\n        });\n\n        if (this._mask) {\n\n          gl.colorMask(false, false, false, false);\n          gl.stencilOp(gl.KEEP, gl.KEEP, gl.DECR);\n\n          webgl[this._mask._renderer.type].render.call(this._mask, gl, program, this);\n\n          gl.colorMask(true, true, true, true);\n          gl.stencilFunc(gl.NOTEQUAL, 0, 1);\n          gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);\n\n          gl.disable(gl.STENCIL_TEST);\n\n        }\n\n        return this.flagReset();\n\n      }\n\n    },\n\n    path: {\n\n      updateCanvas: function(elem) {\n\n        var next, prev, a, c, ux, uy, vx, vy, ar, bl, br, cl, x, y;\n        var isOffset;\n\n        var commands = elem._vertices;\n        var canvas = this.canvas;\n        var ctx = this.ctx;\n\n        // Styles\n        var scale = elem._renderer.scale;\n        var stroke = elem._stroke;\n        var linewidth = elem._linewidth;\n        var fill = elem._fill;\n        var opacity = elem._renderer.opacity || elem._opacity;\n        var cap = elem._cap;\n        var join = elem._join;\n        var miter = elem._miter;\n        var closed = elem._closed;\n        var length = commands.length;\n        var last = length - 1;\n\n        canvas.width = Math.max(Math.ceil(elem._renderer.rect.width * scale), 1);\n        canvas.height = Math.max(Math.ceil(elem._renderer.rect.height * scale), 1);\n\n        var centroid = elem._renderer.rect.centroid;\n        var cx = centroid.x;\n        var cy = centroid.y;\n\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n        if (fill) {\n          if (_.isString(fill)) {\n            ctx.fillStyle = fill;\n          } else {\n            webgl[fill._renderer.type].render.call(fill, ctx, elem);\n            ctx.fillStyle = fill._renderer.effect;\n          }\n        }\n        if (stroke) {\n          if (_.isString(stroke)) {\n            ctx.strokeStyle = stroke;\n          } else {\n            webgl[stroke._renderer.type].render.call(stroke, ctx, elem);\n            ctx.strokeStyle = stroke._renderer.effect;\n          }\n        }\n        if (linewidth) {\n          ctx.lineWidth = linewidth;\n        }\n        if (miter) {\n          ctx.miterLimit = miter;\n        }\n        if (join) {\n          ctx.lineJoin = join;\n        }\n        if (cap) {\n          ctx.lineCap = cap;\n        }\n        if (_.isNumber(opacity)) {\n          ctx.globalAlpha = opacity;\n        }\n\n        var d;\n        ctx.save();\n        ctx.scale(scale, scale);\n        ctx.translate(cx, cy);\n\n        ctx.beginPath();\n        for (var i = 0; i < commands.length; i++) {\n\n          b = commands[i];\n\n          x = toFixed(b._x);\n          y = toFixed(b._y);\n\n          switch (b._command) {\n\n            case Two.Commands.close:\n              ctx.closePath();\n              break;\n\n            case Two.Commands.curve:\n\n              prev = closed ? mod(i - 1, length) : Math.max(i - 1, 0);\n              next = closed ? mod(i + 1, length) : Math.min(i + 1, last);\n\n              a = commands[prev];\n              c = commands[next];\n              ar = (a.controls && a.controls.right) || Two.Vector.zero;\n              bl = (b.controls && b.controls.left) || Two.Vector.zero;\n\n              if (a._relative) {\n                vx = toFixed((ar.x + a._x));\n                vy = toFixed((ar.y + a._y));\n              } else {\n                vx = toFixed(ar.x);\n                vy = toFixed(ar.y);\n              }\n\n              if (b._relative) {\n                ux = toFixed((bl.x + b._x));\n                uy = toFixed((bl.y + b._y));\n              } else {\n                ux = toFixed(bl.x);\n                uy = toFixed(bl.y);\n              }\n\n              ctx.bezierCurveTo(vx, vy, ux, uy, x, y);\n\n              if (i >= last && closed) {\n\n                c = d;\n\n                br = (b.controls && b.controls.right) || Two.Vector.zero;\n                cl = (c.controls && c.controls.left) || Two.Vector.zero;\n\n                if (b._relative) {\n                  vx = toFixed((br.x + b._x));\n                  vy = toFixed((br.y + b._y));\n                } else {\n                  vx = toFixed(br.x);\n                  vy = toFixed(br.y);\n                }\n\n                if (c._relative) {\n                  ux = toFixed((cl.x + c._x));\n                  uy = toFixed((cl.y + c._y));\n                } else {\n                  ux = toFixed(cl.x);\n                  uy = toFixed(cl.y);\n                }\n\n                x = toFixed(c._x);\n                y = toFixed(c._y);\n\n                ctx.bezierCurveTo(vx, vy, ux, uy, x, y);\n\n              }\n\n              break;\n\n            case Two.Commands.line:\n              ctx.lineTo(x, y);\n              break;\n\n            case Two.Commands.move:\n              d = b;\n              ctx.moveTo(x, y);\n              break;\n\n          }\n\n        }\n\n        // Loose ends\n\n        if (closed) {\n          ctx.closePath();\n        }\n\n        if (!webgl.isHidden.test(fill)) {\n          isOffset = fill._renderer && fill._renderer.offset\n          if (isOffset) {\n            ctx.save();\n            ctx.translate(\n              - fill._renderer.offset.x, - fill._renderer.offset.y);\n            ctx.scale(fill._renderer.scale.x, fill._renderer.scale.y);\n          }\n          ctx.fill();\n          if (isOffset) {\n            ctx.restore();\n          }\n        }\n\n        if (!webgl.isHidden.test(stroke)) {\n          isOffset = stroke._renderer && stroke._renderer.offset;\n          if (isOffset) {\n            ctx.save();\n            ctx.translate(\n              - stroke._renderer.offset.x, - stroke._renderer.offset.y);\n            ctx.scale(stroke._renderer.scale.x, stroke._renderer.scale.y);\n            ctx.lineWidth = linewidth / stroke._renderer.scale.x;\n          }\n          ctx.stroke();\n          if (isOffset) {\n            ctx.restore();\n          }\n        }\n\n        ctx.restore();\n\n      },\n\n      /**\n       * Returns the rect of a set of verts. Typically takes vertices that are\n       * \"centered\" around 0 and returns them to be anchored upper-left.\n       */\n      getBoundingClientRect: function(vertices, border, rect) {\n\n        var left = Infinity, right = -Infinity,\n            top = Infinity, bottom = -Infinity,\n            width, height;\n\n        vertices.forEach(function(v) {\n\n          var x = v.x, y = v.y, controls = v.controls;\n          var a, b, c, d, cl, cr;\n\n          top = Math.min(y, top);\n          left = Math.min(x, left);\n          right = Math.max(x, right);\n          bottom = Math.max(y, bottom);\n\n          if (!v.controls) {\n            return;\n          }\n\n          cl = controls.left;\n          cr = controls.right;\n\n          if (!cl || !cr) {\n            return;\n          }\n\n          a = v._relative ? cl.x + x : cl.x;\n          b = v._relative ? cl.y + y : cl.y;\n          c = v._relative ? cr.x + x : cr.x;\n          d = v._relative ? cr.y + y : cr.y;\n\n          if (!a || !b || !c || !d) {\n            return;\n          }\n\n          top = Math.min(b, d, top);\n          left = Math.min(a, c, left);\n          right = Math.max(a, c, right);\n          bottom = Math.max(b, d, bottom);\n\n        });\n\n        // Expand borders\n\n        if (_.isNumber(border)) {\n          top -= border;\n          left -= border;\n          right += border;\n          bottom += border;\n        }\n\n        width = right - left;\n        height = bottom - top;\n\n        rect.top = top;\n        rect.left = left;\n        rect.right = right;\n        rect.bottom = bottom;\n        rect.width = width;\n        rect.height = height;\n\n        if (!rect.centroid) {\n          rect.centroid = {};\n        }\n\n        rect.centroid.x = - left;\n        rect.centroid.y = - top;\n\n      },\n\n      render: function(gl, program, forcedParent) {\n\n        if (!this._visible || !this._opacity) {\n          return this;\n        }\n\n        this._update();\n\n        // Calculate what changed\n\n        var parent = this.parent;\n        var flagParentMatrix = parent._matrix.manual || parent._flagMatrix;\n        var flagMatrix = this._matrix.manual || this._flagMatrix;\n        var flagTexture = this._flagVertices || this._flagFill\n          || (this._fill instanceof Two.LinearGradient && (this._fill._flagSpread || this._fill._flagStops || this._fill._flagEndPoints))\n          || (this._fill instanceof Two.RadialGradient && (this._fill._flagSpread || this._fill._flagStops || this._fill._flagRadius || this._fill._flagCenter || this._fill._flagFocal))\n          || (this._fill instanceof Two.Texture && (this._fill._flagLoaded && this._fill.loaded || this._fill._flagOffset || this._fill._flagScale))\n          || (this._stroke instanceof Two.LinearGradient && (this._stroke._flagSpread || this._stroke._flagStops || this._stroke._flagEndPoints))\n          || (this._stroke instanceof Two.RadialGradient && (this._stroke._flagSpread || this._stroke._flagStops || this._stroke._flagRadius || this._stroke._flagCenter || this._stroke._flagFocal))\n          || (this._stroke instanceof Two.Texture && (this._stroke._flagLoaded && this._stroke.loaded || this._stroke._flagOffset || this._fill._flagScale))\n          || this._flagStroke || this._flagLinewidth || this._flagOpacity\n          || parent._flagOpacity || this._flagVisible || this._flagCap\n          || this._flagJoin || this._flagMiter || this._flagScale\n          || !this._renderer.texture;\n\n        if (flagParentMatrix || flagMatrix) {\n\n          if (!this._renderer.matrix) {\n            this._renderer.matrix = new Two.Array(9);\n          }\n\n          // Reduce amount of object / array creation / deletion\n\n          this._matrix.toArray(true, transformation);\n\n          multiplyMatrix(transformation, parent._renderer.matrix, this._renderer.matrix);\n          this._renderer.scale = this._scale * parent._renderer.scale;\n\n        }\n\n        if (flagTexture) {\n\n          if (!this._renderer.rect) {\n            this._renderer.rect = {};\n          }\n\n          if (!this._renderer.triangles) {\n            this._renderer.triangles = new Two.Array(12);\n          }\n\n          this._renderer.opacity = this._opacity * parent._renderer.opacity;\n\n          webgl.path.getBoundingClientRect(this._vertices, this._linewidth, this._renderer.rect);\n          webgl.getTriangles(this._renderer.rect, this._renderer.triangles);\n\n          webgl.updateBuffer.call(webgl, gl, this, program);\n          webgl.updateTexture.call(webgl, gl, this);\n\n        }\n\n        // if (this._mask) {\n        //   webgl[this._mask._renderer.type].render.call(mask, gl, program, this);\n        // }\n\n        if (this._clip && !forcedParent) {\n          return;\n        }\n\n        // Draw Texture\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._renderer.textureCoordsBuffer);\n\n        gl.vertexAttribPointer(program.textureCoords, 2, gl.FLOAT, false, 0, 0);\n\n        gl.bindTexture(gl.TEXTURE_2D, this._renderer.texture);\n\n\n        // Draw Rect\n\n        gl.uniformMatrix3fv(program.matrix, false, this._renderer.matrix);\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._renderer.buffer);\n\n        gl.vertexAttribPointer(program.position, 2, gl.FLOAT, false, 0, 0);\n\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n        return this.flagReset();\n\n      }\n\n    },\n\n    text: {\n\n      updateCanvas: function(elem) {\n\n        var canvas = this.canvas;\n        var ctx = this.ctx;\n\n        // Styles\n        var scale = elem._renderer.scale;\n        var stroke = elem._stroke;\n        var linewidth = elem._linewidth * scale;\n        var fill = elem._fill;\n        var opacity = elem._renderer.opacity || elem._opacity;\n\n        canvas.width = Math.max(Math.ceil(elem._renderer.rect.width * scale), 1);\n        canvas.height = Math.max(Math.ceil(elem._renderer.rect.height * scale), 1);\n\n        var centroid = elem._renderer.rect.centroid;\n        var cx = centroid.x;\n        var cy = centroid.y;\n\n        var a, b, c, d, e, sx, sy;\n        var isOffset = fill._renderer && fill._renderer.offset\n          && stroke._renderer && stroke._renderer.offset;\n\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n        if (!isOffset) {\n          ctx.font = [elem._style, elem._weight, elem._size + 'px/' +\n            elem._leading + 'px', elem._family].join(' ');\n        }\n\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n\n        // Styles\n        if (fill) {\n          if (_.isString(fill)) {\n            ctx.fillStyle = fill;\n          } else {\n            webgl[fill._renderer.type].render.call(fill, ctx, elem);\n            ctx.fillStyle = fill._renderer.effect;\n          }\n        }\n        if (stroke) {\n          if (_.isString(stroke)) {\n            ctx.strokeStyle = stroke;\n          } else {\n            webgl[stroke._renderer.type].render.call(stroke, ctx, elem);\n            ctx.strokeStyle = stroke._renderer.effect;\n          }\n        }\n        if (linewidth) {\n          ctx.lineWidth = linewidth;\n        }\n        if (_.isNumber(opacity)) {\n          ctx.globalAlpha = opacity;\n        }\n\n        ctx.save();\n        ctx.scale(scale, scale);\n        ctx.translate(cx, cy);\n\n        if (!webgl.isHidden.test(fill)) {\n\n          if (fill._renderer && fill._renderer.offset) {\n\n            sx = toFixed(fill._renderer.scale.x);\n            sy = toFixed(fill._renderer.scale.y);\n\n            ctx.save();\n            ctx.translate( - toFixed(fill._renderer.offset.x),\n              - toFixed(fill._renderer.offset.y));\n            ctx.scale(sx, sy);\n\n            a = elem._size / fill._renderer.scale.y;\n            b = elem._leading / fill._renderer.scale.y;\n            ctx.font = [elem._style, elem._weight, toFixed(a) + 'px/',\n              toFixed(b) + 'px', elem._family].join(' ');\n\n            c = fill._renderer.offset.x / fill._renderer.scale.x;\n            d = fill._renderer.offset.y / fill._renderer.scale.y;\n\n            ctx.fillText(elem.value, toFixed(c), toFixed(d));\n            ctx.restore();\n\n          } else {\n            ctx.fillText(elem.value, 0, 0);\n          }\n\n        }\n\n        if (!webgl.isHidden.test(stroke)) {\n\n          if (stroke._renderer && stroke._renderer.offset) {\n\n            sx = toFixed(stroke._renderer.scale.x);\n            sy = toFixed(stroke._renderer.scale.y);\n\n            ctx.save();\n            ctx.translate(- toFixed(stroke._renderer.offset.x),\n              - toFixed(stroke._renderer.offset.y));\n            ctx.scale(sx, sy);\n\n            a = elem._size / stroke._renderer.scale.y;\n            b = elem._leading / stroke._renderer.scale.y;\n            ctx.font = [elem._style, elem._weight, toFixed(a) + 'px/',\n              toFixed(b) + 'px', elem._family].join(' ');\n\n            c = stroke._renderer.offset.x / stroke._renderer.scale.x;\n            d = stroke._renderer.offset.y / stroke._renderer.scale.y;\n            e = linewidth / stroke._renderer.scale.x;\n\n            ctx.lineWidth = toFixed(e);\n            ctx.strokeText(elem.value, toFixed(c), toFixed(d));\n            ctx.restore();\n\n          } else {\n            ctx.strokeText(elem.value, 0, 0);\n          }\n\n        }\n\n        ctx.restore();\n\n      },\n\n      getBoundingClientRect: function(elem, rect) {\n\n        var ctx = webgl.ctx;\n\n        ctx.font = [elem._style, elem._weight, elem._size + 'px/' +\n          elem._leading + 'px', elem._family].join(' ');\n\n        ctx.textAlign = 'center';\n        ctx.textBaseline = elem._baseline;\n\n        // TODO: Estimate this better\n        var width = ctx.measureText(elem._value).width;\n        var height = Math.max(elem._size || elem._leading);\n\n        if (this._linewidth && !webgl.isHidden.test(this._stroke)) {\n          // width += this._linewidth; // TODO: Not sure if the `measure` calcs this.\n          height += this._linewidth;\n        }\n\n        var w = width / 2;\n        var h = height / 2;\n\n        switch (webgl.alignments[elem._alignment] || elem._alignment) {\n\n          case webgl.alignments.left:\n            rect.left = 0;\n            rect.right = width;\n            break;\n          case webgl.alignments.right:\n            rect.left = - width;\n            rect.right = 0;\n            break;\n          default:\n            rect.left = - w;\n            rect.right = w;\n        }\n\n        // TODO: Gradients aren't inherited...\n        switch (elem._baseline) {\n          case 'bottom':\n            rect.top = - height;\n            rect.bottom = 0;\n            break;\n          case 'top':\n            rect.top = 0;\n            rect.bottom = height;\n            break;\n          default:\n            rect.top = - h;\n            rect.bottom = h;\n        }\n\n        rect.width = width;\n        rect.height = height;\n\n        if (!rect.centroid) {\n          rect.centroid = {};\n        }\n\n        // TODO:\n        rect.centroid.x = w;\n        rect.centroid.y = h;\n\n      },\n\n      render: function(gl, program, forcedParent) {\n\n        if (!this._visible || !this._opacity) {\n          return this;\n        }\n\n        this._update();\n\n        // Calculate what changed\n\n        var parent = this.parent;\n        var flagParentMatrix = parent._matrix.manual || parent._flagMatrix;\n        var flagMatrix = this._matrix.manual || this._flagMatrix;\n        var flagTexture = this._flagVertices || this._flagFill\n          || (this._fill instanceof Two.LinearGradient && (this._fill._flagSpread || this._fill._flagStops || this._fill._flagEndPoints))\n          || (this._fill instanceof Two.RadialGradient && (this._fill._flagSpread || this._fill._flagStops || this._fill._flagRadius || this._fill._flagCenter || this._fill._flagFocal))\n          || (this._fill instanceof Two.Texture && (this._fill._flagLoaded && this._fill.loaded))\n          || (this._stroke instanceof Two.LinearGradient && (this._stroke._flagSpread || this._stroke._flagStops || this._stroke._flagEndPoints))\n          || (this._stroke instanceof Two.RadialGradient && (this._stroke._flagSpread || this._stroke._flagStops || this._stroke._flagRadius || this._stroke._flagCenter || this._stroke._flagFocal))\n          || (this._texture instanceof Two.Texture && (this._texture._flagLoaded && this._texture.loaded))\n          || this._flagStroke || this._flagLinewidth || this._flagOpacity\n          || parent._flagOpacity || this._flagVisible || this._flagScale\n          || this._flagValue || this._flagFamily || this._flagSize\n          || this._flagLeading || this._flagAlignment || this._flagBaseline\n          || this._flagStyle || this._flagWeight || this._flagDecoration\n          || !this._renderer.texture;\n\n        if (flagParentMatrix || flagMatrix) {\n\n          if (!this._renderer.matrix) {\n            this._renderer.matrix = new Two.Array(9);\n          }\n\n          // Reduce amount of object / array creation / deletion\n\n          this._matrix.toArray(true, transformation);\n\n          multiplyMatrix(transformation, parent._renderer.matrix, this._renderer.matrix);\n          this._renderer.scale = this._scale * parent._renderer.scale;\n\n        }\n\n        if (flagTexture) {\n\n          if (!this._renderer.rect) {\n            this._renderer.rect = {};\n          }\n\n          if (!this._renderer.triangles) {\n            this._renderer.triangles = new Two.Array(12);\n          }\n\n          this._renderer.opacity = this._opacity * parent._renderer.opacity;\n\n          webgl.text.getBoundingClientRect(this, this._renderer.rect);\n          webgl.getTriangles(this._renderer.rect, this._renderer.triangles);\n\n          webgl.updateBuffer.call(webgl, gl, this, program);\n          webgl.updateTexture.call(webgl, gl, this);\n\n        }\n\n        // if (this._mask) {\n        //   webgl[this._mask._renderer.type].render.call(mask, gl, program, this);\n        // }\n\n        if (this._clip && !forcedParent) {\n          return;\n        }\n\n        // Draw Texture\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._renderer.textureCoordsBuffer);\n\n        gl.vertexAttribPointer(program.textureCoords, 2, gl.FLOAT, false, 0, 0);\n\n        gl.bindTexture(gl.TEXTURE_2D, this._renderer.texture);\n\n\n        // Draw Rect\n\n        gl.uniformMatrix3fv(program.matrix, false, this._renderer.matrix);\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._renderer.buffer);\n\n        gl.vertexAttribPointer(program.position, 2, gl.FLOAT, false, 0, 0);\n\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n        return this.flagReset();\n\n      }\n\n    },\n\n    'linear-gradient': {\n\n      render: function(ctx, elem) {\n\n        if (!ctx.canvas.getContext('2d')) {\n          return;\n        }\n\n        this._update();\n\n        if (!this._renderer.effect || this._flagEndPoints || this._flagStops) {\n\n          this._renderer.effect = ctx.createLinearGradient(\n            this.left._x, this.left._y,\n            this.right._x, this.right._y\n          );\n\n          for (var i = 0; i < this.stops.length; i++) {\n            var stop = this.stops[i];\n            this._renderer.effect.addColorStop(stop._offset, stop._color);\n          }\n\n        }\n\n        return this.flagReset();\n\n      }\n\n    },\n\n    'radial-gradient': {\n\n      render: function(ctx, elem) {\n\n        if (!ctx.canvas.getContext('2d')) {\n          return;\n        }\n\n        this._update();\n\n        if (!this._renderer.effect || this._flagCenter || this._flagFocal\n            || this._flagRadius || this._flagStops) {\n\n          this._renderer.effect = ctx.createRadialGradient(\n            this.center._x, this.center._y, 0,\n            this.focal._x, this.focal._y, this._radius\n          );\n\n          for (var i = 0; i < this.stops.length; i++) {\n            var stop = this.stops[i];\n            this._renderer.effect.addColorStop(stop._offset, stop._color);\n          }\n\n        }\n\n        return this.flagReset();\n\n      }\n\n    },\n\n    texture: {\n\n      render: function(ctx, elem) {\n\n        if (!ctx.canvas.getContext('2d')) {\n          return;\n        }\n\n        this._update();\n\n        var image = this.image;\n        var repeat;\n\n        if (!this._renderer.effect || ((this._flagLoaded || this._flagRepeat) && this.loaded)) {\n          this._renderer.effect = ctx.createPattern(image, this._repeat);\n        }\n\n        if (this._flagOffset || this._flagLoaded || this._flagScale) {\n\n          if (!(this._renderer.offset instanceof Two.Vector)) {\n            this._renderer.offset = new Two.Vector();\n          }\n\n          this._renderer.offset.x = this._offset.x;\n          this._renderer.offset.y = this._offset.y;\n\n          if (image) {\n\n            this._renderer.offset.x -= image.width / 2;\n            this._renderer.offset.y += image.height / 2;\n\n            if (this._scale instanceof Two.Vector) {\n              this._renderer.offset.x *= this._scale.x;\n              this._renderer.offset.y *= this._scale.y;\n            } else {\n              this._renderer.offset.x *= this._scale;\n              this._renderer.offset.y *= this._scale;\n            }\n          }\n\n        }\n\n        if (this._flagScale || this._flagLoaded) {\n\n          if (!(this._renderer.scale instanceof Two.Vector)) {\n            this._renderer.scale = new Two.Vector();\n          }\n\n          if (this._scale instanceof Two.Vector) {\n            this._renderer.scale.copy(this._scale);\n          } else {\n            this._renderer.scale.set(this._scale, this._scale);\n          }\n\n        }\n\n        return this.flagReset();\n\n      }\n\n    },\n\n    getTriangles: function(rect, triangles) {\n\n      var top = rect.top,\n          left = rect.left,\n          right = rect.right,\n          bottom = rect.bottom;\n\n      // First Triangle\n\n      triangles[0] = left;\n      triangles[1] = top;\n\n      triangles[2] = right;\n      triangles[3] = top;\n\n      triangles[4] = left;\n      triangles[5] = bottom;\n\n      // Second Triangle\n\n      triangles[6] = left;\n      triangles[7] = bottom;\n\n      triangles[8] = right;\n      triangles[9] = top;\n\n      triangles[10] = right;\n      triangles[11] = bottom;\n\n    },\n\n    updateTexture: function(gl, elem) {\n\n      this[elem._renderer.type].updateCanvas.call(webgl, elem);\n\n      if (elem._renderer.texture) {\n        gl.deleteTexture(elem._renderer.texture);\n      }\n\n      gl.bindBuffer(gl.ARRAY_BUFFER, elem._renderer.textureCoordsBuffer);\n\n      // TODO: Is this necessary every time or can we do once?\n      // TODO: Create a registry for textures\n      elem._renderer.texture = gl.createTexture();\n      gl.bindTexture(gl.TEXTURE_2D, elem._renderer.texture);\n\n      // Set the parameters so we can render any size image.\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n      // gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n      // gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      // gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n      if (this.canvas.width <= 0 || this.canvas.height <= 0) {\n        return;\n      }\n\n      // Upload the image into the texture.\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.canvas);\n\n    },\n\n    updateBuffer: function(gl, elem, program) {\n\n      if (_.isObject(elem._renderer.buffer)) {\n        gl.deleteBuffer(elem._renderer.buffer);\n      }\n\n      elem._renderer.buffer = gl.createBuffer();\n\n      gl.bindBuffer(gl.ARRAY_BUFFER, elem._renderer.buffer);\n      gl.enableVertexAttribArray(program.position);\n\n      gl.bufferData(gl.ARRAY_BUFFER, elem._renderer.triangles, gl.STATIC_DRAW);\n\n      if (_.isObject(elem._renderer.textureCoordsBuffer)) {\n        gl.deleteBuffer(elem._renderer.textureCoordsBuffer);\n      }\n\n      elem._renderer.textureCoordsBuffer = gl.createBuffer();\n\n      gl.bindBuffer(gl.ARRAY_BUFFER, elem._renderer.textureCoordsBuffer);\n      gl.enableVertexAttribArray(program.textureCoords);\n\n      gl.bufferData(gl.ARRAY_BUFFER, this.uv, gl.STATIC_DRAW);\n\n    },\n\n    program: {\n\n      create: function(gl, shaders) {\n        var program, linked, error;\n        program = gl.createProgram();\n        _.each(shaders, function(s) {\n          gl.attachShader(program, s);\n        });\n\n        gl.linkProgram(program);\n        linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n        if (!linked) {\n          error = gl.getProgramInfoLog(program);\n          gl.deleteProgram(program);\n          throw new Two.Utils.Error('unable to link program: ' + error);\n        }\n\n        return program;\n\n      }\n\n    },\n\n    shaders: {\n\n      create: function(gl, source, type) {\n        var shader, compiled, error;\n        shader = gl.createShader(gl[type]);\n        gl.shaderSource(shader, source);\n        gl.compileShader(shader);\n\n        compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n        if (!compiled) {\n          error = gl.getShaderInfoLog(shader);\n          gl.deleteShader(shader);\n          throw new Two.Utils.Error('unable to compile shader ' + shader + ': ' + error);\n        }\n\n        return shader;\n\n      },\n\n      types: {\n        vertex: 'VERTEX_SHADER',\n        fragment: 'FRAGMENT_SHADER'\n      },\n\n      vertex: [\n        'attribute vec2 a_position;',\n        'attribute vec2 a_textureCoords;',\n        '',\n        'uniform mat3 u_matrix;',\n        'uniform vec2 u_resolution;',\n        '',\n        'varying vec2 v_textureCoords;',\n        '',\n        'void main() {',\n        '   vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;',\n        '   vec2 normal = projected / u_resolution;',\n        '   vec2 clipspace = (normal * 2.0) - 1.0;',\n        '',\n        '   gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);',\n        '   v_textureCoords = a_textureCoords;',\n        '}'\n      ].join('\\n'),\n\n      fragment: [\n        'precision mediump float;',\n        '',\n        'uniform sampler2D u_image;',\n        'varying vec2 v_textureCoords;',\n        '',\n        'void main() {',\n        '  gl_FragColor = texture2D(u_image, v_textureCoords);',\n        '}'\n      ].join('\\n')\n\n    },\n\n    TextureRegistry: new Two.Registry()\n\n  };\n\n  webgl.ctx = webgl.canvas.getContext('2d');\n\n  var Renderer = Two[Two.Types.webgl] = function(options) {\n\n    var params, gl, vs, fs;\n    this.domElement = options.domElement || document.createElement('canvas');\n\n    // Everything drawn on the canvas needs to come from the stage.\n    this.scene = new Two.Group();\n    this.scene.parent = this;\n\n    this._renderer = {\n      matrix: new Two.Array(identity),\n      scale: 1,\n      opacity: 1\n    };\n    this._flagMatrix = true;\n\n    // http://games.greggman.com/game/webgl-and-alpha/\n    // http://www.khronos.org/registry/webgl/specs/latest/#5.2\n    params = _.defaults(options || {}, {\n      antialias: false,\n      alpha: true,\n      premultipliedAlpha: true,\n      stencil: true,\n      preserveDrawingBuffer: true,\n      overdraw: false\n    });\n\n    this.overdraw = params.overdraw;\n\n    gl = this.ctx = this.domElement.getContext('webgl', params) ||\n      this.domElement.getContext('experimental-webgl', params);\n\n    if (!this.ctx) {\n      throw new Two.Utils.Error(\n        'unable to create a webgl context. Try using another renderer.');\n    }\n\n    // Compile Base Shaders to draw in pixel space.\n    vs = webgl.shaders.create(\n      gl, webgl.shaders.vertex, webgl.shaders.types.vertex);\n    fs = webgl.shaders.create(\n      gl, webgl.shaders.fragment, webgl.shaders.types.fragment);\n\n    this.program = webgl.program.create(gl, [vs, fs]);\n    gl.useProgram(this.program);\n\n    // Create and bind the drawing buffer\n\n    // look up where the vertex data needs to go.\n    this.program.position = gl.getAttribLocation(this.program, 'a_position');\n    this.program.matrix = gl.getUniformLocation(this.program, 'u_matrix');\n    this.program.textureCoords = gl.getAttribLocation(this.program, 'a_textureCoords');\n\n    // Copied from Three.js WebGLRenderer\n    gl.disable(gl.DEPTH_TEST);\n\n    // Setup some initial statements of the gl context\n    gl.enable(gl.BLEND);\n\n    // https://code.google.com/p/chromium/issues/detail?id=316393\n    // gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, gl.TRUE);\n\n    gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n    gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA,\n      gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n\n  };\n\n  _.extend(Renderer, {\n\n    Utils: webgl\n\n  });\n\n  _.extend(Renderer.prototype, Two.Utils.Events, {\n\n    setSize: function(width, height, ratio) {\n\n      this.width = width;\n      this.height = height;\n\n      this.ratio = _.isUndefined(ratio) ? getRatio(this.ctx) : ratio;\n\n      this.domElement.width = width * this.ratio;\n      this.domElement.height = height * this.ratio;\n\n      _.extend(this.domElement.style, {\n        width: width + 'px',\n        height: height + 'px'\n      });\n\n      width *= this.ratio;\n      height *= this.ratio;\n\n      // Set for this.stage parent scaling to account for HDPI\n      this._renderer.matrix[0] = this._renderer.matrix[4] = this._renderer.scale = this.ratio;\n\n      this._flagMatrix = true;\n\n      this.ctx.viewport(0, 0, width, height);\n\n      var resolutionLocation = this.ctx.getUniformLocation(\n        this.program, 'u_resolution');\n      this.ctx.uniform2f(resolutionLocation, width, height);\n\n      return this;\n\n    },\n\n    render: function() {\n\n      var gl = this.ctx;\n\n      if (!this.overdraw) {\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n      }\n\n      webgl.group.render.call(this.scene, gl, this.program);\n      this._flagMatrix = false;\n\n      return this;\n\n    }\n\n  });\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var _ = Two.Utils;\n\n  var Shape = Two.Shape = function() {\n\n    // Private object for renderer specific variables.\n    this._renderer = {};\n    this._renderer.flagMatrix = _.bind(Shape.FlagMatrix, this);\n    this.isShape = true;\n\n    this.id = Two.Identifier + Two.uniqueId();\n    this.classList = [];\n\n    // Define matrix properties which all inherited\n    // objects of Shape have.\n\n    this._matrix = new Two.Matrix();\n\n    this.translation = new Two.Vector();\n    this.rotation = 0;\n    this.scale = 1;\n\n  };\n\n  _.extend(Shape, {\n\n    FlagMatrix: function() {\n      this._flagMatrix = true;\n    },\n\n    MakeObservable: function(object) {\n\n      Object.defineProperty(object, 'translation', {\n        enumerable: true,\n        get: function() {\n          return this._translation;\n        },\n        set: function(v) {\n          if (this._translation) {\n            this._translation.unbind(Two.Events.change, this._renderer.flagMatrix);\n          }\n          this._translation = v;\n          this._translation.bind(Two.Events.change, this._renderer.flagMatrix);\n          Shape.FlagMatrix.call(this);\n        }\n      });\n\n      Object.defineProperty(object, 'rotation', {\n        enumerable: true,\n        get: function() {\n          return this._rotation;\n        },\n        set: function(v) {\n          this._rotation = v;\n          this._flagMatrix = true;\n        }\n      });\n\n      Object.defineProperty(object, 'scale', {\n        enumerable: true,\n        get: function() {\n          return this._scale;\n        },\n        set: function(v) {\n\n          if (this._scale instanceof Two.Vector) {\n            this._scale.unbind(Two.Events.change, this._renderer.flagMatrix);\n          }\n\n          this._scale = v;\n\n          if (this._scale instanceof Two.Vector) {\n            this._scale.bind(Two.Events.change, this._renderer.flagMatrix);\n          }\n\n          this._flagMatrix = true;\n          this._flagScale = true;\n\n        }\n      });\n\n    }\n\n  });\n\n  _.extend(Shape.prototype, Two.Utils.Events, {\n\n    // Flags\n\n    _flagMatrix: true,\n    _flagScale: false,\n\n    // _flagMask: false,\n    // _flagClip: false,\n\n    // Underlying Properties\n\n    _rotation: 0,\n    _scale: 1,\n    _translation: null,\n\n    // _mask: null,\n    // _clip: false,\n\n    addTo: function(group) {\n      group.add(this);\n      return this;\n    },\n\n    clone: function() {\n      var clone = new Shape();\n      clone.translation.copy(this.translation);\n      clone.rotation = this.rotation;\n      clone.scale = this.scale;\n      _.each(Shape.Properties, function(k) {\n        clone[k] = this[k];\n      }, this);\n      return clone._update();\n    },\n\n    /**\n     * To be called before render that calculates and collates all information\n     * to be as up-to-date as possible for the render. Called once a frame.\n     */\n    _update: function(deep) {\n\n      if (!this._matrix.manual && this._flagMatrix) {\n\n        this._matrix\n          .identity()\n          .translate(this.translation.x, this.translation.y);\n\n          if (this._scale instanceof Two.Vector) {\n            this._matrix.scale(this._scale.x, this._scale.y);\n          } else {\n            this._matrix.scale(this._scale);\n          }\n\n          this._matrix.rotate(this.rotation);\n\n      }\n\n      if (deep) {\n        // Bubble up to parents mainly for `getBoundingClientRect` method.\n        if (this.parent && this.parent._update) {\n          this.parent._update();\n        }\n      }\n\n      return this;\n\n    },\n\n    flagReset: function() {\n\n      this._flagMatrix = this._flagScale = false;\n\n      return this;\n\n    }\n\n  });\n\n  Shape.MakeObservable(Shape.prototype);\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  /**\n   * Constants\n   */\n\n  var min = Math.min, max = Math.max, round = Math.round,\n    getComputedMatrix = Two.Utils.getComputedMatrix;\n\n  var commands = {};\n  var _ = Two.Utils;\n\n  _.each(Two.Commands, function(v, k) {\n    commands[k] = new RegExp(v);\n  });\n\n  var Path = Two.Path = function(vertices, closed, curved, manual) {\n\n    Two.Shape.call(this);\n\n    this._renderer.type = 'path';\n    this._renderer.flagVertices = _.bind(Path.FlagVertices, this);\n    this._renderer.bindVertices = _.bind(Path.BindVertices, this);\n    this._renderer.unbindVertices = _.bind(Path.UnbindVertices, this);\n\n    this._renderer.flagFill = _.bind(Path.FlagFill, this);\n    this._renderer.flagStroke = _.bind(Path.FlagStroke, this);\n\n    this._closed = !!closed;\n    this._curved = !!curved;\n\n    this.beginning = 0;\n    this.ending = 1;\n\n    // Style properties\n\n    this.fill = '#fff';\n    this.stroke = '#000';\n    this.linewidth = 1.0;\n    this.opacity = 1.0;\n    this.visible = true;\n\n    this.cap = 'butt';      // Default of Adobe Illustrator\n    this.join = 'miter';    // Default of Adobe Illustrator\n    this.miter = 4;         // Default of Adobe Illustrator\n\n    this._vertices = [];\n    this.vertices = vertices;\n\n    // Determines whether or not two.js should calculate curves, lines, and\n    // commands automatically for you or to let the developer manipulate them\n    // for themselves.\n    this.automatic = !manual;\n\n  };\n\n  _.extend(Path, {\n\n    Properties: [\n      'fill',\n      'stroke',\n      'linewidth',\n      'opacity',\n      'visible',\n      'cap',\n      'join',\n      'miter',\n\n      'closed',\n      'curved',\n      'automatic',\n      'beginning',\n      'ending'\n    ],\n\n    FlagVertices: function() {\n      this._flagVertices = true;\n      this._flagLength = true;\n    },\n\n    BindVertices: function(items) {\n\n      // This function is called a lot\n      // when importing a large SVG\n      var i = items.length;\n      while (i--) {\n        items[i].bind(Two.Events.change, this._renderer.flagVertices);\n      }\n\n      this._renderer.flagVertices();\n\n    },\n\n    UnbindVertices: function(items) {\n\n      var i = items.length;\n      while (i--) {\n        items[i].unbind(Two.Events.change, this._renderer.flagVertices);\n      }\n\n      this._renderer.flagVertices();\n\n    },\n\n    FlagFill: function() {\n      this._flagFill = true;\n    },\n\n    FlagStroke: function() {\n      this._flagStroke = true;\n    },\n\n    MakeObservable: function(object) {\n\n      Two.Shape.MakeObservable(object);\n\n      // Only the 6 defined properties are flagged like this. The subsequent\n      // properties behave differently and need to be hand written.\n      _.each(Path.Properties.slice(2, 8), Two.Utils.defineProperty, object);\n\n      Object.defineProperty(object, 'fill', {\n        enumerable: true,\n        get: function() {\n          return this._fill;\n        },\n        set: function(f) {\n\n          if (this._fill instanceof Two.Gradient\n            || this._fill instanceof Two.LinearGradient\n            || this._fill instanceof Two.RadialGradient\n            || this._fill instanceof Two.Texture) {\n            this._fill.unbind(Two.Events.change, this._renderer.flagFill);\n          }\n\n          this._fill = f;\n          this._flagFill = true;\n\n          if (this._fill instanceof Two.Gradient\n            || this._fill instanceof Two.LinearGradient\n            || this._fill instanceof Two.RadialGradient\n            || this._fill instanceof Two.Texture) {\n            this._fill.bind(Two.Events.change, this._renderer.flagFill);\n          }\n\n        }\n      });\n\n      Object.defineProperty(object, 'stroke', {\n        enumerable: true,\n        get: function() {\n          return this._stroke;\n        },\n        set: function(f) {\n\n          if (this._stroke instanceof Two.Gradient\n            || this._stroke instanceof Two.LinearGradient\n            || this._stroke instanceof Two.RadialGradient\n            || this._stroke instanceof Two.Texture) {\n            this._stroke.unbind(Two.Events.change, this._renderer.flagStroke);\n          }\n\n          this._stroke = f;\n          this._flagStroke = true;\n\n          if (this._stroke instanceof Two.Gradient\n            || this._stroke instanceof Two.LinearGradient\n            || this._stroke instanceof Two.RadialGradient\n            || this._stroke instanceof Two.Texture) {\n            this._stroke.bind(Two.Events.change, this._renderer.flagStroke);\n          }\n\n        }\n      });\n\n      Object.defineProperty(object, 'length', {\n        get: function() {\n          if (this._flagLength) {\n            this._updateLength();\n          }\n          return this._length;\n        }\n      });\n\n      Object.defineProperty(object, 'closed', {\n        enumerable: true,\n        get: function() {\n          return this._closed;\n        },\n        set: function(v) {\n          this._closed = !!v;\n          this._flagVertices = true;\n        }\n      });\n\n      Object.defineProperty(object, 'curved', {\n        enumerable: true,\n        get: function() {\n          return this._curved;\n        },\n        set: function(v) {\n          this._curved = !!v;\n          this._flagVertices = true;\n        }\n      });\n\n      Object.defineProperty(object, 'automatic', {\n        enumerable: true,\n        get: function() {\n          return this._automatic;\n        },\n        set: function(v) {\n          if (v === this._automatic) {\n            return;\n          }\n          this._automatic = !!v;\n          var method = this._automatic ? 'ignore' : 'listen';\n          _.each(this.vertices, function(v) {\n            v[method]();\n          });\n        }\n      });\n\n      Object.defineProperty(object, 'beginning', {\n        enumerable: true,\n        get: function() {\n          return this._beginning;\n        },\n        set: function(v) {\n          this._beginning = v;\n          this._flagVertices = true;\n        }\n      });\n\n      Object.defineProperty(object, 'ending', {\n        enumerable: true,\n        get: function() {\n          return this._ending;\n        },\n        set: function(v) {\n          this._ending = v;\n          this._flagVertices = true;\n        }\n      });\n\n      Object.defineProperty(object, 'vertices', {\n\n        enumerable: true,\n\n        get: function() {\n          return this._collection;\n        },\n\n        set: function(vertices) {\n\n          var updateVertices = this._renderer.flagVertices;\n          var bindVertices = this._renderer.bindVertices;\n          var unbindVertices = this._renderer.unbindVertices;\n\n          // Remove previous listeners\n          if (this._collection) {\n            this._collection\n              .unbind(Two.Events.insert, bindVertices)\n              .unbind(Two.Events.remove, unbindVertices);\n          }\n\n          // Create new Collection with copy of vertices\n          this._collection = new Two.Utils.Collection((vertices || []).slice(0));\n\n          // Listen for Collection changes and bind / unbind\n          this._collection\n            .bind(Two.Events.insert, bindVertices)\n            .bind(Two.Events.remove, unbindVertices);\n\n          // Bind Initial Vertices\n          bindVertices(this._collection);\n\n        }\n\n      });\n\n      Object.defineProperty(object, 'clip', {\n        enumerable: true,\n        get: function() {\n          return this._clip;\n        },\n        set: function(v) {\n          this._clip = v;\n          this._flagClip = true;\n        }\n      });\n\n    }\n\n  });\n\n  _.extend(Path.prototype, Two.Shape.prototype, {\n\n    // Flags\n    // http://en.wikipedia.org/wiki/Flag\n\n    _flagVertices: true,\n    _flagLength: true,\n\n    _flagFill: true,\n    _flagStroke: true,\n    _flagLinewidth: true,\n    _flagOpacity: true,\n    _flagVisible: true,\n\n    _flagCap: true,\n    _flagJoin: true,\n    _flagMiter: true,\n\n    _flagClip: false,\n\n    // Underlying Properties\n\n    _length: 0,\n\n    _fill: '#fff',\n    _stroke: '#000',\n    _linewidth: 1.0,\n    _opacity: 1.0,\n    _visible: true,\n\n    _cap: 'round',\n    _join: 'round',\n    _miter: 4,\n\n    _closed: true,\n    _curved: false,\n    _automatic: true,\n    _beginning: 0,\n    _ending: 1.0,\n\n    _clip: false,\n\n    clone: function(parent) {\n\n      parent = parent || this.parent;\n\n      var points = _.map(this.vertices, function(v) {\n        return v.clone();\n      });\n\n      var clone = new Path(points, this.closed, this.curved, !this.automatic);\n\n      _.each(Two.Path.Properties, function(k) {\n        clone[k] = this[k];\n      }, this);\n\n      clone.translation.copy(this.translation);\n      clone.rotation = this.rotation;\n      clone.scale = this.scale;\n\n      if (parent) {\n        parent.add(clone);\n      }\n\n      return clone;\n\n    },\n\n    toObject: function() {\n\n      var result = {\n        vertices: _.map(this.vertices, function(v) {\n          return v.toObject();\n        })\n      };\n\n      _.each(Two.Shape.Properties, function(k) {\n        result[k] = this[k];\n      }, this);\n\n      result.translation = this.translation.toObject;\n      result.rotation = this.rotation;\n      result.scale = this.scale;\n\n      return result;\n\n    },\n\n    noFill: function() {\n      this.fill = 'transparent';\n      return this;\n    },\n\n    noStroke: function() {\n      this.stroke = 'transparent';\n      return this;\n    },\n\n    /**\n     * Orient the vertices of the shape to the upper lefthand\n     * corner of the path.\n     */\n    corner: function() {\n\n      var rect = this.getBoundingClientRect(true);\n\n      rect.centroid = {\n        x: rect.left + rect.width / 2,\n        y: rect.top + rect.height / 2\n      };\n\n      _.each(this.vertices, function(v) {\n        v.addSelf(rect.centroid);\n      });\n\n      return this;\n\n    },\n\n    /**\n     * Orient the vertices of the shape to the center of the\n     * path.\n     */\n    center: function() {\n\n      var rect = this.getBoundingClientRect(true);\n\n      rect.centroid = {\n        x: rect.left + rect.width / 2,\n        y: rect.top + rect.height / 2\n      };\n\n      _.each(this.vertices, function(v) {\n        v.subSelf(rect.centroid);\n      });\n\n      // this.translation.addSelf(rect.centroid);\n\n      return this;\n\n    },\n\n    /**\n     * Remove self from the scene / parent.\n     */\n    remove: function() {\n\n      if (!this.parent) {\n        return this;\n      }\n\n      this.parent.remove(this);\n\n      return this;\n\n    },\n\n    /**\n     * Return an object with top, left, right, bottom, width, and height\n     * parameters of the group.\n     */\n    getBoundingClientRect: function(shallow) {\n      var matrix, border, l, x, y, i, v;\n\n      var left = Infinity, right = -Infinity,\n          top = Infinity, bottom = -Infinity;\n\n      // TODO: Update this to not __always__ update. Just when it needs to.\n      this._update(true);\n\n      matrix = !!shallow ? this._matrix : getComputedMatrix(this);\n\n      border = this.linewidth / 2;\n      l = this._vertices.length;\n\n      if (l <= 0) {\n        v = matrix.multiply(0, 0, 1);\n        return {\n          top: v.y,\n          left: v.x,\n          right: v.x,\n          bottom: v.y,\n          width: 0,\n          height: 0\n        };\n      }\n\n      for (i = 0; i < l; i++) {\n        v = this._vertices[i];\n\n        x = v.x;\n        y = v.y;\n\n        v = matrix.multiply(x, y, 1);\n        top = min(v.y - border, top);\n        left = min(v.x - border, left);\n        right = max(v.x + border, right);\n        bottom = max(v.y + border, bottom);\n      }\n\n      return {\n        top: top,\n        left: left,\n        right: right,\n        bottom: bottom,\n        width: right - left,\n        height: bottom - top\n      };\n\n    },\n\n    /**\n     * Given a float `t` from 0 to 1, return a point or assign a passed `obj`'s\n     * coordinates to that percentage on this Two.Path's curve.\n     */\n    getPointAt: function(t, obj) {\n      var x, x1, x2, x3, x4, y, y1, y2, y3, y4, left, right;\n      var target = this.length * Math.min(Math.max(t, 0), 1);\n      var length = this.vertices.length;\n      var last = length - 1;\n\n      var a = null;\n      var b = null;\n\n      for (var i = 0, l = this._lengths.length, sum = 0; i < l; i++) {\n\n        if (sum + this._lengths[i] > target) {\n          a = this.vertices[this.closed ? Two.Utils.mod(i, length) : i];\n          b = this.vertices[Math.min(Math.max(i - 1, 0), last)];\n          target -= sum;\n          t = target / this._lengths[i];\n          break;\n        }\n\n        sum += this._lengths[i];\n\n      }\n\n      if (_.isNull(a) || _.isNull(b)) {\n        return null;\n      }\n\n      right = b.controls && b.controls.right;\n      left = a.controls && a.controls.left;\n\n      x1 = b.x;\n      y1 = b.y;\n      x2 = (right || b).x;\n      y2 = (right || b).y;\n      x3 = (left || a).x;\n      y3 = (left || a).y;\n      x4 = a.x;\n      y4 = a.y;\n\n      if (right && b._relative) {\n        x2 += b.x;\n        y2 += b.y;\n      }\n\n      if (left && a._relative) {\n        x3 += a.x;\n        y3 += a.y;\n      }\n\n      x = Two.Utils.getPointOnCubicBezier(t, x1, x2, x3, x4);\n      y = Two.Utils.getPointOnCubicBezier(t, y1, y2, y3, y4);\n\n      if (_.isObject(obj)) {\n        obj.x = x;\n        obj.y = y;\n        return obj;\n      }\n\n      return new Two.Vector(x, y);\n\n    },\n\n    /**\n     * Based on closed / curved and sorting of vertices plot where all points\n     * should be and where the respective handles should be too.\n     */\n    plot: function() {\n\n      if (this.curved) {\n        Two.Utils.getCurveFromPoints(this._vertices, this.closed);\n        return this;\n      }\n\n      for (var i = 0; i < this._vertices.length; i++) {\n        this._vertices[i]._command = i === 0 ? Two.Commands.move : Two.Commands.line;\n      }\n\n      return this;\n\n    },\n\n    subdivide: function(limit) {\n      //TODO: DRYness (function below)\n      this._update();\n\n      var last = this.vertices.length - 1;\n      var b = this.vertices[last];\n      var closed = this._closed || this.vertices[last]._command === Two.Commands.close;\n      var points = [];\n      _.each(this.vertices, function(a, i) {\n\n        if (i <= 0 && !closed) {\n          b = a;\n          return;\n        }\n\n        if (a.command === Two.Commands.move) {\n          points.push(new Two.Anchor(b.x, b.y));\n          if (i > 0) {\n            points[points.length - 1].command = Two.Commands.line;\n          }\n          b = a;\n          return;\n        }\n\n        var verts = getSubdivisions(a, b, limit);\n        points = points.concat(verts);\n\n        // Assign commands to all the verts\n        _.each(verts, function(v, i) {\n          if (i <= 0 && b.command === Two.Commands.move) {\n            v.command = Two.Commands.move;\n          } else {\n            v.command = Two.Commands.line;\n          }\n        });\n\n        if (i >= last) {\n\n          // TODO: Add check if the two vectors in question are the same values.\n          if (this._closed && this._automatic) {\n\n            b = a;\n\n            verts = getSubdivisions(a, b, limit);\n            points = points.concat(verts);\n\n            // Assign commands to all the verts\n            _.each(verts, function(v, i) {\n              if (i <= 0 && b.command === Two.Commands.move) {\n                v.command = Two.Commands.move;\n              } else {\n                v.command = Two.Commands.line;\n              }\n            });\n\n          } else if (closed) {\n            points.push(new Two.Anchor(a.x, a.y));\n          }\n\n          points[points.length - 1].command = closed ? Two.Commands.close : Two.Commands.line;\n\n        }\n\n        b = a;\n\n      }, this);\n\n      this._automatic = false;\n      this._curved = false;\n      this.vertices = points;\n\n      return this;\n\n    },\n\n    _updateLength: function(limit) {\n      //TODO: DRYness (function above)\n      this._update();\n\n      var last = this.vertices.length - 1;\n      var b = this.vertices[last];\n      var closed = this._closed || this.vertices[last]._command === Two.Commands.close;\n      var sum = 0;\n\n      if (_.isUndefined(this._lengths)) {\n        this._lengths = [];\n      }\n\n      _.each(this.vertices, function(a, i) {\n\n        if ((i <= 0 && !closed) || a.command === Two.Commands.move) {\n          b = a;\n          this._lengths[i] = 0;\n          return;\n        }\n\n        this._lengths[i] = getCurveLength(a, b, limit);\n        sum += this._lengths[i];\n\n        if (i >= last && closed) {\n\n          b = a;\n\n          this._lengths[i + 1] = getCurveLength(a, b, limit);\n          sum += this._lengths[i + 1];\n\n        }\n\n        b = a;\n\n      }, this);\n\n      this._length = sum;\n\n      return this;\n\n    },\n\n    _update: function() {\n\n      if (this._flagVertices) {\n\n        var l = this.vertices.length;\n        var last = l - 1, v;\n\n        // TODO: Should clamp this so that `ia` and `ib`\n        // cannot select non-verts.\n        var ia = round((this._beginning) * last);\n        var ib = round((this._ending) * last);\n\n        this._vertices.length = 0;\n\n        for (var i = ia; i < ib + 1; i++) {\n          v = this.vertices[i];\n          this._vertices.push(v);\n        }\n\n        if (this._automatic) {\n          this.plot();\n        }\n\n      }\n\n      Two.Shape.prototype._update.apply(this, arguments);\n\n      return this;\n\n    },\n\n    flagReset: function() {\n\n      this._flagVertices =  this._flagFill =  this._flagStroke =\n         this._flagLinewidth = this._flagOpacity = this._flagVisible =\n         this._flagCap = this._flagJoin = this._flagMiter =\n         this._flagClip = false;\n\n      Two.Shape.prototype.flagReset.call(this);\n\n      return this;\n\n    }\n\n  });\n\n  Path.MakeObservable(Path.prototype);\n\n  /**\n   * Utility functions\n   */\n\n  function getCurveLength(a, b, limit) {\n    // TODO: DRYness\n    var x1, x2, x3, x4, y1, y2, y3, y4;\n\n    var right = b.controls && b.controls.right;\n    var left = a.controls && a.controls.left;\n\n    x1 = b.x;\n    y1 = b.y;\n    x2 = (right || b).x;\n    y2 = (right || b).y;\n    x3 = (left || a).x;\n    y3 = (left || a).y;\n    x4 = a.x;\n    y4 = a.y;\n\n    if (right && b._relative) {\n      x2 += b.x;\n      y2 += b.y;\n    }\n\n    if (left && a._relative) {\n      x3 += a.x;\n      y3 += a.y;\n    }\n\n    return Two.Utils.getCurveLength(x1, y1, x2, y2, x3, y3, x4, y4, limit);\n\n  }\n\n  function getSubdivisions(a, b, limit) {\n    // TODO: DRYness\n    var x1, x2, x3, x4, y1, y2, y3, y4;\n\n    var right = b.controls && b.controls.right;\n    var left = a.controls && a.controls.left;\n\n    x1 = b.x;\n    y1 = b.y;\n    x2 = (right || b).x;\n    y2 = (right || b).y;\n    x3 = (left || a).x;\n    y3 = (left || a).y;\n    x4 = a.x;\n    y4 = a.y;\n\n    if (right && b._relative) {\n      x2 += b.x;\n      y2 += b.y;\n    }\n\n    if (left && a._relative) {\n      x3 += a.x;\n      y3 += a.y;\n    }\n\n    return Two.Utils.subdivide(x1, y1, x2, y2, x3, y3, x4, y4, limit);\n\n  }\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var Path = Two.Path;\n  var _ = Two.Utils;\n\n  var Line = Two.Line = function(x1, y1, x2, y2) {\n\n    var width = x2 - x1;\n    var height = y2 - y1;\n\n    var w2 = width / 2;\n    var h2 = height / 2;\n\n    Path.call(this, [\n        new Two.Anchor(- w2, - h2),\n        new Two.Anchor(w2, h2)\n    ]);\n\n    this.translation.set(x1 + w2, y1 + h2);\n\n  };\n\n  _.extend(Line.prototype, Path.prototype);\n\n  Path.MakeObservable(Line.prototype);\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var Path = Two.Path;\n  var _ = Two.Utils;\n\n  var Rectangle = Two.Rectangle = function(x, y, width, height) {\n\n    Path.call(this, [\n      new Two.Anchor(),\n      new Two.Anchor(),\n      new Two.Anchor(),\n      new Two.Anchor()\n    ], true);\n\n    this.width = width;\n    this.height = height;\n    this._update();\n\n    this.translation.set(x, y);\n\n  };\n\n  _.extend(Rectangle, {\n\n    Properties: ['width', 'height'],\n\n    MakeObservable: function(obj) {\n      Path.MakeObservable(obj);\n      _.each(Rectangle.Properties, Two.Utils.defineProperty, obj);\n    }\n\n  });\n\n  _.extend(Rectangle.prototype, Path.prototype, {\n\n    _width: 0,\n    _height: 0,\n\n    _flagWidth: 0,\n    _flagHeight: 0,\n\n    _update: function() {\n\n      if (this._flagWidth || this._flagHeight) {\n\n        var xr = this._width / 2;\n        var yr = this._height / 2;\n\n        this.vertices[0].set(-xr, -yr);\n        this.vertices[1].set(xr, -yr);\n        this.vertices[2].set(xr, yr);\n        this.vertices[3].set(-xr, yr);\n\n      }\n\n      Path.prototype._update.call(this);\n\n      return this;\n\n    },\n\n    flagReset: function() {\n\n      this._flagWidth = this._flagHeight = false;\n      Path.prototype.flagReset.call(this);\n\n      return this;\n\n    }\n\n  });\n\n  Rectangle.MakeObservable(Rectangle.prototype);\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var Path = Two.Path, TWO_PI = Math.PI * 2, cos = Math.cos, sin = Math.sin;\n  var _ = Two.Utils;\n\n  var Ellipse = Two.Ellipse = function(ox, oy, rx, ry) {\n\n    if (!_.isNumber(ry)) {\n      ry = rx;\n    }\n\n    var amount = Two.Resolution;\n\n    var points = _.map(_.range(amount), function(i) {\n      return new Two.Anchor();\n    }, this);\n\n    Path.call(this, points, true, true);\n\n    this.width = rx * 2;\n    this.height = ry * 2;\n\n    this._update();\n    this.translation.set(ox, oy);\n\n  };\n\n  _.extend(Ellipse, {\n\n    Properties: ['width', 'height'],\n\n    MakeObservable: function(obj) {\n\n      Path.MakeObservable(obj);\n      _.each(Ellipse.Properties, Two.Utils.defineProperty, obj);\n\n    }\n\n  });\n\n  _.extend(Ellipse.prototype, Path.prototype, {\n\n    _width: 0,\n    _height: 0,\n\n    _flagWidth: false,\n    _flagHeight: false,\n\n    _update: function() {\n\n      if (this._flagWidth || this._flagHeight) {\n        for (var i = 0, l = this.vertices.length; i < l; i++) {\n          var pct = i / l;\n          var theta = pct * TWO_PI;\n          var x = this._width * cos(theta) / 2;\n          var y = this._height * sin(theta) / 2;\n          this.vertices[i].set(x, y);\n        }\n      }\n\n      Path.prototype._update.call(this);\n      return this;\n\n    },\n\n    flagReset: function() {\n\n      this._flagWidth = this._flagHeight = false;\n\n      Path.prototype.flagReset.call(this);\n      return this;\n\n    }\n\n  });\n\n  Ellipse.MakeObservable(Ellipse.prototype);\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var Path = Two.Path, TWO_PI = Math.PI * 2, cos = Math.cos, sin = Math.sin;\n  var _ = Two.Utils;\n\n  var Circle = Two.Circle = function(ox, oy, r) {\n\n    var amount = Two.Resolution;\n\n    var points = _.map(_.range(amount), function(i) {\n      return new Two.Anchor();\n    }, this);\n\n    Path.call(this, points, true, true);\n\n    this.radius = r;\n\n    this._update();\n    this.translation.set(ox, oy);\n\n  };\n\n  _.extend(Circle, {\n\n    Properties: ['radius'],\n\n    MakeObservable: function(obj) {\n\n      Path.MakeObservable(obj);\n      _.each(Circle.Properties, Two.Utils.defineProperty, obj);\n\n    }\n\n  });\n\n  _.extend(Circle.prototype, Path.prototype, {\n\n    _radius: 0,\n    _flagRadius: false,\n\n    _update: function() {\n\n      if (this._flagRadius) {\n        for (var i = 0, l = this.vertices.length; i < l; i++) {\n          var pct = i / l;\n          var theta = pct * TWO_PI;\n          var x = this._radius * cos(theta);\n          var y = this._radius * sin(theta);\n          this.vertices[i].set(x, y);\n        }\n      }\n\n      Path.prototype._update.call(this);\n      return this;\n\n    },\n\n    flagReset: function() {\n\n      this._flagRadius = false;\n\n      Path.prototype.flagReset.call(this);\n      return this;\n\n    }\n\n  });\n\n  Circle.MakeObservable(Circle.prototype);\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var Path = Two.Path, TWO_PI = Math.PI * 2, cos = Math.cos, sin = Math.sin;\n  var _ = Two.Utils;\n\n  var Polygon = Two.Polygon = function(ox, oy, r, sides) {\n\n    sides = Math.max(sides || 0, 3);\n\n    var points = _.map(_.range(sides), function(i) {\n      return new Two.Anchor();\n    });\n\n    Path.call(this, points, true);\n\n    this.width = r * 2;\n    this.height = r * 2;\n    this.sides = sides;\n\n    this._update();\n    this.translation.set(ox, oy);\n\n  };\n\n  _.extend(Polygon, {\n\n    Properties: ['width', 'height', 'sides'],\n\n    MakeObservable: function(obj) {\n\n      Path.MakeObservable(obj);\n      _.each(Polygon.Properties, Two.Utils.defineProperty, obj);\n\n    }\n\n  });\n\n  _.extend(Polygon.prototype, Path.prototype, {\n\n    _width: 0,\n    _height: 0,\n    _sides: 0,\n\n    _flagWidth: false,\n    _flagHeight: false,\n    _flagSides: false,\n\n    _update: function() {\n\n      if (this._flagWidth || this._flagHeight || this._flagSides) {\n\n        var sides = this._sides;\n        var amount = this.vertices.length;\n\n        if (amount > sides) {\n          this.vertices.splice(sides - 1, amount - sides);\n        }\n\n        for (var i = 0; i < sides; i++) {\n\n          var pct = (i + 0.5) / sides;\n          var theta = TWO_PI * pct + Math.PI / 2;\n          var x = this._width * cos(theta);\n          var y = this._height * sin(theta);\n\n          if (i >= amount) {\n            this.vertices.push(new Two.Anchor(x, y));\n          } else {\n            this.vertices[i].set(x, y);\n          }\n\n        }\n\n      }\n\n      Path.prototype._update.call(this);\n      return this;\n\n    },\n\n    flagReset: function() {\n\n      this._flagWidth = this._flagHeight = this._flagSides = false;\n      Path.prototype.flagReset.call(this);\n\n      return this;\n\n    }\n\n  });\n\n  Polygon.MakeObservable(Polygon.prototype);\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var Path = Two.Path, PI = Math.PI, TWO_PI = Math.PI * 2, HALF_PI = Math.PI / 2,\n    cos = Math.cos, sin = Math.sin, abs = Math.abs, _ = Two.Utils;\n\n  var ArcSegment = Two.ArcSegment = function(ox, oy, ir, or, sa, ea, res) {\n\n    var points = _.map(_.range(res || (Two.Resolution * 3)), function() {\n      return new Two.Anchor();\n    });\n\n    Path.call(this, points, false, false, true);\n\n    this.innerRadius = ir;\n    this.outerRadius = or;\n\n    this.startAngle = sa;\n    this.endAngle = ea;\n\n    this._update();\n    this.translation.set(ox, oy);\n\n  }\n\n  _.extend(ArcSegment, {\n\n    Properties: ['startAngle', 'endAngle', 'innerRadius', 'outerRadius'],\n\n    MakeObservable: function(obj) {\n\n      Path.MakeObservable(obj);\n      _.each(ArcSegment.Properties, Two.Utils.defineProperty, obj);\n\n    }\n\n  });\n\n  _.extend(ArcSegment.prototype, Path.prototype, {\n\n    _flagStartAngle: false,\n    _flagEndAngle: false,\n    _flagInnerRadius: false,\n    _flagOuterRadius: false,\n\n    _startAngle: 0,\n    _endAngle: TWO_PI,\n    _innerRadius: 0,\n    _outerRadius: 0,\n\n    _update: function() {\n\n      if (this._flagStartAngle || this._flagEndAngle || this._flagInnerRadius\n        || this._flagOuterRadius) {\n\n        var sa = this._startAngle;\n        var ea = this._endAngle;\n\n        var ir = this._innerRadius;\n        var or = this._outerRadius;\n\n        var connected = mod(sa, TWO_PI) === mod(ea, TWO_PI);\n        var punctured = ir > 0;\n\n        var vertices = this.vertices;\n        var length = (punctured ? vertices.length / 2 : vertices.length);\n        var command, id = 0;\n\n        if (connected) {\n          length--;\n        } else if (!punctured) {\n          length -= 2;\n        }\n\n        /**\n         * Outer Circle\n         */\n        for (var i = 0, last = length - 1; i < length; i++) {\n\n          var pct = i / last;\n          var v = vertices[id];\n          var theta = pct * (ea - sa) + sa;\n          var step = (ea - sa) / length;\n\n          var x = or * Math.cos(theta);\n          var y = or * Math.sin(theta);\n\n          switch (i) {\n            case 0:\n              command = Two.Commands.move;\n              break;\n            default:\n              command = Two.Commands.curve;\n          }\n\n          v.command = command;\n          v.x = x;\n          v.y = y;\n          v.controls.left.clear();\n          v.controls.right.clear();\n\n          if (v.command === Two.Commands.curve) {\n            var amp = or * step / Math.PI;\n            v.controls.left.x = amp * Math.cos(theta - HALF_PI);\n            v.controls.left.y = amp * Math.sin(theta - HALF_PI);\n            v.controls.right.x = amp * Math.cos(theta + HALF_PI);\n            v.controls.right.y = amp * Math.sin(theta + HALF_PI);\n            if (i === 1) {\n              v.controls.left.multiplyScalar(2);\n            }\n            if (i === last) {\n              v.controls.right.multiplyScalar(2);\n            }\n          }\n\n          id++;\n\n        }\n\n        if (punctured) {\n\n          if (connected) {\n            vertices[id].command = Two.Commands.close;\n            id++;\n          } else {\n            length--;\n            last = length - 1;\n          }\n\n          /**\n           * Inner Circle\n           */\n          for (i = 0; i < length; i++) {\n\n            pct = i / last;\n            v = vertices[id];\n            theta = (1 - pct) * (ea - sa) + sa;\n            step = (ea - sa) / length;\n\n            x = ir * Math.cos(theta);\n            y = ir * Math.sin(theta);\n            command = Two.Commands.curve;\n            if (i <= 0) {\n              command = connected ? Two.Commands.move : Two.Commands.line;\n            }\n\n            v.command = command;\n            v.x = x;\n            v.y = y;\n            v.controls.left.clear();\n            v.controls.right.clear();\n\n            if (v.command === Two.Commands.curve) {\n              amp = ir * step / Math.PI;\n              v.controls.left.x = amp * Math.cos(theta + HALF_PI);\n              v.controls.left.y = amp * Math.sin(theta + HALF_PI);\n              v.controls.right.x = amp * Math.cos(theta - HALF_PI);\n              v.controls.right.y = amp * Math.sin(theta - HALF_PI);\n              if (i === 1) {\n                v.controls.left.multiplyScalar(2);\n              }\n              if (i === last) {\n                v.controls.right.multiplyScalar(2);\n              }\n            }\n\n            id++;\n\n          }\n\n        } else if (!connected) {\n\n          vertices[id].command = Two.Commands.line;\n          vertices[id].x = 0;\n          vertices[id].y = 0;\n          id++;\n\n        }\n\n        /**\n         * Final Point\n         */\n        vertices[id].command = Two.Commands.close;\n\n      }\n\n      Path.prototype._update.call(this);\n\n      return this;\n\n    },\n\n    flagReset: function() {\n\n      Path.prototype.flagReset.call(this);\n\n      this._flagStartAngle = this._flagEndAngle\n        = this._flagInnerRadius = this._flagOuterRadius = false;\n\n      return this;\n\n    }\n\n  });\n\n  ArcSegment.MakeObservable(ArcSegment.prototype);\n\n  function mod(v, l) {\n    while (v < 0) {\n      v += l;\n    }\n    return v % l;\n  }\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var Path = Two.Path, TWO_PI = Math.PI * 2, cos = Math.cos, sin = Math.sin;\n  var _ = Two.Utils;\n\n  var Star = Two.Star = function(ox, oy, or, ir, sides) {\n\n    if (!_.isNumber(ir)) {\n      ir = or / 2;\n    }\n\n    if (!_.isNumber(sides) || sides <= 0) {\n      sides = 5;\n    }\n\n    var length = sides * 2;\n\n    var points = _.map(_.range(length), function(i) {\n      return new Two.Anchor();\n    });\n\n    Path.call(this, points, true);\n\n    this.innerRadius = ir;\n    this.outerRadius = or;\n    this.sides = sides;\n\n    this._update();\n    this.translation.set(ox, oy);\n\n  };\n\n  _.extend(Star, {\n\n    Properties: ['innerRadius', 'outerRadius', 'sides'],\n\n    MakeObservable: function(obj) {\n\n      Path.MakeObservable(obj);\n      _.each(Star.Properties, Two.Utils.defineProperty, obj);\n\n    }\n\n  });\n\n  _.extend(Star.prototype, Path.prototype, {\n\n    _innerRadius: 0,\n    _outerRadius: 0,\n    _sides: 0,\n\n    _flagInnerRadius: false,\n    _flagOuterRadius: false,\n    _flagSides: false,\n\n    _update: function() {\n\n      if (this._flagInnerRadius || this._flagOuterRadius || this._flagSides) {\n\n        var sides = this._sides * 2;\n        var amount = this.vertices.length;\n\n        if (amount > sides) {\n          this.vertices.splice(sides - 1, amount - sides);\n        }\n\n        for (var i = 0; i < sides; i++) {\n\n          var pct = (i + 0.5) / sides;\n          var theta = TWO_PI * pct;\n          var r = (i % 2 ? this._innerRadius : this._outerRadius);\n          var x = r * cos(theta);\n          var y = r * sin(theta);\n\n          if (i >= amount) {\n            this.vertices.push(new Two.Anchor(x, y));\n          } else {\n            this.vertices[i].set(x, y);\n          }\n\n        }\n\n      }\n\n      Path.prototype._update.call(this);\n\n      return this;\n\n    },\n\n    flagReset: function() {\n\n      this._flagInnerRadius = this._flagOuterRadius = this._flagSides = false;\n      Path.prototype.flagReset.call(this);\n\n      return this;\n\n    }\n\n  });\n\n  Star.MakeObservable(Star.prototype);\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var Path = Two.Path;\n  var _ = Two.Utils;\n\n  var RoundedRectangle = Two.RoundedRectangle = function(ox, oy, width, height, radius) {\n\n    if (!_.isNumber(radius)) {\n      radius = Math.floor(Math.min(width, height) / 12);\n    }\n\n    var amount = 10;\n\n    var points = _.map(_.range(amount), function(i) {\n      return new Two.Anchor(0, 0, 0, 0, 0, 0,\n        i === 0 ? Two.Commands.move : Two.Commands.curve);\n    });\n\n    points[points.length - 1].command = Two.Commands.close;\n\n    Path.call(this, points, false, false, true);\n\n    this.width = width;\n    this.height = height;\n    this.radius = radius;\n\n    this._update();\n    this.translation.set(ox, oy);\n\n  };\n\n  _.extend(RoundedRectangle, {\n\n    Properties: ['width', 'height', 'radius'],\n\n    MakeObservable: function(obj) {\n\n      Path.MakeObservable(obj);\n      _.each(RoundedRectangle.Properties, Two.Utils.defineProperty, obj);\n\n    }\n\n  });\n\n  _.extend(RoundedRectangle.prototype, Path.prototype, {\n\n    _width: 0,\n    _height: 0,\n    _radius: 0,\n\n    _flagWidth: false,\n    _flagHeight: false,\n    _flagRadius: false,\n\n    _update: function() {\n\n      if (this._flagWidth || this._flagHeight || this._flagRadius) {\n\n        var width = this._width;\n        var height = this._height;\n        var radius = Math.min(Math.max(this._radius, 0),\n          Math.min(width, height));\n\n        var v;\n        var w = width / 2;\n        var h = height / 2;\n\n        v = this.vertices[0];\n        v.x = - (w - radius);\n        v.y = - h;\n\n        // Upper Right Corner\n\n        v = this.vertices[1];\n        v.x = (w - radius);\n        v.y = - h;\n        v.controls.left.clear();\n        v.controls.right.x = radius;\n        v.controls.right.y = 0;\n\n        v = this.vertices[2];\n        v.x = w;\n        v.y = - (h - radius);\n        v.controls.right.clear();\n        v.controls.left.clear();\n\n        // Bottom Right Corner\n\n        v = this.vertices[3];\n        v.x = w;\n        v.y = (h - radius);\n        v.controls.left.clear();\n        v.controls.right.x = 0;\n        v.controls.right.y = radius;\n\n        v = this.vertices[4];\n        v.x = (w - radius);\n        v.y = h;\n        v.controls.right.clear();\n        v.controls.left.clear();\n\n        // Bottom Left Corner\n\n        v = this.vertices[5];\n        v.x = - (w - radius);\n        v.y = h;\n        v.controls.left.clear();\n        v.controls.right.x = - radius;\n        v.controls.right.y = 0;\n\n        v = this.vertices[6];\n        v.x = - w;\n        v.y = (h - radius);\n        v.controls.left.clear();\n        v.controls.right.clear();\n\n        // Upper Left Corner\n\n        v = this.vertices[7];\n        v.x = - w;\n        v.y = - (h - radius);\n        v.controls.left.clear();\n        v.controls.right.x = 0;\n        v.controls.right.y = - radius;\n\n        v = this.vertices[8];\n        v.x = - (w - radius);\n        v.y = - h;\n        v.controls.left.clear();\n        v.controls.right.clear();\n\n        v = this.vertices[9];\n        v.copy(this.vertices[8]);\n\n      }\n\n      Path.prototype._update.call(this);\n\n      return this;\n\n    },\n\n    flagReset: function() {\n\n      this._flagWidth = this._flagHeight = this._flagRadius = false;\n      Path.prototype.flagReset.call(this);\n\n      return this;\n\n    }\n\n  });\n\n  RoundedRectangle.MakeObservable(RoundedRectangle.prototype);\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var root = Two.root;\n  var getComputedMatrix = Two.Utils.getComputedMatrix;\n  var _ = Two.Utils;\n\n  var canvas = (root.document ? root.document.createElement('canvas') : { getContext: _.identity });\n  var ctx = canvas.getContext('2d');\n\n  var Text = Two.Text = function(message, x, y, styles) {\n\n    Two.Shape.call(this);\n\n    this._renderer.type = 'text';\n    this._renderer.flagFill = _.bind(Text.FlagFill, this);\n    this._renderer.flagStroke = _.bind(Text.FlagStroke, this);\n\n    this.value = message;\n\n    if (_.isNumber(x)) {\n        this.translation.x = x;\n    }\n    if (_.isNumber(y)) {\n        this.translation.y = y;\n    }\n\n    if (!_.isObject(styles)) {\n      return this;\n    }\n\n    _.each(Two.Text.Properties, function(property) {\n\n      if (property in styles) {\n        this[property] = styles[property];\n      }\n\n    }, this);\n\n  };\n\n  _.extend(Two.Text, {\n\n    Properties: [\n      'value', 'family', 'size', 'leading', 'alignment', 'linewidth', 'style',\n      'weight', 'decoration', 'baseline', 'opacity', 'visible', 'fill', 'stroke'\n    ],\n\n    FlagFill: function() {\n      this._flagFill = true;\n    },\n\n    FlagStroke: function() {\n      this._flagStroke = true;\n    },\n\n    MakeObservable: function(object) {\n\n      Two.Shape.MakeObservable(object);\n\n      _.each(Two.Text.Properties.slice(0, 12), Two.Utils.defineProperty, object);\n\n      Object.defineProperty(object, 'fill', {\n        enumerable: true,\n        get: function() {\n          return this._fill;\n        },\n        set: function(f) {\n\n          if (this._fill instanceof Two.Gradient\n            || this._fill instanceof Two.LinearGradient\n            || this._fill instanceof Two.RadialGradient\n            || this._fill instanceof Two.Texture) {\n            this._fill.unbind(Two.Events.change, this._renderer.flagFill);\n          }\n\n          this._fill = f;\n          this._flagFill = true;\n\n          if (this._fill instanceof Two.Gradient\n            || this._fill instanceof Two.LinearGradient\n            || this._fill instanceof Two.RadialGradient\n            || this._fill instanceof Two.Texture) {\n            this._fill.bind(Two.Events.change, this._renderer.flagFill);\n          }\n\n        }\n      });\n\n      Object.defineProperty(object, 'stroke', {\n        enumerable: true,\n        get: function() {\n          return this._stroke;\n        },\n        set: function(f) {\n\n          if (this._stroke instanceof Two.Gradient\n            || this._stroke instanceof Two.LinearGradient\n            || this._stroke instanceof Two.RadialGradient\n            || this._stroke instanceof Two.Texture) {\n            this._stroke.unbind(Two.Events.change, this._renderer.flagStroke);\n          }\n\n          this._stroke = f;\n          this._flagStroke = true;\n\n          if (this._stroke instanceof Two.Gradient\n            || this._stroke instanceof Two.LinearGradient\n            || this._stroke instanceof Two.RadialGradient\n            || this._stroke instanceof Two.Texture) {\n            this._stroke.bind(Two.Events.change, this._renderer.flagStroke);\n          }\n\n        }\n      });\n\n      Object.defineProperty(object, 'clip', {\n        enumerable: true,\n        get: function() {\n          return this._clip;\n        },\n        set: function(v) {\n          this._clip = v;\n          this._flagClip = true;\n        }\n      });\n\n    }\n\n  });\n\n  _.extend(Two.Text.prototype, Two.Shape.prototype, {\n\n    // Flags\n    // http://en.wikipedia.org/wiki/Flag\n\n    _flagValue: true,\n    _flagFamily: true,\n    _flagSize: true,\n    _flagLeading: true,\n    _flagAlignment: true,\n    _flagBaseline: true,\n    _flagStyle: true,\n    _flagWeight: true,\n    _flagDecoration: true,\n\n    _flagFill: true,\n    _flagStroke: true,\n    _flagLinewidth: true,\n    _flagOpacity: true,\n    _flagVisible: true,\n\n    _flagClip: false,\n\n    // Underlying Properties\n\n    _value: '',\n    _family: 'sans-serif',\n    _size: 13,\n    _leading: 17,\n    _alignment: 'center',\n    _baseline: 'middle',\n    _style: 'normal',\n    _weight: 500,\n    _decoration: 'none',\n\n    _fill: '#000',\n    _stroke: 'transparent',\n    _linewidth: 1,\n    _opacity: 1,\n    _visible: true,\n\n    _clip: false,\n\n    remove: function() {\n\n      if (!this.parent) {\n        return this;\n      }\n\n      this.parent.remove(this);\n\n      return this;\n\n    },\n\n    clone: function(parent) {\n\n      var parent = parent || this.parent;\n\n      var clone = new Two.Text(this.value);\n      clone.translation.copy(this.translation);\n      clone.rotation = this.rotation;\n      clone.scale = this.scale;\n\n      _.each(Two.Text.Properties, function(property) {\n        clone[property] = this[property];\n      }, this);\n\n      if (parent) {\n        parent.add(clone);\n      }\n\n      return clone;\n\n    },\n\n    toObject: function() {\n\n      var result = {\n        translation: this.translation.toObject(),\n        rotation: this.rotation,\n        scale: this.scale\n      };\n\n      _.each(Two.Text.Properties, function(property) {\n        result[property] = this[property];\n      }, this);\n\n      return result;\n\n    },\n\n    noStroke: function() {\n      this.stroke = 'transparent';\n      return this;\n    },\n\n    noFill: function() {\n      this.fill = 'transparent';\n      return this;\n    },\n\n    /**\n     * A shim to not break `getBoundingClientRect` calls. TODO: Implement a\n     * way to calculate proper bounding boxes of `Two.Text`.\n     */\n    getBoundingClientRect: function(shallow) {\n\n      var matrix, border, l, x, y, i, v;\n\n      var left = Infinity, right = -Infinity,\n          top = Infinity, bottom = -Infinity;\n\n      // TODO: Update this to not __always__ update. Just when it needs to.\n      this._update(true);\n\n      matrix = !!shallow ? this._matrix : getComputedMatrix(this);\n\n      v = matrix.multiply(0, 0, 1);\n\n      return {\n        top: v.x,\n        left: v.y,\n        right: v.x,\n        bottom: v.y,\n        width: 0,\n        height: 0\n      };\n\n    },\n\n    flagReset: function() {\n\n      this._flagValue = this._flagFamily = this._flagSize =\n        this._flagLeading = this._flagAlignment = this._flagFill =\n        this._flagStroke = this._flagLinewidth = this._flagOpaicty =\n        this._flagVisible = this._flagClip = this._flagDecoration =\n        this._flagBaseline = false;\n\n      Two.Shape.prototype.flagReset.call(this);\n\n      return this;\n\n    }\n\n  });\n\n  Two.Text.MakeObservable(Two.Text.prototype);\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var _ = Two.Utils;\n\n  var Stop = Two.Stop = function(offset, color, opacity) {\n\n    this._renderer = {};\n    this._renderer.type = 'stop';\n\n    this.offset = _.isNumber(offset) ? offset\n      : Stop.Index <= 0 ? 0 : 1;\n\n    this.opacity = _.isNumber(opacity) ? opacity : 1;\n\n    this.color = _.isString(color) ? color\n      : Stop.Index <= 0 ? '#fff' : '#000';\n\n    Stop.Index = (Stop.Index + 1) % 2;\n\n  };\n\n  _.extend(Stop, {\n\n    Index: 0,\n\n    Properties: [\n      'offset',\n      'opacity',\n      'color'\n    ],\n\n    MakeObservable: function(object) {\n\n      _.each(Stop.Properties, function(property) {\n\n        var object = this;\n        var secret = '_' + property;\n        var flag = '_flag' + property.charAt(0).toUpperCase() + property.slice(1);\n\n        Object.defineProperty(object, property, {\n          enumerable: true,\n          get: function() {\n            return this[secret];\n          },\n          set: function(v) {\n            this[secret] = v;\n            this[flag] = true;\n            if (this.parent) {\n              this.parent._flagStops = true;\n            }\n          }\n        });\n\n      }, object);\n\n    }\n\n  });\n\n  _.extend(Stop.prototype, Two.Utils.Events, {\n\n    clone: function() {\n\n      var clone = new Stop();\n\n      _.each(Stop.Properties, function(property) {\n        clone[property] = this[property];\n      }, this);\n\n      return clone;\n\n    },\n\n    toObject: function() {\n\n      var result = {};\n\n      _.each(Stop.Properties, function(k) {\n        result[k] = this[k];\n      }, this);\n\n      return result;\n\n    },\n\n    flagReset: function() {\n\n      this._flagOffset = this._flagColor = this._flagOpacity = false;\n\n      return this;\n\n    }\n\n  });\n\n  Stop.MakeObservable(Stop.prototype);\n\n  var Gradient = Two.Gradient = function(stops) {\n\n    this._renderer = {};\n    this._renderer.type = 'gradient';\n\n    this.id = Two.Identifier + Two.uniqueId();\n    this.classList = [];\n\n    this._renderer.flagStops = _.bind(Gradient.FlagStops, this);\n    this._renderer.bindStops = _.bind(Gradient.BindStops, this);\n    this._renderer.unbindStops = _.bind(Gradient.UnbindStops, this);\n\n    this.spread = 'pad';\n\n    this.stops = stops;\n\n  };\n\n  _.extend(Gradient, {\n\n    Stop: Stop,\n\n    Properties: [\n      'spread'\n    ],\n\n    MakeObservable: function(object) {\n\n      _.each(Gradient.Properties, Two.Utils.defineProperty, object);\n\n      Object.defineProperty(object, 'stops', {\n\n        enumerable: true,\n\n        get: function() {\n          return this._stops;\n        },\n\n        set: function(stops) {\n\n          var updateStops = this._renderer.flagStops;\n          var bindStops = this._renderer.bindStops;\n          var unbindStops = this._renderer.unbindStops;\n\n          // Remove previous listeners\n          if (this._stops) {\n            this._stops\n              .unbind(Two.Events.insert, bindStops)\n              .unbind(Two.Events.remove, unbindStops);\n          }\n\n          // Create new Collection with copy of Stops\n          this._stops = new Two.Utils.Collection((stops || []).slice(0));\n\n          // Listen for Collection changes and bind / unbind\n          this._stops\n            .bind(Two.Events.insert, bindStops)\n            .bind(Two.Events.remove, unbindStops);\n\n          // Bind Initial Stops\n          bindStops(this._stops);\n\n        }\n\n      });\n\n    },\n\n    FlagStops: function() {\n      this._flagStops = true;\n    },\n\n    BindStops: function(items) {\n\n      // This function is called a lot\n      // when importing a large SVG\n      var i = items.length;\n      while(i--) {\n        items[i].bind(Two.Events.change, this._renderer.flagStops);\n        items[i].parent = this;\n      }\n\n      this._renderer.flagStops();\n\n    },\n\n    UnbindStops: function(items) {\n\n      var i = items.length;\n      while(i--) {\n        items[i].unbind(Two.Events.change, this._renderer.flagStops);\n        delete items[i].parent;\n      }\n\n      this._renderer.flagStops();\n\n    }\n\n  });\n\n  _.extend(Gradient.prototype, Two.Utils.Events, {\n\n    _flagStops: false,\n    _flagSpread: false,\n\n    clone: function(parent) {\n\n      parent = parent || this.parent;\n\n      var stops = _.map(this.stops, function(s) {\n        return s.clone();\n      });\n\n      var clone = new Gradient(stops);\n\n      _.each(Two.Gradient.Properties, function(k) {\n        clone[k] = this[k];\n      }, this);\n\n      if (parent) {\n        parent.add(clone);\n      }\n\n      return clone;\n\n    },\n\n    toObject: function() {\n\n      var result = {\n        stops: _.map(this.stops, function(s) {\n          return s.toObject();\n        })\n      };\n\n      _.each(Gradient.Properties, function(k) {\n        result[k] = this[k];\n      }, this);\n\n      return result;\n\n    },\n\n    _update: function() {\n\n      if (this._flagSpread || this._flagStops) {\n        this.trigger(Two.Events.change);\n      }\n\n      return this;\n\n    },\n\n    flagReset: function() {\n\n      this._flagSpread = this._flagStops = false;\n\n      return this;\n\n    }\n\n  });\n\n  Gradient.MakeObservable(Gradient.prototype);\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var _ = Two.Utils;\n\n  var LinearGradient = Two.LinearGradient = function(x1, y1, x2, y2, stops) {\n\n    Two.Gradient.call(this, stops);\n\n    this._renderer.type = 'linear-gradient';\n\n    var flagEndPoints = _.bind(LinearGradient.FlagEndPoints, this);\n    this.left = new Two.Vector().bind(Two.Events.change, flagEndPoints);\n    this.right = new Two.Vector().bind(Two.Events.change, flagEndPoints);\n\n    if (_.isNumber(x1)) {\n      this.left.x = x1;\n    }\n    if (_.isNumber(y1)) {\n      this.left.y = y1;\n    }\n    if (_.isNumber(x2)) {\n      this.right.x = x2;\n    }\n    if (_.isNumber(y2)) {\n      this.right.y = y2;\n    }\n\n  };\n\n  _.extend(LinearGradient, {\n\n    Stop: Two.Gradient.Stop,\n\n    MakeObservable: function(object) {\n      Two.Gradient.MakeObservable(object);\n    },\n\n    FlagEndPoints: function() {\n      this._flagEndPoints = true;\n    }\n\n  });\n\n  _.extend(LinearGradient.prototype, Two.Gradient.prototype, {\n\n    _flagEndPoints: false,\n\n    clone: function(parent) {\n\n      parent = parent || this.parent;\n\n      var stops = _.map(this.stops, function(stop) {\n        return stop.clone();\n      });\n\n      var clone = new LinearGradient(this.left._x, this.left._y,\n        this.right._x, this.right._y, stops);\n\n      _.each(Two.Gradient.Properties, function(k) {\n        clone[k] = this[k];\n      }, this);\n\n      if (parent) {\n        parent.add(clone);\n      }\n\n      return clone;\n\n    },\n\n    toObject: function() {\n\n      var result = Two.Gradient.prototype.toObject.call(this);\n\n      result.left = this.left.toObject();\n      result.right = this.right.toObject();\n\n      return result;\n\n    },\n\n    _update: function() {\n\n      if (this._flagEndPoints || this._flagSpread || this._flagStops) {\n        this.trigger(Two.Events.change);\n      }\n\n      return this;\n\n    },\n\n    flagReset: function() {\n\n      this._flagEndPoints = false;\n\n      Two.Gradient.prototype.flagReset.call(this);\n\n      return this;\n\n    }\n\n  });\n\n  LinearGradient.MakeObservable(LinearGradient.prototype);\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var _ = Two.Utils;\n\n  var RadialGradient = Two.RadialGradient = function(cx, cy, r, stops, fx, fy) {\n\n    Two.Gradient.call(this, stops);\n\n    this._renderer.type = 'radial-gradient';\n\n    this.center = new Two.Vector()\n      .bind(Two.Events.change, _.bind(function() {\n        this._flagCenter = true;\n      }, this));\n\n    this.radius = _.isNumber(r) ? r : 20;\n\n    this.focal = new Two.Vector()\n      .bind(Two.Events.change, _.bind(function() {\n        this._flagFocal = true;\n      }, this));\n\n    if (_.isNumber(cx)) {\n      this.center.x = cx;\n    }\n    if (_.isNumber(cy)) {\n      this.center.y = cy;\n    }\n\n    this.focal.copy(this.center);\n\n    if (_.isNumber(fx)) {\n      this.focal.x = fx;\n    }\n    if (_.isNumber(fy)) {\n      this.focal.y = fy;\n    }\n\n  };\n\n  _.extend(RadialGradient, {\n\n    Stop: Two.Gradient.Stop,\n\n    Properties: [\n      'radius'\n    ],\n\n    MakeObservable: function(object) {\n\n      Two.Gradient.MakeObservable(object);\n\n      _.each(RadialGradient.Properties, Two.Utils.defineProperty, object);\n\n    }\n\n  });\n\n  _.extend(RadialGradient.prototype, Two.Gradient.prototype, {\n\n    _flagRadius: false,\n    _flagCenter: false,\n    _flagFocal: false,\n\n    clone: function(parent) {\n\n      parent = parent || this.parent;\n\n      var stops = _.map(this.stops, function(stop) {\n        return stop.clone();\n      });\n\n      var clone = new RadialGradient(this.center._x, this.center._y,\n          this._radius, stops, this.focal._x, this.focal._y);\n\n      _.each(Two.Gradient.Properties.concat(RadialGradient.Properties), function(k) {\n        clone[k] = this[k];\n      }, this);\n\n      if (parent) {\n        parent.add(clone);\n      }\n\n      return clone;\n\n    },\n\n    toObject: function() {\n\n      var result = Two.Gradient.prototype.toObject.call(this);\n\n      _.each(RadialGradient.Properties, function(k) {\n        result[k] = this[k];\n      }, this);\n\n      result.center = this.center.toObject();\n      result.focal = this.focal.toObject();\n\n      return result;\n\n    },\n\n    _update: function() {\n\n      if (this._flagRadius || this._flatCenter || this._flagFocal\n        || this._flagSpread || this._flagStops) {\n        this.trigger(Two.Events.change);\n      }\n\n      return this;\n\n    },\n\n    flagReset: function() {\n\n      this._flagRadius = this._flagCenter = this._flagFocal = false;\n\n      Two.Gradient.prototype.flagReset.call(this);\n\n      return this;\n\n    }\n\n  });\n\n  RadialGradient.MakeObservable(RadialGradient.prototype);\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var _ = Two.Utils;\n  var regex = {\n    video: /\\.(mp4|webm)$/i,\n    image: /\\.(jpe?g|png|gif|tiff)$/i\n  };\n\n  var Texture = Two.Texture = function(src, callback) {\n\n    this._renderer = {};\n    this._renderer.type = 'texture';\n    this._renderer.flagOffset = _.bind(Texture.FlagOffset, this);\n    this._renderer.flagScale = _.bind(Texture.FlagScale, this);\n\n    this.id = Two.Identifier + Two.uniqueId();\n    this.classList = [];\n\n    this.offset = new Two.Vector();\n\n    if (_.isFunction(callback)) {\n      var loaded = _.bind(function() {\n        this.unbind(Two.Events.load, loaded);\n        if (_.isFunction(callback)) {\n          callback();\n        }\n      }, this);\n      this.bind(Two.Events.load, loaded);\n    }\n\n    if (_.isString(src)) {\n      this.src = src;\n    } else if (_.isElement(src)) {\n      this.image = src;\n    }\n\n    this._update();\n\n  };\n\n  _.extend(Texture, {\n\n    Properties: [\n      'src',\n      'image',\n      'loaded',\n      'repeat'\n    ],\n\n    ImageRegistry: new Two.Registry(),\n\n    getImage: function(src) {\n\n      if (Texture.ImageRegistry.contains(src)) {\n        return Texture.ImageRegistry.get(src);\n      }\n\n      var image;\n\n      if (regex.video.test(src)) {\n        image = document.createElement('video');\n      } else {\n        image = document.createElement('img');\n      }\n\n      image.crossOrigin = 'anonymous';\n\n      return image;\n\n    },\n\n    Register: {\n      canvas: function(texture, callback) {\n        texture._src = '#' + texture.id;\n        Texture.ImageRegistry.add(texture.src, texture.image);\n        if (_.isFunction(callback)) {\n          callback();\n        }\n      },\n      img: function(texture, callback) {\n\n        var loaded = function(e) {\n          texture.image.removeEventListener('load', loaded, false);\n          texture.image.removeEventListener('error', error, false);\n          if (_.isFunction(callback)) {\n            callback();\n          }\n        };\n        var error = function(e) {\n          texture.image.removeEventListener('load', loaded, false);\n          texture.image.removeEventListener('error', error, false);\n          throw new Two.Utils.Error('unable to load ' + texture.src);\n        };\n\n        texture.image.addEventListener('load', loaded, false);\n        texture.image.addEventListener('error', error, false);\n        texture.image.setAttribute('two-src', texture.src);\n        Texture.ImageRegistry.add(texture.src, texture.image);\n        texture.image.src = texture.src;\n\n      },\n      video: function(texture, callback) {\n\n        var loaded = function(e) {\n          texture.image.removeEventListener('load', loaded, false);\n          texture.image.removeEventListener('error', error, false);\n          texture.image.width = texture.image.videoWidth;\n          texture.image.height = texture.image.videoHeight;\n          texture.image.play();\n          if (_.isFunction(callback)) {\n            callback();\n          }\n        };\n        var error = function(e) {\n          texture.image.removeEventListener('load', loaded, false);\n          texture.image.removeEventListener('error', error, false);\n          throw new Two.Utils.Error('unable to load ' + texture.src);\n        };\n\n        texture.image.addEventListener('canplaythrough', loaded, false);\n        texture.image.addEventListener('error', error, false);\n        texture.image.setAttribute('two-src', texture.src);\n        Texture.ImageRegistry.add(texture.src, texture.image);\n        texture.image.src = texture.src;\n        texture.image.loop = true;\n        texture.image.load();\n\n      }\n    },\n\n    load: function(texture, callback) {\n\n      var src = texture.src;\n      var image = texture.image;\n      var tag = image && image.nodeName.toLowerCase();\n\n      if (texture._flagImage) {\n        if (/canvas/i.test(tag)) {\n          Texture.Register.canvas(texture, callback);\n        } else {\n          texture._src = image.getAttribute('two-src') || image.src;\n          Texture.Register[tag](texture, callback);\n        }\n      }\n\n      if (texture._flagSrc) {\n        if (!image) {\n          texture.image = Texture.getImage(texture.src);\n        }\n        tag = texture.image.nodeName.toLowerCase();\n        Texture.Register[tag](texture, callback);\n      }\n\n    },\n\n    FlagOffset: function() {\n      this._flagOffset = true;\n    },\n\n    FlagScale: function() {\n      this._flagScale = true;\n    },\n\n    MakeObservable: function(object) {\n\n      _.each(Texture.Properties, Two.Utils.defineProperty, object);\n\n      Object.defineProperty(object, 'offset', {\n        enumerable: true,\n        get: function() {\n          return this._offset;\n        },\n        set: function(v) {\n          if (this._offset) {\n            this._offset.unbind(Two.Events.change, this._renderer.flagOffset);\n          }\n          this._offset = v;\n          this._offset.bind(Two.Events.change, this._renderer.flagOffset);\n          this._flagOffset = true;\n        }\n      });\n\n      Object.defineProperty(object, 'scale', {\n        enumerable: true,\n        get: function() {\n          return this._scale;\n        },\n        set: function(v) {\n\n          if (this._scale instanceof Two.Vector) {\n            this._scale.unbind(Two.Events.change, this._renderer.flagScale);\n          }\n\n          this._scale = v;\n\n          if (this._scale instanceof Two.Vector) {\n            this._scale.bind(Two.Events.change, this._renderer.flagScale);\n          }\n\n          this._flagScale = true;\n\n        }\n      });\n\n    }\n\n  });\n\n  _.extend(Texture.prototype, Two.Utils.Events, Two.Shape.prototype, {\n\n    _flagSrc: false,\n    _flagImage: false,\n    _flagLoaded: false,\n    _flagRepeat: false,\n\n    _flagOffset: false,\n    _flagScale: false,\n\n    _src: '',\n    _image: null,\n    _loaded: false,\n    _repeat: 'no-repeat',\n\n    _scale: 1,\n    _offset: null,\n\n    clone: function() {\n      return new Texture(this.src);\n    },\n\n    toObject: function() {\n      return {\n        src: this.src,\n        image: this.image\n      }\n    },\n\n    _update: function() {\n\n      if (this._flagSrc || this._flagImage) {\n        this.trigger(Two.Events.change);\n        this.loaded = false;\n        Texture.load(this, _.bind(function() {\n          this.loaded = true;\n          this\n            .trigger(Two.Events.change)\n            .trigger(Two.Events.load);\n        }, this));\n      }\n\n      if (this.image.readyState >= 4) {\n        this._flagImage = true;\n      }\n\n      return this;\n\n    },\n\n    flagReset: function() {\n\n      this._flagSrc = this._flagImage = this._flagLoaded\n        = this._flagScale = this._flagOffset = false;\n\n      return this;\n\n    }\n\n  });\n\n  Texture.MakeObservable(Texture.prototype);\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var _ = Two.Utils;\n  var Path = Two.Path;\n  var Rectangle = Two.Rectangle;\n\n  var Sprite = Two.Sprite = function(path, ox, oy, cols, rows, frameRate) {\n\n    Path.call(this, [\n      new Two.Anchor(),\n      new Two.Anchor(),\n      new Two.Anchor(),\n      new Two.Anchor()\n    ], true);\n\n    this.noStroke();\n    this.noFill();\n\n    if (path instanceof Two.Texture) {\n      this.texture = path;\n    } else if (_.isString(path)) {\n      this.texture = new Two.Texture(path);\n    }\n\n    this._update();\n    this.translation.set(ox || 0, oy || 0);\n\n    if (_.isNumber(cols)) {\n      this.columns = cols;\n    }\n    if (_.isNumber(rows)) {\n      this.rows = rows;\n    }\n    if (_.isNumber(frameRate)) {\n      this.frameRate = frameRate;\n    }\n\n  };\n\n  _.extend(Sprite, {\n\n    Properties: [\n      'texture', 'columns', 'rows', 'frameRate'\n    ],\n\n    MakeObservable: function(obj) {\n\n      Rectangle.MakeObservable(obj);\n      _.each(Sprite.Properties, Two.Utils.defineProperty, obj);\n\n    }\n\n  })\n\n  _.extend(Sprite.prototype, Rectangle.prototype, {\n\n    _flagTexture: false,\n    _flagColumns: false,\n    _flagRows: false,\n    _flagFrameRate: false,\n\n    // Private variables\n    _amount: 1,\n    _duration: 0,\n    _index: 0,\n    _startTime: 0,\n    _playing: false,\n    _firstFrame: 0,\n    _lastFrame: 0,\n    _loop: true,\n\n    // Exposed through getter-setter\n    _texture: null,\n    _columns: 1,\n    _rows: 1,\n    _frameRate: 0,\n\n    play: function(firstFrame, lastFrame, onLastFrame) {\n\n      this._playing = true;\n      this._firstFrame = 0;\n      this._lastFrame = this.amount - 1;\n      this._startTime = _.performance.now();\n\n      if (_.isNumber(firstFrame)) {\n        this._firstFrame = firstFrame;\n      }\n      if (_.isNumber(lastFrame)) {\n        this._lastFrame = lastFrame;\n      }\n      if (_.isFunction(onLastFrame)) {\n        this._onLastFrame = onLastFrame;\n      } else {\n        delete this._onLastFrame;\n      }\n\n      return this;\n\n    },\n\n    pause: function() {\n\n      this._playing = false;\n      return this;\n\n    },\n\n    stop: function() {\n\n      this._playing = false;\n      this._index = 0;\n\n      return this;\n\n    },\n\n    clone: function(parent) {\n\n      parent = parent || this.parent;\n\n      var clone = new Sprite(\n        this.texture, this.translation.x, this.translation.y,\n        this.columns, this.rows, this.frameRate\n      );\n\n      if (this.playing) {\n        clone.play(this._firstFrame, this._lastFrame);\n        clone._loop = this._loop;\n      }\n\n      if (parent) {\n        parent.add(clone);\n      }\n\n      return clone;\n\n    },\n\n    _update: function() {\n\n      var effect = this._texture;\n      var cols = this._columns;\n      var rows = this._rows;\n\n      var width, height, elapsed, amount, duration;\n      var index, iw, ih, isRange;\n\n      if (this._flagColumns || this._flagRows) {\n        this._amount = this._columns * this._rows;\n      }\n\n      if (this._flagFrameRate) {\n        this._duration = 1000 * this._amount / this._frameRate;\n      }\n\n      if (this._flagTexture) {\n        this.fill = this._texture;\n      }\n\n      if (this._texture.loaded) {\n\n        iw = effect.image.width;\n        ih = effect.image.height;\n\n        width = iw / cols;\n        height = ih / rows;\n        amount = this._amount;\n\n        if (this.width !== width) {\n          this.width = width;\n        }\n        if (this.height !== height) {\n          this.height = height;\n        }\n\n        if (this._playing && this._frameRate > 0) {\n\n          if (_.isNaN(this._lastFrame)) {\n            this._lastFrame = amount - 1;\n          }\n\n          // TODO: Offload perf logic to instance of `Two`.\n          elapsed = _.performance.now() - this._startTime;\n          duration = 1000 * (this._lastFrame - this._firstFrame)\n            / this._frameRate;\n\n          if (this._loop) {\n            elapsed = elapsed % duration;\n          } else {\n            elapsed = Math.min(elapsed, duration);\n          }\n\n          index = _.lerp(this._firstFrame, this._lastFrame, elapsed / duration);\n          index = Math.floor(index);\n\n          if (index !== this._index) {\n            this._index = index;\n            if (index >= this._lastFrame - 1 && this._onLastFrame) {\n              this._onLastFrame();  // Shortcut for chainable sprite animations\n            }\n          }\n\n        }\n\n        var ox = (iw - width) / 2 + width * ((this._index % cols) + 1);\n        var oy = height * Math.floor((this._index / cols))\n          - (ih - height) / 2;\n\n        // TODO: Improve performance\n        if (ox !== effect.offset.x) {\n          effect.offset.x = ox;\n        }\n        if (oy !== effect.offset.y) {\n          effect.offset.y = oy;\n        }\n\n      }\n\n      Rectangle.prototype._update.call(this);\n\n      return this;\n\n    },\n\n    flagReset: function() {\n\n      this._flagTexture = this._flagColumns = this._flagRows\n        = this._flagFrameRate = false;\n\n      Rectangle.prototype.flagReset.call(this);\n\n      return this;\n    }\n\n\n  });\n\n  Sprite.MakeObservable(Sprite.prototype);\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  var _ = Two.Utils;\n  var Path = Two.Path;\n  var Rectangle = Two.Rectangle;\n\n  var ImageSequence = Two.ImageSequence = function(paths, ox, oy, frameRate) {\n\n    Path.call(this, [\n      new Two.Anchor(),\n      new Two.Anchor(),\n      new Two.Anchor(),\n      new Two.Anchor()\n    ], true);\n\n    this._renderer.flagTextures = _.bind(ImageSequence.FlagTextures, this);\n    this._renderer.bindTextures = _.bind(ImageSequence.BindTextures, this);\n    this._renderer.unbindTextures = _.bind(ImageSequence.UnbindTextures, this);\n\n    this.noStroke();\n    this.noFill();\n\n    this.textures = _.map(paths, ImageSequence.GenerateTexture, this);\n\n    this._update();\n    this.translation.set(ox || 0, oy || 0);\n\n    if (_.isNumber(frameRate)) {\n      this.frameRate = frameRate;\n    } else {\n      this.frameRate = ImageSequence.DefaultFrameRate;\n    }\n\n  };\n\n  _.extend(ImageSequence, {\n\n    Properties: [\n      'frameRate'\n    ],\n\n    DefaultFrameRate: 30,\n\n    FlagTextures: function() {\n      this._flagTextures = true;\n    },\n\n    BindTextures: function(items) {\n\n      var i = items.length;\n      while (i--) {\n        items[i].bind(Two.Events.change, this._renderer.flagTextures);\n      }\n\n      this._renderer.flagTextures();\n\n    },\n\n    UnbindTextures: function(items) {\n\n      var i = items.length;\n      while (i--) {\n        items[i].unbind(Two.Events.change, this._renderer.flagTextures);\n      }\n\n      this._renderer.flagTextures();\n\n    },\n\n    MakeObservable: function(obj) {\n\n      Rectangle.MakeObservable(obj);\n      _.each(ImageSequence.Properties, Two.Utils.defineProperty, obj);\n\n      Object.defineProperty(obj, 'textures', {\n\n        enumerable: true,\n\n        get: function() {\n          return this._textures;\n        },\n\n        set: function(textures) {\n\n          var updateTextures = this._renderer.flagTextures;\n          var bindTextures = this._renderer.bindTextures;\n          var unbindTextures = this._renderer.unbindTextures;\n\n          // Remove previous listeners\n          if (this._textures) {\n            this._textures\n              .unbind(Two.Events.insert, bindTextures)\n              .unbind(Two.Events.remove, unbindTextures);\n          }\n\n          // Create new Collection with copy of vertices\n          this._textures = new Two.Utils.Collection((textures || []).slice(0));\n\n          // Listen for Collection changes and bind / unbind\n          this._textures\n            .bind(Two.Events.insert, bindTextures)\n            .bind(Two.Events.remove, unbindTextures);\n\n          // Bind Initial Textures\n          bindTextures(this._textures);\n\n        }\n\n      });\n\n    },\n\n    GenerateTexture: function(obj) {\n      if (obj instanceof Two.Texture) {\n        return obj;\n      } else if (_.isString(obj)) {\n        return new Two.Texture(obj);\n      }\n    }\n\n  });\n\n  _.extend(ImageSequence.prototype, Rectangle.prototype, {\n\n    _flagTextures: false,\n    _flagFrameRate: false,\n\n    // Private variables\n    _amount: 1,\n    _duration: 0,\n    _index: 0,\n    _startTime: 0,\n    _playing: false,\n    _firstFrame: 0,\n    _lastFrame: 0,\n    _loop: true,\n\n    // Exposed through getter-setter\n    _textures: null,\n    _frameRate: 0,\n\n    play: function(firstFrame, lastFrame, onLastFrame) {\n\n      this._playing = true;\n      this._firstFrame = 0;\n      this._lastFrame = this.amount - 1;\n      this._startTime = _.performance.now();\n\n      if (_.isNumber(firstFrame)) {\n        this._firstFrame = firstFrame;\n      }\n      if (_.isNumber(lastFrame)) {\n        this._lastFrame = lastFrame;\n      }\n      if (_.isFunction(onLastFrame)) {\n        this._onLastFrame = onLastFrame;\n      } else {\n        delete this._onLastFrame;\n      }\n\n      return this;\n\n    },\n\n    pause: function() {\n\n      this._playing = false;\n      return this;\n\n    },\n\n    stop: function() {\n\n      this._playing = false;\n      this._index = 0;\n\n      return this;\n\n    },\n\n    clone: function(parent) {\n\n      parent = parent || this.parent;\n\n      var clone = new ImageSequence(this.textures, this.translation.x,\n        this.translation.y, this.frameRate)\n\n        clone._loop = this._loop;\n\n        if (this._playing) {\n          clone.play();\n        }\n\n        if (parent) {\n          parent.add(clone);\n        }\n\n        return clone;\n\n    },\n\n    _update: function() {\n\n      var effects = this._textures;\n      var width, height, elapsed, amount, duration, texture;\n      var index;\n\n      if (this._flagTextures) {\n        this._amount = effects.length;\n      }\n\n      if (this._flagFrameRate) {\n        this._duration = 1000 * this._amount / this._frameRate;\n      }\n\n      if (this._playing && this._frameRate > 0) {\n\n        amount = this._amount;\n\n        if (_.isNaN(this._lastFrame)) {\n          this._lastFrame = amount - 1;\n        }\n\n        // TODO: Offload perf logic to instance of `Two`.\n        elapsed = _.performance.now() - this._startTime;\n        duration = 1000 * (this._lastFrame - this._firstFrame)\n          / this._frameRate;\n\n        if (this._loop) {\n          elapsed = elapsed % duration;\n        } else {\n          elapsed = Math.min(elapsed, duration);\n        }\n\n        index = _.lerp(this._firstFrame, this._lastFrame, elapsed / duration);\n        index = Math.floor(index);\n\n        if (index !== this._index) {\n\n          this._index = index;\n          texture = effects[this._index];\n\n          if (texture.loaded) {\n\n            width = texture.image.width;\n            height = texture.image.height;\n\n            if (this.width !== width) {\n              this.width = width;\n            }\n            if (this.height !== height) {\n              this.height = height;\n            }\n\n            this.fill = texture;\n\n            if (index >= this._lastFrame - 1 && this._onLastFrame) {\n              this._onLastFrame();  // Shortcut for chainable sprite animations\n            }\n\n          }\n\n        }\n\n      } else if (!(this.fill instanceof Two.Texture)) {\n\n        texture = effects[this._index];\n\n        if (texture.loaded) {\n\n          width = texture.image.width;\n          height = texture.image.height;\n\n          if (this.width !== width) {\n            this.width = width;\n          }\n          if (this.height !== height) {\n            this.height = height;\n          }\n\n          this.fill = texture;\n\n        }\n\n      }\n\n      Rectangle.prototype._update.call(this);\n\n      return this;\n\n    },\n\n    flagReset: function() {\n\n      this._flagTextures = this._flagFrameRate = false;\n      Rectangle.prototype.flagReset.call(this);\n\n      return this;\n\n    }\n\n  });\n\n  ImageSequence.MakeObservable(ImageSequence.prototype);\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n(function(Two) {\n\n  /**\n   * Constants\n   */\n  var min = Math.min, max = Math.max;\n  var _ = Two.Utils;\n\n  /**\n   * A children collection which is accesible both by index and by object id\n   * @constructor\n   */\n  var Children = function() {\n\n    Two.Utils.Collection.apply(this, arguments);\n\n    Object.defineProperty(this, '_events', {\n      value : {},\n      enumerable: false\n    });\n\n    this.ids = {};\n\n    this.on(Two.Events.insert, this.attach);\n    this.on(Two.Events.remove, this.detach);\n    Children.prototype.attach.apply(this, arguments);\n\n  };\n\n  Children.prototype = new Two.Utils.Collection();\n  Children.prototype.constructor = Children;\n\n  _.extend(Children.prototype, {\n\n    attach: function(children) {\n      for (var i = 0; i < children.length; i++) {\n        this.ids[children[i].id] = children[i];\n      }\n      return this;\n    },\n\n    detach: function(children) {\n      for (var i = 0; i < children.length; i++) {\n        delete this.ids[children[i].id];\n      }\n      return this;\n    }\n\n  });\n\n  var Group = Two.Group = function() {\n\n    Two.Shape.call(this, true);\n\n    this._renderer.type = 'group';\n\n    this.additions = [];\n    this.subtractions = [];\n\n    this.children = arguments;\n\n  };\n\n  _.extend(Group, {\n\n    Children: Children,\n\n    InsertChildren: function(children) {\n      for (var i = 0; i < children.length; i++) {\n        replaceParent.call(this, children[i], this);\n      }\n    },\n\n    RemoveChildren: function(children) {\n      for (var i = 0; i < children.length; i++) {\n        replaceParent.call(this, children[i]);\n      }\n    },\n\n    OrderChildren: function(children) {\n      this._flagOrder = true;\n    },\n\n    MakeObservable: function(object) {\n\n      var properties = Two.Path.Properties.slice(0);\n      var oi = _.indexOf(properties, 'opacity');\n\n      if (oi >= 0) {\n\n        properties.splice(oi, 1);\n\n        Object.defineProperty(object, 'opacity', {\n\n          enumerable: true,\n\n          get: function() {\n            return this._opacity;\n          },\n\n          set: function(v) {\n            // Only set flag if there is an actual difference\n            this._flagOpacity = (this._opacity != v);\n            this._opacity = v;\n          }\n\n        });\n\n      }\n\n      Two.Shape.MakeObservable(object);\n      Group.MakeGetterSetters(object, properties);\n\n      Object.defineProperty(object, 'children', {\n\n        enumerable: true,\n\n        get: function() {\n          return this._children;\n        },\n\n        set: function(children) {\n\n          var insertChildren = _.bind(Group.InsertChildren, this);\n          var removeChildren = _.bind(Group.RemoveChildren, this);\n          var orderChildren = _.bind(Group.OrderChildren, this);\n\n          if (this._children) {\n            this._children.unbind();\n          }\n\n          this._children = new Children(children);\n          this._children.bind(Two.Events.insert, insertChildren);\n          this._children.bind(Two.Events.remove, removeChildren);\n          this._children.bind(Two.Events.order, orderChildren);\n\n        }\n\n      });\n\n      Object.defineProperty(object, 'mask', {\n\n        enumerable: true,\n\n        get: function() {\n          return this._mask;\n        },\n\n        set: function(v) {\n          this._mask = v;\n          this._flagMask = true;\n          if (!v.clip) {\n            v.clip = true;\n          }\n        }\n\n      });\n\n    },\n\n    MakeGetterSetters: function(group, properties) {\n\n      if (!_.isArray(properties)) {\n        properties = [properties];\n      }\n\n      _.each(properties, function(k) {\n        Group.MakeGetterSetter(group, k);\n      });\n\n    },\n\n    MakeGetterSetter: function(group, k) {\n\n      var secret = '_' + k;\n\n      Object.defineProperty(group, k, {\n\n        enumerable: true,\n\n        get: function() {\n          return this[secret];\n        },\n\n        set: function(v) {\n          this[secret] = v;\n          _.each(this.children, function(child) { // Trickle down styles\n            child[k] = v;\n          });\n        }\n\n      });\n\n    }\n\n  });\n\n  _.extend(Group.prototype, Two.Shape.prototype, {\n\n    // Flags\n    // http://en.wikipedia.org/wiki/Flag\n\n    _flagAdditions: false,\n    _flagSubtractions: false,\n    _flagOrder: false,\n    _flagOpacity: true,\n\n    _flagMask: false,\n\n    // Underlying Properties\n\n    _fill: '#fff',\n    _stroke: '#000',\n    _linewidth: 1.0,\n    _opacity: 1.0,\n    _visible: true,\n\n    _cap: 'round',\n    _join: 'round',\n    _miter: 4,\n\n    _closed: true,\n    _curved: false,\n    _automatic: true,\n    _beginning: 0,\n    _ending: 1.0,\n\n    _mask: null,\n\n    /**\n     * TODO: Group has a gotcha in that it's at the moment required to be bound to\n     * an instance of two in order to add elements correctly. This needs to\n     * be rethought and fixed.\n     */\n    clone: function(parent) {\n\n      parent = parent || this.parent;\n\n      var group = new Group();\n      var children = _.map(this.children, function(child) {\n        return child.clone(group);\n      });\n\n      group.add(children);\n\n      group.opacity = this.opacity;\n\n      if (this.mask) {\n        group.mask = this.mask;\n      }\n\n      group.translation.copy(this.translation);\n      group.rotation = this.rotation;\n      group.scale = this.scale;\n\n      if (parent) {\n        parent.add(group);\n      }\n\n      return group;\n\n    },\n\n    /**\n     * Export the data from the instance of Two.Group into a plain JavaScript\n     * object. This also makes all children plain JavaScript objects. Great\n     * for turning into JSON and storing in a database.\n     */\n    toObject: function() {\n\n      var result = {\n        children: [],\n        translation: this.translation.toObject(),\n        rotation: this.rotation,\n        scale: this.scale,\n        opacity: this.opacity,\n        mask: (this.mask ? this.mask.toObject() : null)\n      };\n\n      _.each(this.children, function(child, i) {\n        result.children[i] = child.toObject();\n      }, this);\n\n      return result;\n\n    },\n\n    /**\n     * Anchor all children to the upper left hand corner\n     * of the group.\n     */\n    corner: function() {\n\n      var rect = this.getBoundingClientRect(true),\n       corner = { x: rect.left, y: rect.top };\n\n      this.children.forEach(function(child) {\n        child.translation.subSelf(corner);\n      });\n\n      return this;\n\n    },\n\n    /**\n     * Anchors all children around the center of the group,\n     * effectively placing the shape around the unit circle.\n     */\n    center: function() {\n\n      var rect = this.getBoundingClientRect(true);\n\n      rect.centroid = {\n        x: rect.left + rect.width / 2,\n        y: rect.top + rect.height / 2\n      };\n\n      this.children.forEach(function(child) {\n        if (child.isShape) {\n          child.translation.subSelf(rect.centroid);\n        }\n      });\n\n      // this.translation.copy(rect.centroid);\n\n      return this;\n\n    },\n\n    /**\n     * Recursively search for id. Returns the first element found.\n     * Returns null if none found.\n     */\n    getById: function (id) {\n      var search = function (node, id) {\n        if (node.id === id) {\n          return node;\n        } else if (node.children) {\n          var i = node.children.length;\n          while (i--) {\n            var found = search(node.children[i], id);\n            if (found) return found;\n          }\n        }\n\n      };\n      return search(this, id) || null;\n    },\n\n    /**\n     * Recursively search for classes. Returns an array of matching elements.\n     * Empty array if none found.\n     */\n    getByClassName: function (cl) {\n      var found = [];\n      var search = function (node, cl) {\n        if (node.classList.indexOf(cl) != -1) {\n          found.push(node);\n        } else if (node.children) {\n          node.children.forEach(function (child) {\n            search(child, cl);\n          });\n        }\n        return found;\n      };\n      return search(this, cl);\n    },\n\n    /**\n     * Recursively search for children of a specific type,\n     * e.g. Two.Polygon. Pass a reference to this type as the param.\n     * Returns an empty array if none found.\n     */\n    getByType: function(type) {\n      var found = [];\n      var search = function (node, type) {\n        for (var id in node.children) {\n          if (node.children[id] instanceof type) {\n            found.push(node.children[id]);\n          } else if (node.children[id] instanceof Two.Group) {\n            search(node.children[id], type);\n          }\n        }\n        return found;\n      };\n      return search(this, type);\n    },\n\n    /**\n     * Add objects to the group.\n     */\n    add: function(objects) {\n\n      // Allow to pass multiple objects either as array or as multiple arguments\n      // If it's an array also create copy of it in case we're getting passed\n      // a childrens array directly.\n      if (!(objects instanceof Array)) {\n        objects = _.toArray(arguments);\n      } else {\n        objects = objects.slice();\n      }\n\n      // Add the objects\n      for (var i = 0; i < objects.length; i++) {\n        if (!(objects[i] && objects[i].id)) continue;\n        this.children.push(objects[i]);\n      }\n\n      return this;\n\n    },\n\n    /**\n     * Remove objects from the group.\n     */\n    remove: function(objects) {\n\n      var l = arguments.length,\n        grandparent = this.parent;\n\n      // Allow to call remove without arguments\n      // This will detach the object from the scene.\n      if (l <= 0 && grandparent) {\n        grandparent.remove(this);\n        return this;\n      }\n\n      // Allow to pass multiple objects either as array or as multiple arguments\n      // If it's an array also create copy of it in case we're getting passed\n      // a childrens array directly.\n      if (!(objects instanceof Array)) {\n        objects = _.toArray(arguments);\n      } else {\n        objects = objects.slice();\n      }\n\n      // Remove the objects\n      for (var i = 0; i < objects.length; i++) {\n        if (!objects[i] || !(this.children.ids[objects[i].id])) continue;\n        this.children.splice(_.indexOf(this.children, objects[i]), 1);\n      }\n\n      return this;\n\n    },\n\n    /**\n     * Return an object with top, left, right, bottom, width, and height\n     * parameters of the group.\n     */\n    getBoundingClientRect: function(shallow) {\n      var rect;\n\n      // TODO: Update this to not __always__ update. Just when it needs to.\n      this._update(true);\n\n      // Variables need to be defined here, because of nested nature of groups.\n      var left = Infinity, right = -Infinity,\n          top = Infinity, bottom = -Infinity;\n\n      this.children.forEach(function(child) {\n\n        if (/(linear-gradient|radial-gradient|gradient)/.test(child._renderer.type)) {\n          return;\n        }\n\n        rect = child.getBoundingClientRect(shallow);\n\n        if (!_.isNumber(rect.top)   || !_.isNumber(rect.left)   ||\n            !_.isNumber(rect.right) || !_.isNumber(rect.bottom)) {\n          return;\n        }\n\n        top = min(rect.top, top);\n        left = min(rect.left, left);\n        right = max(rect.right, right);\n        bottom = max(rect.bottom, bottom);\n\n      }, this);\n\n      return {\n        top: top,\n        left: left,\n        right: right,\n        bottom: bottom,\n        width: right - left,\n        height: bottom - top\n      };\n\n    },\n\n    /**\n     * Trickle down of noFill\n     */\n    noFill: function() {\n      this.children.forEach(function(child) {\n        child.noFill();\n      });\n      return this;\n    },\n\n    /**\n     * Trickle down of noStroke\n     */\n    noStroke: function() {\n      this.children.forEach(function(child) {\n        child.noStroke();\n      });\n      return this;\n    },\n\n    /**\n     * Trickle down subdivide\n     */\n    subdivide: function() {\n      var args = arguments;\n      this.children.forEach(function(child) {\n        child.subdivide.apply(child, args);\n      });\n      return this;\n    },\n\n    flagReset: function() {\n\n      if (this._flagAdditions) {\n        this.additions.length = 0;\n        this._flagAdditions = false;\n      }\n\n      if (this._flagSubtractions) {\n        this.subtractions.length = 0;\n        this._flagSubtractions = false;\n      }\n\n      this._flagOrder = this._flagMask = this._flagOpacity = false;\n\n      Two.Shape.prototype.flagReset.call(this);\n\n      return this;\n\n    }\n\n  });\n\n  Group.MakeObservable(Group.prototype);\n\n  /**\n   * Helper function used to sync parent-child relationship within the\n   * `Two.Group.children` object.\n   *\n   * Set the parent of the passed object to another object\n   * and updates parent-child relationships\n   * Calling with one arguments will simply remove the parenting\n   */\n  function replaceParent(child, newParent) {\n\n    var parent = child.parent;\n    var index;\n\n    if (parent === newParent) {\n      this.additions.push(child);\n      this._flagAdditions = true;\n      return;\n    }\n\n    if (parent && parent.children.ids[child.id]) {\n\n      index = _.indexOf(parent.children, child);\n      parent.children.splice(index, 1);\n\n      // If we're passing from one parent to another...\n      index = _.indexOf(parent.additions, child);\n\n      if (index >= 0) {\n        parent.additions.splice(index, 1);\n      } else {\n        parent.subtractions.push(child);\n        parent._flagSubtractions = true;\n      }\n\n    }\n\n    if (newParent) {\n      child.parent = newParent;\n      this.additions.push(child);\n      this._flagAdditions = true;\n      return;\n    }\n\n    // If we're passing from one parent to another...\n    index = _.indexOf(this.additions, child);\n\n    if (index >= 0) {\n      this.additions.splice(index, 1);\n    } else {\n      this.subtractions.push(child);\n      this._flagSubtractions = true;\n    }\n\n    delete child.parent;\n\n  }\n\n})((typeof global !== 'undefined' ? global : this).Two);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/two.js/build/two.js\n// module id = 133\n// module chunks = 0"],"sourceRoot":""}